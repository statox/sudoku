import{s as _e,f as _,J as je,g as h,d as f,j as C,I as u,G as ee,a as G,l as F,e as ae,c as D,h as T,m as J,i as w,y as K,n as Q,K as qe,C as Me,D as Ge,o as Qe,L as De,E as We,H as te}from"../chunks/scheduler.193db7c4.js";import{S as Fe,i as Je,b as he,d as me,m as pe,t as Z,c as ze,a as W,e as ve,g as Ke}from"../chunks/index.9bea933b.js";import{a as Ie}from"../chunks/store.8b4149bb.js";import{p as Xe}from"../chunks/stores.f3c13f42.js";import{d as we,S as Ye,g as Oe,u as Ze,r as $e,s as xe,p as et,a as tt,b as lt,c as ye,G as nt,e as ot}from"../chunks/GridStatus.a9278896.js";import{g as Ue,a as st}from"../chunks/helpers.cdbb9c15.js";import{b as rt}from"../chunks/paths.c2750152.js";function it(n){let t,o,r,i,e,l;return document.title=t=n[0],{c(){o=_("meta"),r=_("link"),i=_("meta"),e=_("meta"),l=_("meta"),this.h()},l(c){const a=je("svelte-illghk",document.head);o=h(a,"META",{name:!0,content:!0}),r=h(a,"LINK",{rel:!0,href:!0}),i=h(a,"META",{name:!0,content:!0}),e=h(a,"META",{name:!0,content:!0}),l=h(a,"META",{name:!0,content:!0}),a.forEach(f),this.h()},h(){C(o,"name","description"),C(o,"content",n[1]),C(r,"rel","apple-touch-icon"),C(r,"href",n[2]),C(i,"name","apple-mobile-web-app-title"),C(i,"content",n[0]),C(e,"name","apple-mobile-web-app-capable"),C(e,"content","yes"),C(l,"name","apple-mobile-web-app-status-bar-style"),C(l,"content","black")},m(c,a){u(document.head,o),u(document.head,r),u(document.head,i),u(document.head,e),u(document.head,l)},p(c,[a]){a&1&&t!==(t=c[0])&&(document.title=t),a&2&&C(o,"content",c[1]),a&4&&C(r,"href",c[2]),a&1&&C(i,"content",c[0])},i:ee,o:ee,d(c){f(o),f(r),f(i),f(e),f(l)}}}function at(n,t,o){let{title:r}=t,{description:i}=t,{iconPath:e=`${rt}/favicon.png`}=t;return n.$$set=l=>{"title"in l&&o(0,r=l.title),"description"in l&&o(1,i=l.description),"iconPath"in l&&o(2,e=l.iconPath)},[r,i,e]}class ct extends Fe{constructor(t){super(),Je(this,t,at,it,_e,{title:0,description:1,iconPath:2})}}const Le="sudoku-game-grid-v1",ut=n=>{localStorage.setItem(Le,JSON.stringify(n))},ft=()=>{try{const n=localStorage.getItem(Le);return n?JSON.parse(n):void 0}catch{return}};function Be(n,t,o){const r=n.slice();return r[24]=t[o],r}function dt(n){let t,o,r="Notes controls",i,e,l,c=n[2]?"Disable":"Enable",a,k,g,E,S,p=n[3]?"Hide":"Display",y,B,L,I,j="Get hint",q,X,v=!n[2]&&Ae(n);return{c(){t=_("div"),o=_("h4"),o.textContent=r,i=G(),e=_("div"),l=_("button"),a=F(c),k=F(" notes auto-refresh"),g=G(),v&&v.c(),E=G(),S=_("button"),y=F(p),B=F(" hints"),L=G(),I=_("button"),I.textContent=j,this.h()},l(N){t=h(N,"DIV",{});var H=T(t);o=h(H,"H4",{"data-svelte-h":!0}),te(o)!=="svelte-8gx0az"&&(o.textContent=r),i=D(H),e=h(H,"DIV",{class:!0});var O=T(e);l=h(O,"BUTTON",{});var R=T(l);a=J(R,c),k=J(R," notes auto-refresh"),R.forEach(f),g=D(O),v&&v.l(O),E=D(O),S=h(O,"BUTTON",{});var U=T(S);y=J(U,p),B=J(U," hints"),U.forEach(f),L=D(O),I=h(O,"BUTTON",{"data-svelte-h":!0}),te(I)!=="svelte-1fief3"&&(I.textContent=j),O.forEach(f),H.forEach(f),this.h()},h(){C(e,"class","notes-controls svelte-1w4kpbt")},m(N,H){w(N,t,H),u(t,o),u(t,i),u(t,e),u(e,l),u(l,a),u(l,k),u(e,g),v&&v.m(e,null),u(e,E),u(e,S),u(S,y),u(S,B),u(e,L),u(e,I),q||(X=[K(l,"click",n[17]),K(S,"click",n[19]),K(I,"click",n[20])],q=!0)},p(N,H){H&4&&c!==(c=N[2]?"Disable":"Enable")&&Q(a,c),N[2]?v&&(v.d(1),v=null):v?v.p(N,H):(v=Ae(N),v.c(),v.m(e,E)),H&8&&p!==(p=N[3]?"Hide":"Display")&&Q(y,p)},d(N){N&&f(t),v&&v.d(),q=!1,Me(X)}}}function _t(n){let t,o,r="Indices",i,e,l,c="Jouer un indice",a,k;return{c(){t=_("div"),o=_("h4"),o.textContent=r,i=G(),e=_("div"),l=_("button"),l.textContent=c,this.h()},l(g){t=h(g,"DIV",{});var E=T(t);o=h(E,"H4",{"data-svelte-h":!0}),te(o)!=="svelte-o3n4z5"&&(o.textContent=r),i=D(E),e=h(E,"DIV",{class:!0});var S=T(e);l=h(S,"BUTTON",{"data-svelte-h":!0}),te(l)!=="svelte-cpfgru"&&(l.textContent=c),S.forEach(f),E.forEach(f),this.h()},h(){C(e,"class","indices-controls")},m(g,E){w(g,t,E),u(t,o),u(t,i),u(t,e),u(e,l),a||(k=K(l,"click",n[16]),a=!0)},p:ee,d(g){g&&f(t),a=!1,k()}}}function Ae(n){let t,o="Remove notes",r,i;return{c(){t=_("button"),t.textContent=o},l(e){t=h(e,"BUTTON",{"data-svelte-h":!0}),te(t)!=="svelte-16z5c15"&&(t.textContent=o)},m(e,l){w(e,t,l),r||(i=K(t,"click",n[18]),r=!0)},p:ee,d(e){e&&f(t),r=!1,i()}}}function Pe(n){let t,o,r,i;function e(){return n[21](n[24])}return{c(){t=_("button"),o=F(n[24]),this.h()},l(l){t=h(l,"BUTTON",{class:!0});var c=T(t);o=J(c,n[24]),c.forEach(f),this.h()},h(){C(t,"class","svelte-1w4kpbt"),De(t,"selected",n[5]===n[24])},m(l,c){w(l,t,c),u(t,o),r||(i=K(t,"click",e),r=!0)},p(l,c){n=l,c&32&&De(t,"selected",n[5]===n[24])},d(l){l&&f(t),r=!1,i()}}}function Re(n){let t,o;return t=new nt({props:{grid:n[0]}}),{c(){he(t.$$.fragment)},l(r){me(t.$$.fragment,r)},m(r,i){pe(t,r,i),o=!0},p(r,i){const e={};i&1&&(e.grid=r[0]),t.$set(e)},i(r){o||(W(t.$$.fragment,r),o=!0)},o(r){Z(t.$$.fragment,r),o=!1},d(r){ve(t,r)}}}function Ve(n){let t,o,r,i;t=new Ye({props:{gridErrors:Oe(n[0]),hints:n[1],grid:n[0]}}),t.$on("cellUpdate",n[7]),t.$on("computeCellNotes",n[8]);let e=!n[4]&&Re(n);return{c(){he(t.$$.fragment),o=G(),e&&e.c(),r=ae()},l(l){me(t.$$.fragment,l),o=D(l),e&&e.l(l),r=ae()},m(l,c){pe(t,l,c),w(l,o,c),e&&e.m(l,c),w(l,r,c),i=!0},p(l,c){const a={};c&1&&(a.gridErrors=Oe(l[0])),c&2&&(a.hints=l[1]),c&1&&(a.grid=l[0]),t.$set(a),l[4]?e&&(Ke(),Z(e,1,1,()=>{e=null}),ze()):e?(e.p(l,c),c&16&&W(e,1)):(e=Re(l),e.c(),W(e,1),e.m(r.parentNode,r))},i(l){i||(W(t.$$.fragment,l),W(e),i=!0)},o(l){Z(t.$$.fragment,l),Z(e),i=!1},d(l){l&&(f(o),f(r)),ve(t,l),e&&e.d(l)}}}function ht(n){let t,o,r,i,e=n[4]?"Contrôles de la grille":"Grid controls",l,c,a,k,g=n[4]?"Annuler":"Prev",E,S,p,y=n[4]?"Nouvelle grille":"New Grid",B,L,I,j=n[4]?"Résoudre":"Solve grid",q,X,v,N=n[4]?"Recommencer":"Reset grid",H,O,R,U,m,x=n[4]?"Surligner":"Highlight controls",le,ce,Y,ne,oe,se,be=n[0],$,z,ue,ke;t=new ct({props:{title:"Sudoku",description:"Play Sudoku"}});function ge(s,d){return s[4]?_t:dt}let re=ge(n),V=re(n),fe=Ie([1,2,3,4,5,6,7,8,9]),A=[];for(let s=0;s<9;s+=1)A[s]=Pe(Be(n,fe,s));let P=Ve(n);return{c(){he(t.$$.fragment),o=G(),r=_("div"),i=_("h4"),l=F(e),c=G(),a=_("div"),k=_("button"),E=F(g),S=G(),p=_("button"),B=F(y),L=G(),I=_("button"),q=F(j),X=G(),v=_("button"),H=F(N),O=G(),V.c(),R=G(),U=_("div"),m=_("h4"),le=F(x),ce=G(),Y=_("div");for(let s=0;s<9;s+=1)A[s].c();ne=G(),oe=_("br"),se=G(),P.c(),$=ae(),this.h()},l(s){me(t.$$.fragment,s),o=D(s),r=h(s,"DIV",{});var d=T(r);i=h(d,"H4",{});var b=T(i);l=J(b,e),b.forEach(f),c=D(d),a=h(d,"DIV",{class:!0});var M=T(a);k=h(M,"BUTTON",{});var Ee=T(k);E=J(Ee,g),Ee.forEach(f),S=D(M),p=h(M,"BUTTON",{});var Ne=T(p);B=J(Ne,y),Ne.forEach(f),L=D(M),I=h(M,"BUTTON",{});var Ce=T(I);q=J(Ce,j),Ce.forEach(f),X=D(M),v=h(M,"BUTTON",{});var Te=T(v);H=J(Te,N),Te.forEach(f),M.forEach(f),d.forEach(f),O=D(s),V.l(s),R=D(s),U=h(s,"DIV",{});var ie=T(U);m=h(ie,"H4",{});var Se=T(m);le=J(Se,x),Se.forEach(f),ce=D(ie),Y=h(ie,"DIV",{class:!0});var He=T(Y);for(let de=0;de<9;de+=1)A[de].l(He);He.forEach(f),ie.forEach(f),ne=D(s),oe=h(s,"BR",{}),se=D(s),P.l(s),$=ae(),this.h()},h(){C(a,"class","grid-controls svelte-1w4kpbt"),C(Y,"class","highlights-controls svelte-1w4kpbt")},m(s,d){pe(t,s,d),w(s,o,d),w(s,r,d),u(r,i),u(i,l),u(r,c),u(r,a),u(a,k),u(k,E),u(a,S),u(a,p),u(p,B),u(a,L),u(a,I),u(I,q),u(a,X),u(a,v),u(v,H),w(s,O,d),V.m(s,d),w(s,R,d),w(s,U,d),u(U,m),u(m,le),u(U,ce),u(U,Y);for(let b=0;b<9;b+=1)A[b]&&A[b].m(Y,null);w(s,ne,d),w(s,oe,d),w(s,se,d),P.m(s,d),w(s,$,d),z=!0,ue||(ke=[K(k,"click",n[12]),K(p,"click",n[13]),K(I,"click",n[14]),K(v,"click",n[15])],ue=!0)},p(s,[d]){if((!z||d&16)&&e!==(e=s[4]?"Contrôles de la grille":"Grid controls")&&Q(l,e),(!z||d&16)&&g!==(g=s[4]?"Annuler":"Prev")&&Q(E,g),(!z||d&16)&&y!==(y=s[4]?"Nouvelle grille":"New Grid")&&Q(B,y),(!z||d&16)&&j!==(j=s[4]?"Résoudre":"Solve grid")&&Q(q,j),(!z||d&16)&&N!==(N=s[4]?"Recommencer":"Reset grid")&&Q(H,N),re===(re=ge(s))&&V?V.p(s,d):(V.d(1),V=re(s),V&&(V.c(),V.m(R.parentNode,R))),(!z||d&16)&&x!==(x=s[4]?"Surligner":"Highlight controls")&&Q(le,x),d&32){fe=Ie([1,2,3,4,5,6,7,8,9]);let b;for(b=0;b<9;b+=1){const M=Be(s,fe,b);A[b]?A[b].p(M,d):(A[b]=Pe(M),A[b].c(),A[b].m(Y,null))}for(;b<9;b+=1)A[b].d(1)}d&1&&_e(be,be=s[0])?(Ke(),Z(P,1,1,ee),ze(),P=Ve(s),P.c(),W(P,1),P.m($.parentNode,$)):P.p(s,d)},i(s){z||(W(t.$$.fragment,s),W(P),z=!0)},o(s){Z(t.$$.fragment,s),Z(P),z=!1},d(s){s&&(f(o),f(r),f(O),f(R),f(U),f(ne),f(oe),f(se),f($)),ve(t,s),V.d(s),qe(A,s),P.d(s),ue=!1,Me(ke)}}}function mt(n,t,o){let r,i;Ge(n,Xe,m=>o(22,r=m)),Ge(n,ye,m=>o(5,i=m));let e=Ue(),l=[];const c=[we(e)];let a=!1,k=!1,g=!1;const E=m=>{Ze(m.detail.cell,m.detail.update),p()},S=m=>{$e(e,m.detail.position),p()},p=m=>{a&&ot(e),k?L(e):o(1,l=[]),ut(e),o(0,e),!(m!=null&&m.noHistory)&&c.push(we(e))},y=()=>{o(0,e=xe(e)),p()},B=()=>{o(0,e=et(e)),p()},L=m=>{o(1,l=st(m))};return Qe(()=>{const m=ft();m&&o(0,e={...m}),o(4,g=r.url.searchParams.has("fr"))}),[e,l,a,k,g,i,c,E,S,p,y,B,()=>{o(0,e=c.pop()),p({noHistory:!0})},()=>{o(0,e=Ue()),p()},()=>{y(),p()},()=>{tt(e),p()},()=>{B()},()=>{o(2,a=!a),p()},()=>{lt(e),p()},()=>{o(3,k=!k),p()},()=>{B()},m=>{We(ye,i=i===m?void 0:m,i)}]}class Ct extends Fe{constructor(t){super(),Je(this,t,mt,ht,_e,{})}}export{Ct as component};
