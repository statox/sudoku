import{s as _e,f as h,K as Ke,g as m,d as f,j as b,I as u,G as te,a as S,l as M,e as ae,c as D,h as G,m as F,i as U,y as q,n as Q,J as Le,C as Fe,D as Ie,o as Qe,L as Se,E as We,H as le}from"../chunks/scheduler.23345331.js";import{S as ze,i as je,b as he,d as me,m as pe,t as $,c as qe,a as W,e as ve,g as Je}from"../chunks/index.9853a5a4.js";import{e as De}from"../chunks/each.1adf8f5c.js";import{p as Xe}from"../chunks/stores.c7d6f2cb.js";import{d as Ue,S as Ye,a as Be,e as Oe,u as Ze,f as $e,s as xe,p as et,r as tt,h as Ve,i as lt,G as st,j as nt,k as ot}from"../chunks/GridStatus.2748937d.js";import{g as we}from"../chunks/game.8225be0b.js";import{b as it}from"../chunks/paths.c7e2c21e.js";import{g as rt,s as at}from"../chunks/state.616c131c.js";function ct(n){let t,s,i,r,e,l;return document.title=t=n[0],{c(){s=h("meta"),i=h("link"),r=h("meta"),e=h("meta"),l=h("meta"),this.h()},l(c){const a=Ke("svelte-illghk",document.head);s=m(a,"META",{name:!0,content:!0}),i=m(a,"LINK",{rel:!0,href:!0}),r=m(a,"META",{name:!0,content:!0}),e=m(a,"META",{name:!0,content:!0}),l=m(a,"META",{name:!0,content:!0}),a.forEach(f),this.h()},h(){b(s,"name","description"),b(s,"content",n[1]),b(i,"rel","apple-touch-icon"),b(i,"href",n[2]),b(r,"name","apple-mobile-web-app-title"),b(r,"content",n[0]),b(e,"name","apple-mobile-web-app-capable"),b(e,"content","yes"),b(l,"name","apple-mobile-web-app-status-bar-style"),b(l,"content","black")},m(c,a){u(document.head,s),u(document.head,i),u(document.head,r),u(document.head,e),u(document.head,l)},p(c,[a]){a&1&&t!==(t=c[0])&&(document.title=t),a&2&&b(s,"content",c[1]),a&4&&b(i,"href",c[2]),a&1&&b(r,"content",c[0])},i:te,o:te,d(c){f(s),f(i),f(r),f(e),f(l)}}}function ut(n,t,s){let{title:i}=t,{description:r}=t,{iconPath:e=`${it}/favicon.png`}=t;return n.$$set=l=>{"title"in l&&s(0,i=l.title),"description"in l&&s(1,r=l.description),"iconPath"in l&&s(2,e=l.iconPath)},[i,r,e]}class ft extends ze{constructor(t){super(),je(this,t,ut,ct,_e,{title:0,description:1,iconPath:2})}}function Ae(n,t,s){const i=n.slice();return i[24]=t[s],i}function ye(n){let t,s,i,r;function e(){return n[16](n[24])}return{c(){t=h("button"),s=M(n[24]),this.h()},l(l){t=m(l,"BUTTON",{class:!0});var c=G(t);s=F(c,n[24]),c.forEach(f),this.h()},h(){b(t,"class","svelte-117fxst"),Se(t,"selected",n[5]===n[24])},m(l,c){U(l,t,c),u(t,s),i||(r=q(t,"click",e),i=!0)},p(l,c){n=l,c&32&&Se(t,"selected",n[5]===n[24])},d(l){l&&f(t),i=!1,r()}}}function Pe(n){let t,s;return t=new st({props:{grid:n[0]}}),{c(){he(t.$$.fragment)},l(i){me(t.$$.fragment,i)},m(i,r){pe(t,i,r),s=!0},p(i,r){const e={};r&1&&(e.grid=i[0]),t.$set(e)},i(i){s||(W(t.$$.fragment,i),s=!0)},o(i){$(t.$$.fragment,i),s=!1},d(i){ve(t,i)}}}function Re(n){let t,s,i,r;t=new Ye({props:{gridErrors:Be(n[0]),gridIsValid:Oe(n[0]),hints:n[1],grid:n[0]}}),t.$on("cellUpdate",n[7]),t.$on("computeCellNotes",n[8]);let e=!n[4]&&Pe(n);return{c(){he(t.$$.fragment),s=S(),e&&e.c(),i=ae()},l(l){me(t.$$.fragment,l),s=D(l),e&&e.l(l),i=ae()},m(l,c){pe(t,l,c),U(l,s,c),e&&e.m(l,c),U(l,i,c),r=!0},p(l,c){const a={};c&1&&(a.gridErrors=Be(l[0])),c&1&&(a.gridIsValid=Oe(l[0])),c&2&&(a.hints=l[1]),c&1&&(a.grid=l[0]),t.$set(a),l[4]?e&&(Je(),$(e,1,1,()=>{e=null}),qe()):e?(e.p(l,c),c&16&&W(e,1)):(e=Pe(l),e.c(),W(e,1),e.m(i.parentNode,i))},i(l){r||(W(t.$$.fragment,l),W(e),r=!0)},o(l){$(t.$$.fragment,l),$(e),r=!1},d(l){l&&(f(s),f(i)),ve(t,l),e&&e.d(l)}}}function dt(n){let t,s,i="Notes controls",r,e,l,c=n[2]?"Disable":"Enable",a,g,E,C,T,p=n[3]?"Hide":"Display",O,w,J,H,K="Get hint",L,X,v=!n[2]&&Me(n);return{c(){t=h("div"),s=h("h4"),s.textContent=i,r=S(),e=h("div"),l=h("button"),a=M(c),g=M(" notes auto-refresh"),E=S(),v&&v.c(),C=S(),T=h("button"),O=M(p),w=M(" hints"),J=S(),H=h("button"),H.textContent=K,this.h()},l(N){t=m(N,"DIV",{});var I=G(t);s=m(I,"H4",{"data-svelte-h":!0}),le(s)!=="svelte-8gx0az"&&(s.textContent=i),r=D(I),e=m(I,"DIV",{class:!0});var B=G(e);l=m(B,"BUTTON",{class:!0});var V=G(l);a=F(V,c),g=F(V," notes auto-refresh"),V.forEach(f),E=D(B),v&&v.l(B),C=D(B),T=m(B,"BUTTON",{class:!0});var z=G(T);O=F(z,p),w=F(z," hints"),z.forEach(f),J=D(B),H=m(B,"BUTTON",{class:!0,"data-svelte-h":!0}),le(H)!=="svelte-hb8uu8"&&(H.textContent=K),B.forEach(f),I.forEach(f),this.h()},h(){b(l,"class","svelte-117fxst"),b(T,"class","svelte-117fxst"),b(H,"class","svelte-117fxst"),b(e,"class","notes-controls svelte-117fxst")},m(N,I){U(N,t,I),u(t,s),u(t,r),u(t,e),u(e,l),u(l,a),u(l,g),u(e,E),v&&v.m(e,null),u(e,C),u(e,T),u(T,O),u(T,w),u(e,J),u(e,H),L||(X=[q(l,"click",n[18]),q(T,"click",n[20]),q(H,"click",n[21])],L=!0)},p(N,I){I&4&&c!==(c=N[2]?"Disable":"Enable")&&Q(a,c),N[2]?v&&(v.d(1),v=null):v?v.p(N,I):(v=Me(N),v.c(),v.m(e,C)),I&8&&p!==(p=N[3]?"Hide":"Display")&&Q(O,p)},d(N){N&&f(t),v&&v.d(),L=!1,Fe(X)}}}function _t(n){let t,s,i="Indices",r,e,l,c="Jouer un indice",a,g;return{c(){t=h("div"),s=h("h4"),s.textContent=i,r=S(),e=h("div"),l=h("button"),l.textContent=c},l(E){t=m(E,"DIV",{});var C=G(t);s=m(C,"H4",{"data-svelte-h":!0}),le(s)!=="svelte-o3n4z5"&&(s.textContent=i),r=D(C),e=m(C,"DIV",{});var T=G(e);l=m(T,"BUTTON",{"data-svelte-h":!0}),le(l)!=="svelte-1y5qldv"&&(l.textContent=c),T.forEach(f),C.forEach(f)},m(E,C){U(E,t,C),u(t,s),u(t,r),u(t,e),u(e,l),a||(g=q(l,"click",n[17]),a=!0)},p:te,d(E){E&&f(t),a=!1,g()}}}function Me(n){let t,s="Remove notes",i,r;return{c(){t=h("button"),t.textContent=s,this.h()},l(e){t=m(e,"BUTTON",{class:!0,"data-svelte-h":!0}),le(t)!=="svelte-ezm2ly"&&(t.textContent=s),this.h()},h(){b(t,"class","svelte-117fxst")},m(e,l){U(e,t,l),i||(r=q(t,"click",n[19]),i=!0)},p:te,d(e){e&&f(t),i=!1,r()}}}function ht(n){let t,s,i,r,e=n[4]?"Contrôles de la grille":"Grid controls",l,c,a,g,E=n[4]?"Annuler":"Prev",C,T,p,O=n[4]?"Nouvelle grille":"New Grid",w,J,H,K=n[4]?"Résoudre":"Solve grid",L,X,v,N=n[4]?"Recommencer":"Reset grid",I,B,V,z,_=n[4]?"Surligner":"Highlight controls",Y,ce,Z,se,ne,oe,be=n[0],x,ee,j,ue,ke;t=new ft({props:{title:"Sudoku",description:"Play Sudoku"}});let fe=De([1,2,3,4,5,6,7,8,9]),A=[];for(let o=0;o<9;o+=1)A[o]=ye(Ae(n,fe,o));let y=Re(n);function ge(o,d){return o[4]?_t:dt}let ie=ge(n),P=ie(n);return{c(){he(t.$$.fragment),s=S(),i=h("div"),r=h("h4"),l=M(e),c=S(),a=h("div"),g=h("button"),C=M(E),T=S(),p=h("button"),w=M(O),J=S(),H=h("button"),L=M(K),X=S(),v=h("button"),I=M(N),B=S(),V=h("div"),z=h("h4"),Y=M(_),ce=S(),Z=h("div");for(let o=0;o<9;o+=1)A[o].c();se=S(),ne=h("br"),oe=S(),y.c(),x=S(),P.c(),ee=ae(),this.h()},l(o){me(t.$$.fragment,o),s=D(o),i=m(o,"DIV",{});var d=G(i);r=m(d,"H4",{});var k=G(r);l=F(k,e),k.forEach(f),c=D(d),a=m(d,"DIV",{class:!0});var R=G(a);g=m(R,"BUTTON",{});var Ee=G(g);C=F(Ee,E),Ee.forEach(f),T=D(R),p=m(R,"BUTTON",{});var Ce=G(p);w=F(Ce,O),Ce.forEach(f),J=D(R),H=m(R,"BUTTON",{});var Ne=G(H);L=F(Ne,K),Ne.forEach(f),X=D(R),v=m(R,"BUTTON",{});var Te=G(v);I=F(Te,N),Te.forEach(f),R.forEach(f),d.forEach(f),B=D(o),V=m(o,"DIV",{});var re=G(V);z=m(re,"H4",{});var Ge=G(z);Y=F(Ge,_),Ge.forEach(f),ce=D(re),Z=m(re,"DIV",{class:!0});var He=G(Z);for(let de=0;de<9;de+=1)A[de].l(He);He.forEach(f),re.forEach(f),se=D(o),ne=m(o,"BR",{}),oe=D(o),y.l(o),x=D(o),P.l(o),ee=ae(),this.h()},h(){b(a,"class","grid-controls svelte-117fxst"),b(Z,"class","highlights-controls svelte-117fxst")},m(o,d){pe(t,o,d),U(o,s,d),U(o,i,d),u(i,r),u(r,l),u(i,c),u(i,a),u(a,g),u(g,C),u(a,T),u(a,p),u(p,w),u(a,J),u(a,H),u(H,L),u(a,X),u(a,v),u(v,I),U(o,B,d),U(o,V,d),u(V,z),u(z,Y),u(V,ce),u(V,Z);for(let k=0;k<9;k+=1)A[k]&&A[k].m(Z,null);U(o,se,d),U(o,ne,d),U(o,oe,d),y.m(o,d),U(o,x,d),P.m(o,d),U(o,ee,d),j=!0,ue||(ke=[q(g,"click",n[12]),q(p,"click",n[13]),q(H,"click",n[14]),q(v,"click",n[15])],ue=!0)},p(o,[d]){if((!j||d&16)&&e!==(e=o[4]?"Contrôles de la grille":"Grid controls")&&Q(l,e),(!j||d&16)&&E!==(E=o[4]?"Annuler":"Prev")&&Q(C,E),(!j||d&16)&&O!==(O=o[4]?"Nouvelle grille":"New Grid")&&Q(w,O),(!j||d&16)&&K!==(K=o[4]?"Résoudre":"Solve grid")&&Q(L,K),(!j||d&16)&&N!==(N=o[4]?"Recommencer":"Reset grid")&&Q(I,N),(!j||d&16)&&_!==(_=o[4]?"Surligner":"Highlight controls")&&Q(Y,_),d&32){fe=De([1,2,3,4,5,6,7,8,9]);let k;for(k=0;k<9;k+=1){const R=Ae(o,fe,k);A[k]?A[k].p(R,d):(A[k]=ye(R),A[k].c(),A[k].m(Z,null))}for(;k<9;k+=1)A[k].d(1)}d&1&&_e(be,be=o[0])?(Je(),$(y,1,1,te),qe(),y=Re(o),y.c(),W(y,1),y.m(x.parentNode,x)):y.p(o,d),ie===(ie=ge(o))&&P?P.p(o,d):(P.d(1),P=ie(o),P&&(P.c(),P.m(ee.parentNode,ee)))},i(o){j||(W(t.$$.fragment,o),W(y),j=!0)},o(o){$(t.$$.fragment,o),$(y),j=!1},d(o){o&&(f(s),f(i),f(B),f(V),f(se),f(ne),f(oe),f(x),f(ee)),ve(t,o),Le(A,o),y.d(o),P.d(o),ue=!1,Fe(ke)}}}function mt(n,t,s){let i,r;Ie(n,Xe,_=>s(22,i=_)),Ie(n,Ve,_=>s(5,r=_));let e=we(),l=[];const c=[Ue(e)];let a=!1,g=!1,E=!1;const C=_=>{Ze(_.detail.cell,_.detail.update),p()},T=_=>{$e(e,_.detail.position),p()},p=_=>{a&&nt(e),g?J(e):s(1,l=[]),at(e),s(0,e),!(_!=null&&_.noHistory)&&c.push(Ue(e))},O=()=>{s(0,e=xe(e)),p()},w=()=>{const{grid:_,hint:Y}=et(e);s(0,e=_),p(),Y&&s(1,l=[Y])},J=_=>{s(1,l=ot(_))};return Qe(()=>{const _=rt();_&&s(0,e={..._}),s(4,E=i.url.searchParams.has("fr"))}),[e,l,a,g,E,r,c,C,T,p,O,w,()=>{s(0,e=c.pop()),p({noHistory:!0})},()=>{s(0,e=we()),p()},()=>{O(),p()},()=>{tt(e),p()},_=>{We(Ve,r=r===_?void 0:_,r)},()=>{w()},()=>{s(2,a=!a),p()},()=>{lt(e),p()},()=>{s(3,g=!g),p()},()=>{w()}]}class Tt extends ze{constructor(t){super(),je(this,t,mt,ht,_e,{})}}export{Tt as component};
