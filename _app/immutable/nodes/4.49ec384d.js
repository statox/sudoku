import{s as _e,f as h,K as Le,g as m,d as f,j as b,I as u,G as ee,a as S,l as F,e as ae,c as D,h as G,m as z,i as U,y as J,n as W,J as qe,C as Fe,D as Ie,o as Qe,L as Se,E as We,H as te}from"../chunks/scheduler.23345331.js";import{S as ze,i as je,b as he,d as me,m as pe,t as $,c as Je,a as X,e as ve,g as Ke}from"../chunks/index.9853a5a4.js";import{e as De}from"../chunks/each.1adf8f5c.js";import{p as Xe}from"../chunks/stores.19a10a2a.js";import{d as Ue,S as Ye,a as Be,e as Oe,u as Ze,f as $e,s as xe,p as et,r as tt,h as lt,i as Ve,G as nt,j as st,k as ot}from"../chunks/GridStatus.ba6e1e04.js";import{g as we}from"../chunks/game.5cec1b56.js";import{b as it}from"../chunks/paths.ac6bc1c7.js";import{g as rt,s as at}from"../chunks/state.616c131c.js";function ct(s){let t,n,i,r,e,l;return document.title=t=s[0],{c(){n=h("meta"),i=h("link"),r=h("meta"),e=h("meta"),l=h("meta"),this.h()},l(c){const a=Le("svelte-illghk",document.head);n=m(a,"META",{name:!0,content:!0}),i=m(a,"LINK",{rel:!0,href:!0}),r=m(a,"META",{name:!0,content:!0}),e=m(a,"META",{name:!0,content:!0}),l=m(a,"META",{name:!0,content:!0}),a.forEach(f),this.h()},h(){b(n,"name","description"),b(n,"content",s[1]),b(i,"rel","apple-touch-icon"),b(i,"href",s[2]),b(r,"name","apple-mobile-web-app-title"),b(r,"content",s[0]),b(e,"name","apple-mobile-web-app-capable"),b(e,"content","yes"),b(l,"name","apple-mobile-web-app-status-bar-style"),b(l,"content","black")},m(c,a){u(document.head,n),u(document.head,i),u(document.head,r),u(document.head,e),u(document.head,l)},p(c,[a]){a&1&&t!==(t=c[0])&&(document.title=t),a&2&&b(n,"content",c[1]),a&4&&b(i,"href",c[2]),a&1&&b(r,"content",c[0])},i:ee,o:ee,d(c){f(n),f(i),f(r),f(e),f(l)}}}function ut(s,t,n){let{title:i}=t,{description:r}=t,{iconPath:e=`${it}/favicon.png`}=t;return s.$$set=l=>{"title"in l&&n(0,i=l.title),"description"in l&&n(1,r=l.description),"iconPath"in l&&n(2,e=l.iconPath)},[i,r,e]}class ft extends ze{constructor(t){super(),je(this,t,ut,ct,_e,{title:0,description:1,iconPath:2})}}function Ae(s,t,n){const i=s.slice();return i[24]=t[n],i}function dt(s){let t,n,i="Notes controls",r,e,l,c=s[2]?"Disable":"Enable",a,g,E,C,T,p=s[3]?"Hide":"Display",O,w,K,H,L="Get hint",q,Y,v=!s[2]&&Pe(s);return{c(){t=h("div"),n=h("h4"),n.textContent=i,r=S(),e=h("div"),l=h("button"),a=F(c),g=F(" notes auto-refresh"),E=S(),v&&v.c(),C=S(),T=h("button"),O=F(p),w=F(" hints"),K=S(),H=h("button"),H.textContent=L,this.h()},l(N){t=m(N,"DIV",{});var I=G(t);n=m(I,"H4",{"data-svelte-h":!0}),te(n)!=="svelte-8gx0az"&&(n.textContent=i),r=D(I),e=m(I,"DIV",{class:!0});var B=G(e);l=m(B,"BUTTON",{class:!0});var R=G(l);a=z(R,c),g=z(R," notes auto-refresh"),R.forEach(f),E=D(B),v&&v.l(B),C=D(B),T=m(B,"BUTTON",{class:!0});var V=G(T);O=z(V,p),w=z(V," hints"),V.forEach(f),K=D(B),H=m(B,"BUTTON",{class:!0,"data-svelte-h":!0}),te(H)!=="svelte-1fief3"&&(H.textContent=L),B.forEach(f),I.forEach(f),this.h()},h(){b(l,"class","svelte-18xml8n"),b(T,"class","svelte-18xml8n"),b(H,"class","svelte-18xml8n"),b(e,"class","notes-controls svelte-18xml8n")},m(N,I){U(N,t,I),u(t,n),u(t,r),u(t,e),u(e,l),u(l,a),u(l,g),u(e,E),v&&v.m(e,null),u(e,C),u(e,T),u(T,O),u(T,w),u(e,K),u(e,H),q||(Y=[J(l,"click",s[17]),J(T,"click",s[19]),J(H,"click",s[20])],q=!0)},p(N,I){I&4&&c!==(c=N[2]?"Disable":"Enable")&&W(a,c),N[2]?v&&(v.d(1),v=null):v?v.p(N,I):(v=Pe(N),v.c(),v.m(e,C)),I&8&&p!==(p=N[3]?"Hide":"Display")&&W(O,p)},d(N){N&&f(t),v&&v.d(),q=!1,Fe(Y)}}}function _t(s){let t,n,i="Indices",r,e,l,c="Jouer un indice",a,g;return{c(){t=h("div"),n=h("h4"),n.textContent=i,r=S(),e=h("div"),l=h("button"),l.textContent=c},l(E){t=m(E,"DIV",{});var C=G(t);n=m(C,"H4",{"data-svelte-h":!0}),te(n)!=="svelte-o3n4z5"&&(n.textContent=i),r=D(C),e=m(C,"DIV",{});var T=G(e);l=m(T,"BUTTON",{"data-svelte-h":!0}),te(l)!=="svelte-cpfgru"&&(l.textContent=c),T.forEach(f),C.forEach(f)},m(E,C){U(E,t,C),u(t,n),u(t,r),u(t,e),u(e,l),a||(g=J(l,"click",s[16]),a=!0)},p:ee,d(E){E&&f(t),a=!1,g()}}}function Pe(s){let t,n="Remove notes",i,r;return{c(){t=h("button"),t.textContent=n,this.h()},l(e){t=m(e,"BUTTON",{class:!0,"data-svelte-h":!0}),te(t)!=="svelte-16z5c15"&&(t.textContent=n),this.h()},h(){b(t,"class","svelte-18xml8n")},m(e,l){U(e,t,l),i||(r=J(t,"click",s[18]),i=!0)},p:ee,d(e){e&&f(t),i=!1,r()}}}function Re(s){let t,n,i,r;function e(){return s[21](s[24])}return{c(){t=h("button"),n=F(s[24]),this.h()},l(l){t=m(l,"BUTTON",{class:!0});var c=G(t);n=z(c,s[24]),c.forEach(f),this.h()},h(){b(t,"class","svelte-18xml8n"),Se(t,"selected",s[5]===s[24])},m(l,c){U(l,t,c),u(t,n),i||(r=J(t,"click",e),i=!0)},p(l,c){s=l,c&32&&Se(t,"selected",s[5]===s[24])},d(l){l&&f(t),i=!1,r()}}}function ye(s){let t,n;return t=new nt({props:{grid:s[0]}}),{c(){he(t.$$.fragment)},l(i){me(t.$$.fragment,i)},m(i,r){pe(t,i,r),n=!0},p(i,r){const e={};r&1&&(e.grid=i[0]),t.$set(e)},i(i){n||(X(t.$$.fragment,i),n=!0)},o(i){$(t.$$.fragment,i),n=!1},d(i){ve(t,i)}}}function Me(s){let t,n,i,r;t=new Ye({props:{gridErrors:Be(s[0]),gridIsValid:Oe(s[0]),hints:s[1],grid:s[0]}}),t.$on("cellUpdate",s[7]),t.$on("computeCellNotes",s[8]);let e=!s[4]&&ye(s);return{c(){he(t.$$.fragment),n=S(),e&&e.c(),i=ae()},l(l){me(t.$$.fragment,l),n=D(l),e&&e.l(l),i=ae()},m(l,c){pe(t,l,c),U(l,n,c),e&&e.m(l,c),U(l,i,c),r=!0},p(l,c){const a={};c&1&&(a.gridErrors=Be(l[0])),c&1&&(a.gridIsValid=Oe(l[0])),c&2&&(a.hints=l[1]),c&1&&(a.grid=l[0]),t.$set(a),l[4]?e&&(Ke(),$(e,1,1,()=>{e=null}),Je()):e?(e.p(l,c),c&16&&X(e,1)):(e=ye(l),e.c(),X(e,1),e.m(i.parentNode,i))},i(l){r||(X(t.$$.fragment,l),X(e),r=!0)},o(l){$(t.$$.fragment,l),$(e),r=!1},d(l){l&&(f(n),f(i)),ve(t,l),e&&e.d(l)}}}function ht(s){let t,n,i,r,e=s[4]?"Contrôles de la grille":"Grid controls",l,c,a,g,E=s[4]?"Annuler":"Prev",C,T,p,O=s[4]?"Nouvelle grille":"New Grid",w,K,H,L=s[4]?"Résoudre":"Solve grid",q,Y,v,N=s[4]?"Recommencer":"Reset grid",I,B,R,V,_,Q=s[4]?"Surligner":"Highlight controls",le,ce,Z,ne,se,oe,be=s[0],x,j,ue,ke;t=new ft({props:{title:"Sudoku",description:"Play Sudoku"}});function ge(o,d){return o[4]?_t:dt}let ie=ge(s),y=ie(s),fe=De([1,2,3,4,5,6,7,8,9]),A=[];for(let o=0;o<9;o+=1)A[o]=Re(Ae(s,fe,o));let P=Me(s);return{c(){he(t.$$.fragment),n=S(),i=h("div"),r=h("h4"),l=F(e),c=S(),a=h("div"),g=h("button"),C=F(E),T=S(),p=h("button"),w=F(O),K=S(),H=h("button"),q=F(L),Y=S(),v=h("button"),I=F(N),B=S(),y.c(),R=S(),V=h("div"),_=h("h4"),le=F(Q),ce=S(),Z=h("div");for(let o=0;o<9;o+=1)A[o].c();ne=S(),se=h("br"),oe=S(),P.c(),x=ae(),this.h()},l(o){me(t.$$.fragment,o),n=D(o),i=m(o,"DIV",{});var d=G(i);r=m(d,"H4",{});var k=G(r);l=z(k,e),k.forEach(f),c=D(d),a=m(d,"DIV",{class:!0});var M=G(a);g=m(M,"BUTTON",{});var Ee=G(g);C=z(Ee,E),Ee.forEach(f),T=D(M),p=m(M,"BUTTON",{});var Ce=G(p);w=z(Ce,O),Ce.forEach(f),K=D(M),H=m(M,"BUTTON",{});var Ne=G(H);q=z(Ne,L),Ne.forEach(f),Y=D(M),v=m(M,"BUTTON",{});var Te=G(v);I=z(Te,N),Te.forEach(f),M.forEach(f),d.forEach(f),B=D(o),y.l(o),R=D(o),V=m(o,"DIV",{});var re=G(V);_=m(re,"H4",{});var Ge=G(_);le=z(Ge,Q),Ge.forEach(f),ce=D(re),Z=m(re,"DIV",{class:!0});var He=G(Z);for(let de=0;de<9;de+=1)A[de].l(He);He.forEach(f),re.forEach(f),ne=D(o),se=m(o,"BR",{}),oe=D(o),P.l(o),x=ae(),this.h()},h(){b(a,"class","grid-controls svelte-18xml8n"),b(Z,"class","highlights-controls svelte-18xml8n")},m(o,d){pe(t,o,d),U(o,n,d),U(o,i,d),u(i,r),u(r,l),u(i,c),u(i,a),u(a,g),u(g,C),u(a,T),u(a,p),u(p,w),u(a,K),u(a,H),u(H,q),u(a,Y),u(a,v),u(v,I),U(o,B,d),y.m(o,d),U(o,R,d),U(o,V,d),u(V,_),u(_,le),u(V,ce),u(V,Z);for(let k=0;k<9;k+=1)A[k]&&A[k].m(Z,null);U(o,ne,d),U(o,se,d),U(o,oe,d),P.m(o,d),U(o,x,d),j=!0,ue||(ke=[J(g,"click",s[12]),J(p,"click",s[13]),J(H,"click",s[14]),J(v,"click",s[15])],ue=!0)},p(o,[d]){if((!j||d&16)&&e!==(e=o[4]?"Contrôles de la grille":"Grid controls")&&W(l,e),(!j||d&16)&&E!==(E=o[4]?"Annuler":"Prev")&&W(C,E),(!j||d&16)&&O!==(O=o[4]?"Nouvelle grille":"New Grid")&&W(w,O),(!j||d&16)&&L!==(L=o[4]?"Résoudre":"Solve grid")&&W(q,L),(!j||d&16)&&N!==(N=o[4]?"Recommencer":"Reset grid")&&W(I,N),ie===(ie=ge(o))&&y?y.p(o,d):(y.d(1),y=ie(o),y&&(y.c(),y.m(R.parentNode,R))),(!j||d&16)&&Q!==(Q=o[4]?"Surligner":"Highlight controls")&&W(le,Q),d&32){fe=De([1,2,3,4,5,6,7,8,9]);let k;for(k=0;k<9;k+=1){const M=Ae(o,fe,k);A[k]?A[k].p(M,d):(A[k]=Re(M),A[k].c(),A[k].m(Z,null))}for(;k<9;k+=1)A[k].d(1)}d&1&&_e(be,be=o[0])?(Ke(),$(P,1,1,ee),Je(),P=Me(o),P.c(),X(P,1),P.m(x.parentNode,x)):P.p(o,d)},i(o){j||(X(t.$$.fragment,o),X(P),j=!0)},o(o){$(t.$$.fragment,o),$(P),j=!1},d(o){o&&(f(n),f(i),f(B),f(R),f(V),f(ne),f(se),f(oe),f(x)),ve(t,o),y.d(o),qe(A,o),P.d(o),ue=!1,Fe(ke)}}}function mt(s,t,n){let i,r;Ie(s,Xe,_=>n(22,i=_)),Ie(s,Ve,_=>n(5,r=_));let e=we(),l=[];const c=[Ue(e)];let a=!1,g=!1,E=!1;const C=_=>{Ze(_.detail.cell,_.detail.update),p()},T=_=>{$e(e,_.detail.position),p()},p=_=>{a&&st(e),g?K(e):n(1,l=[]),at(e),n(0,e),!(_!=null&&_.noHistory)&&c.push(Ue(e))},O=()=>{n(0,e=xe(e)),p()},w=()=>{const{grid:_,hint:Q}=et(e);n(0,e=_),p(),Q&&n(1,l=[Q])},K=_=>{n(1,l=ot(_))};return Qe(()=>{const _=rt();_&&n(0,e={..._}),n(4,E=i.url.searchParams.has("fr"))}),[e,l,a,g,E,r,c,C,T,p,O,w,()=>{n(0,e=c.pop()),p({noHistory:!0})},()=>{n(0,e=we()),p()},()=>{O(),p()},()=>{tt(e),p()},()=>{w()},()=>{n(2,a=!a),p()},()=>{lt(e),p()},()=>{n(3,g=!g),p()},()=>{w()},_=>{We(Ve,r=r===_?void 0:_,r)}]}class Tt extends ze{constructor(t){super(),je(this,t,mt,ht,_e,{})}}export{Tt as component};
