import{s as _e,f as h,K as Le,g as m,d as f,j as N,I as u,G as ee,a as I,l as F,e as ae,c as S,h as T,m as z,i as D,y as J,n as W,J as qe,C as Fe,D as Ie,o as Qe,L as Se,E as We,H as te}from"../chunks/scheduler.b0d89b52.js";import{S as ze,i as je,b as he,d as me,m as pe,t as $,c as Je,a as X,e as ve,g as Ke}from"../chunks/index.a111de18.js";import{e as we}from"../chunks/each.dfd0d326.js";import{p as Xe}from"../chunks/stores.110c3405.js";import{d as De,S as Ye,a as Ue,e as Be,u as Ze,f as $e,s as xe,p as et,r as tt,h as lt,i as Oe,G as nt,j as ot,k as st}from"../chunks/GridStatus.850cc1d2.js";import{g as Ve}from"../chunks/game.91b70faf.js";import{e as it}from"../chunks/singletons.8ecd258f.js";import{g as rt,s as at}from"../chunks/state.616c131c.js";function ct(o){let t,n,i,r,e,l;return document.title=t=o[0],{c(){n=h("meta"),i=h("link"),r=h("meta"),e=h("meta"),l=h("meta"),this.h()},l(c){const a=Le("svelte-illghk",document.head);n=m(a,"META",{name:!0,content:!0}),i=m(a,"LINK",{rel:!0,href:!0}),r=m(a,"META",{name:!0,content:!0}),e=m(a,"META",{name:!0,content:!0}),l=m(a,"META",{name:!0,content:!0}),a.forEach(f),this.h()},h(){N(n,"name","description"),N(n,"content",o[1]),N(i,"rel","apple-touch-icon"),N(i,"href",o[2]),N(r,"name","apple-mobile-web-app-title"),N(r,"content",o[0]),N(e,"name","apple-mobile-web-app-capable"),N(e,"content","yes"),N(l,"name","apple-mobile-web-app-status-bar-style"),N(l,"content","black")},m(c,a){u(document.head,n),u(document.head,i),u(document.head,r),u(document.head,e),u(document.head,l)},p(c,[a]){a&1&&t!==(t=c[0])&&(document.title=t),a&2&&N(n,"content",c[1]),a&4&&N(i,"href",c[2]),a&1&&N(r,"content",c[0])},i:ee,o:ee,d(c){f(n),f(i),f(r),f(e),f(l)}}}function ut(o,t,n){let{title:i}=t,{description:r}=t,{iconPath:e=`${it}/favicon.png`}=t;return o.$$set=l=>{"title"in l&&n(0,i=l.title),"description"in l&&n(1,r=l.description),"iconPath"in l&&n(2,e=l.iconPath)},[i,r,e]}class ft extends ze{constructor(t){super(),je(this,t,ut,ct,_e,{title:0,description:1,iconPath:2})}}function Ae(o,t,n){const i=o.slice();return i[24]=t[n],i}function dt(o){let t,n,i="Notes controls",r,e,l,c=o[2]?"Disable":"Enable",a,b,g,E,G,p=o[3]?"Hide":"Display",B,V,K,w,L="Get hint",q,Y,v=!o[2]&&Pe(o);return{c(){t=h("div"),n=h("h4"),n.textContent=i,r=I(),e=h("div"),l=h("button"),a=F(c),b=F(" notes auto-refresh"),g=I(),v&&v.c(),E=I(),G=h("button"),B=F(p),V=F(" hints"),K=I(),w=h("button"),w.textContent=L,this.h()},l(C){t=m(C,"DIV",{});var H=T(t);n=m(H,"H4",{"data-svelte-h":!0}),te(n)!=="svelte-8gx0az"&&(n.textContent=i),r=S(H),e=m(H,"DIV",{class:!0});var U=T(e);l=m(U,"BUTTON",{});var R=T(l);a=z(R,c),b=z(R," notes auto-refresh"),R.forEach(f),g=S(U),v&&v.l(U),E=S(U),G=m(U,"BUTTON",{});var O=T(G);B=z(O,p),V=z(O," hints"),O.forEach(f),K=S(U),w=m(U,"BUTTON",{"data-svelte-h":!0}),te(w)!=="svelte-1fief3"&&(w.textContent=L),U.forEach(f),H.forEach(f),this.h()},h(){N(e,"class","notes-controls svelte-1w4kpbt")},m(C,H){D(C,t,H),u(t,n),u(t,r),u(t,e),u(e,l),u(l,a),u(l,b),u(e,g),v&&v.m(e,null),u(e,E),u(e,G),u(G,B),u(G,V),u(e,K),u(e,w),q||(Y=[J(l,"click",o[17]),J(G,"click",o[19]),J(w,"click",o[20])],q=!0)},p(C,H){H&4&&c!==(c=C[2]?"Disable":"Enable")&&W(a,c),C[2]?v&&(v.d(1),v=null):v?v.p(C,H):(v=Pe(C),v.c(),v.m(e,E)),H&8&&p!==(p=C[3]?"Hide":"Display")&&W(B,p)},d(C){C&&f(t),v&&v.d(),q=!1,Fe(Y)}}}function _t(o){let t,n,i="Indices",r,e,l,c="Jouer un indice",a,b;return{c(){t=h("div"),n=h("h4"),n.textContent=i,r=I(),e=h("div"),l=h("button"),l.textContent=c,this.h()},l(g){t=m(g,"DIV",{});var E=T(t);n=m(E,"H4",{"data-svelte-h":!0}),te(n)!=="svelte-o3n4z5"&&(n.textContent=i),r=S(E),e=m(E,"DIV",{class:!0});var G=T(e);l=m(G,"BUTTON",{"data-svelte-h":!0}),te(l)!=="svelte-cpfgru"&&(l.textContent=c),G.forEach(f),E.forEach(f),this.h()},h(){N(e,"class","indices-controls")},m(g,E){D(g,t,E),u(t,n),u(t,r),u(t,e),u(e,l),a||(b=J(l,"click",o[16]),a=!0)},p:ee,d(g){g&&f(t),a=!1,b()}}}function Pe(o){let t,n="Remove notes",i,r;return{c(){t=h("button"),t.textContent=n},l(e){t=m(e,"BUTTON",{"data-svelte-h":!0}),te(t)!=="svelte-16z5c15"&&(t.textContent=n)},m(e,l){D(e,t,l),i||(r=J(t,"click",o[18]),i=!0)},p:ee,d(e){e&&f(t),i=!1,r()}}}function Re(o){let t,n,i,r;function e(){return o[21](o[24])}return{c(){t=h("button"),n=F(o[24]),this.h()},l(l){t=m(l,"BUTTON",{class:!0});var c=T(t);n=z(c,o[24]),c.forEach(f),this.h()},h(){N(t,"class","svelte-1w4kpbt"),Se(t,"selected",o[5]===o[24])},m(l,c){D(l,t,c),u(t,n),i||(r=J(t,"click",e),i=!0)},p(l,c){o=l,c&32&&Se(t,"selected",o[5]===o[24])},d(l){l&&f(t),i=!1,r()}}}function ye(o){let t,n;return t=new nt({props:{grid:o[0]}}),{c(){he(t.$$.fragment)},l(i){me(t.$$.fragment,i)},m(i,r){pe(t,i,r),n=!0},p(i,r){const e={};r&1&&(e.grid=i[0]),t.$set(e)},i(i){n||(X(t.$$.fragment,i),n=!0)},o(i){$(t.$$.fragment,i),n=!1},d(i){ve(t,i)}}}function Me(o){let t,n,i,r;t=new Ye({props:{gridErrors:Ue(o[0]),gridIsValid:Be(o[0]),hints:o[1],grid:o[0]}}),t.$on("cellUpdate",o[7]),t.$on("computeCellNotes",o[8]);let e=!o[4]&&ye(o);return{c(){he(t.$$.fragment),n=I(),e&&e.c(),i=ae()},l(l){me(t.$$.fragment,l),n=S(l),e&&e.l(l),i=ae()},m(l,c){pe(t,l,c),D(l,n,c),e&&e.m(l,c),D(l,i,c),r=!0},p(l,c){const a={};c&1&&(a.gridErrors=Ue(l[0])),c&1&&(a.gridIsValid=Be(l[0])),c&2&&(a.hints=l[1]),c&1&&(a.grid=l[0]),t.$set(a),l[4]?e&&(Ke(),$(e,1,1,()=>{e=null}),Je()):e?(e.p(l,c),c&16&&X(e,1)):(e=ye(l),e.c(),X(e,1),e.m(i.parentNode,i))},i(l){r||(X(t.$$.fragment,l),X(e),r=!0)},o(l){$(t.$$.fragment,l),$(e),r=!1},d(l){l&&(f(n),f(i)),ve(t,l),e&&e.d(l)}}}function ht(o){let t,n,i,r,e=o[4]?"Contrôles de la grille":"Grid controls",l,c,a,b,g=o[4]?"Annuler":"Prev",E,G,p,B=o[4]?"Nouvelle grille":"New Grid",V,K,w,L=o[4]?"Résoudre":"Solve grid",q,Y,v,C=o[4]?"Recommencer":"Reset grid",H,U,R,O,_,Q=o[4]?"Surligner":"Highlight controls",le,ce,Z,ne,oe,se,ke=o[0],x,j,ue,be;t=new ft({props:{title:"Sudoku",description:"Play Sudoku"}});function ge(s,d){return s[4]?_t:dt}let ie=ge(o),y=ie(o),fe=we([1,2,3,4,5,6,7,8,9]),A=[];for(let s=0;s<9;s+=1)A[s]=Re(Ae(o,fe,s));let P=Me(o);return{c(){he(t.$$.fragment),n=I(),i=h("div"),r=h("h4"),l=F(e),c=I(),a=h("div"),b=h("button"),E=F(g),G=I(),p=h("button"),V=F(B),K=I(),w=h("button"),q=F(L),Y=I(),v=h("button"),H=F(C),U=I(),y.c(),R=I(),O=h("div"),_=h("h4"),le=F(Q),ce=I(),Z=h("div");for(let s=0;s<9;s+=1)A[s].c();ne=I(),oe=h("br"),se=I(),P.c(),x=ae(),this.h()},l(s){me(t.$$.fragment,s),n=S(s),i=m(s,"DIV",{});var d=T(i);r=m(d,"H4",{});var k=T(r);l=z(k,e),k.forEach(f),c=S(d),a=m(d,"DIV",{class:!0});var M=T(a);b=m(M,"BUTTON",{});var Ee=T(b);E=z(Ee,g),Ee.forEach(f),G=S(M),p=m(M,"BUTTON",{});var Ce=T(p);V=z(Ce,B),Ce.forEach(f),K=S(M),w=m(M,"BUTTON",{});var Ne=T(w);q=z(Ne,L),Ne.forEach(f),Y=S(M),v=m(M,"BUTTON",{});var Te=T(v);H=z(Te,C),Te.forEach(f),M.forEach(f),d.forEach(f),U=S(s),y.l(s),R=S(s),O=m(s,"DIV",{});var re=T(O);_=m(re,"H4",{});var Ge=T(_);le=z(Ge,Q),Ge.forEach(f),ce=S(re),Z=m(re,"DIV",{class:!0});var He=T(Z);for(let de=0;de<9;de+=1)A[de].l(He);He.forEach(f),re.forEach(f),ne=S(s),oe=m(s,"BR",{}),se=S(s),P.l(s),x=ae(),this.h()},h(){N(a,"class","grid-controls svelte-1w4kpbt"),N(Z,"class","highlights-controls svelte-1w4kpbt")},m(s,d){pe(t,s,d),D(s,n,d),D(s,i,d),u(i,r),u(r,l),u(i,c),u(i,a),u(a,b),u(b,E),u(a,G),u(a,p),u(p,V),u(a,K),u(a,w),u(w,q),u(a,Y),u(a,v),u(v,H),D(s,U,d),y.m(s,d),D(s,R,d),D(s,O,d),u(O,_),u(_,le),u(O,ce),u(O,Z);for(let k=0;k<9;k+=1)A[k]&&A[k].m(Z,null);D(s,ne,d),D(s,oe,d),D(s,se,d),P.m(s,d),D(s,x,d),j=!0,ue||(be=[J(b,"click",o[12]),J(p,"click",o[13]),J(w,"click",o[14]),J(v,"click",o[15])],ue=!0)},p(s,[d]){if((!j||d&16)&&e!==(e=s[4]?"Contrôles de la grille":"Grid controls")&&W(l,e),(!j||d&16)&&g!==(g=s[4]?"Annuler":"Prev")&&W(E,g),(!j||d&16)&&B!==(B=s[4]?"Nouvelle grille":"New Grid")&&W(V,B),(!j||d&16)&&L!==(L=s[4]?"Résoudre":"Solve grid")&&W(q,L),(!j||d&16)&&C!==(C=s[4]?"Recommencer":"Reset grid")&&W(H,C),ie===(ie=ge(s))&&y?y.p(s,d):(y.d(1),y=ie(s),y&&(y.c(),y.m(R.parentNode,R))),(!j||d&16)&&Q!==(Q=s[4]?"Surligner":"Highlight controls")&&W(le,Q),d&32){fe=we([1,2,3,4,5,6,7,8,9]);let k;for(k=0;k<9;k+=1){const M=Ae(s,fe,k);A[k]?A[k].p(M,d):(A[k]=Re(M),A[k].c(),A[k].m(Z,null))}for(;k<9;k+=1)A[k].d(1)}d&1&&_e(ke,ke=s[0])?(Ke(),$(P,1,1,ee),Je(),P=Me(s),P.c(),X(P,1),P.m(x.parentNode,x)):P.p(s,d)},i(s){j||(X(t.$$.fragment,s),X(P),j=!0)},o(s){$(t.$$.fragment,s),$(P),j=!1},d(s){s&&(f(n),f(i),f(U),f(R),f(O),f(ne),f(oe),f(se),f(x)),ve(t,s),y.d(s),qe(A,s),P.d(s),ue=!1,Fe(be)}}}function mt(o,t,n){let i,r;Ie(o,Xe,_=>n(22,i=_)),Ie(o,Oe,_=>n(5,r=_));let e=Ve(),l=[];const c=[De(e)];let a=!1,b=!1,g=!1;const E=_=>{Ze(_.detail.cell,_.detail.update),p()},G=_=>{$e(e,_.detail.position),p()},p=_=>{a&&ot(e),b?K(e):n(1,l=[]),at(e),n(0,e),!(_!=null&&_.noHistory)&&c.push(De(e))},B=()=>{n(0,e=xe(e)),p()},V=()=>{const{grid:_,hint:Q}=et(e);n(0,e=_),p(),Q&&n(1,l=[Q])},K=_=>{n(1,l=st(_))};return Qe(()=>{const _=rt();_&&n(0,e={..._}),n(4,g=i.url.searchParams.has("fr"))}),[e,l,a,b,g,r,c,E,G,p,B,V,()=>{n(0,e=c.pop()),p({noHistory:!0})},()=>{n(0,e=Ve()),p()},()=>{B(),p()},()=>{tt(e),p()},()=>{V()},()=>{n(2,a=!a),p()},()=>{lt(e),p()},()=>{n(3,b=!b),p()},()=>{V()},_=>{We(Oe,r=r===_?void 0:_,r)}]}class Tt extends ze{constructor(t){super(),je(this,t,mt,ht,_e,{})}}export{Tt as component};
