import{s as Fe,f as h,a as k,l as J,e as Te,g as v,h as y,H as U,c as b,d as _,m as K,j as ne,i as N,I as u,y as B,n as Ee,J as je,C as ze,D as qe,G as Re,K as He,E as Je}from"../chunks/scheduler.71239b2e.js";import{S as Ke,i as Le,t as oe,c as Me,a as re,b as De,d as ye,m as Ge,e as Se,g as Qe}from"../chunks/index.8ab45ecd.js";import{a as Ue}from"../chunks/store.fe58922c.js";import{d as ke,m as We,S as Xe,g as Be,G as Ye,u as Ze,r as xe,a as et,b as tt,s as Ie,c as lt}from"../chunks/GridStatus.3292aedf.js";import{g as Oe,a as st}from"../chunks/helpers.75e68be0.js";const nt=l=>{const e=ke(l);return Pe(e),e},Pe=l=>{for(let e=0;e<9;e++)for(let n=0;n<9;n++)if(l[e][n].value===void 0){for(let o=1;o<=9;o++)if(We(l,{row:e,col:n},o)){if(l[e][n].value=o,Pe(l))return!0;l[e][n].value=void 0}return!1}return!0};function we(l,e,n){const o=l.slice();return o[20]=e[n],o}function $e(l){let e,n="Remove notes",o,i;return{c(){e=h("button"),e.textContent=n},l(t){e=v(t,"BUTTON",{"data-svelte-h":!0}),U(e)!=="svelte-16z5c15"&&(e.textContent=n)},m(t,r){N(t,e,r),o||(i=B(e,"click",l[15]),o=!0)},p:Re,d(t){t&&_(e),o=!1,i()}}}function Ve(l){let e,n,o,i;function t(){return l[17](l[20])}return{c(){e=h("button"),n=J(l[20]),this.h()},l(r){e=v(r,"BUTTON",{class:!0});var d=y(e);n=K(d,l[20]),d.forEach(_),this.h()},h(){ne(e,"class","svelte-nkufn1"),He(e,"selected",l[4]===l[20])},m(r,d){N(r,e,d),u(e,n),o||(i=B(e,"click",t),o=!0)},p(r,d){l=r,d&16&&He(e,"selected",l[4]===l[20])},d(r){r&&_(e),o=!1,i()}}}function Ae(l){let e,n,o,i;return e=new Xe({props:{gridErrors:Be(l[0]),hints:l[1],grid:l[0]}}),e.$on("cellUpdate",l[6]),e.$on("computeCellNotes",l[7]),o=new Ye({props:{grid:l[0]}}),{c(){De(e.$$.fragment),n=k(),De(o.$$.fragment)},l(t){ye(e.$$.fragment,t),n=b(t),ye(o.$$.fragment,t)},m(t,r){Ge(e,t,r),N(t,n,r),Ge(o,t,r),i=!0},p(t,r){const d={};r&1&&(d.gridErrors=Be(t[0])),r&2&&(d.hints=t[1]),r&1&&(d.grid=t[0]),e.$set(d);const T={};r&1&&(T.grid=t[0]),o.$set(T)},i(t){i||(re(e.$$.fragment,t),re(o.$$.fragment,t),i=!0)},o(t){oe(e.$$.fragment,t),oe(o.$$.fragment,t),i=!1},d(t){t&&_(n),Se(e,t),Se(o,t)}}}function ot(l){let e,n,o="Grid controls",i,t,r,d="Prev",T,H,L="New Grid",p,E,M="Solve grid",Q,G,ie="Reset grid",j,D,I,ae="Notes controls",W,a,O,z=l[2]?"Disable":"Enable",X,ce,ue,Y,w,q=l[3]?"Hide":"Display",Z,fe,x,S,A,be="Highlights controls",_e,$,ee,te,le,Ce=l[0],F,R,de,ge,m=!l[2]&&$e(l),he=Ue([1,2,3,4,5,6,7,8,9]),C=[];for(let s=0;s<9;s+=1)C[s]=Ve(we(l,he,s));let g=Ae(l);return{c(){e=h("div"),n=h("h4"),n.textContent=o,i=k(),t=h("div"),r=h("button"),r.textContent=d,T=k(),H=h("button"),H.textContent=L,p=k(),E=h("button"),E.textContent=M,Q=k(),G=h("button"),G.textContent=ie,j=k(),D=h("div"),I=h("h4"),I.textContent=ae,W=k(),a=h("div"),O=h("button"),X=J(z),ce=J(" notes auto-refresh"),ue=k(),m&&m.c(),Y=k(),w=h("button"),Z=J(q),fe=J(" hints"),x=k(),S=h("div"),A=h("h4"),A.textContent=be,_e=k(),$=h("div");for(let s=0;s<9;s+=1)C[s].c();ee=k(),te=h("br"),le=k(),g.c(),F=Te(),this.h()},l(s){e=v(s,"DIV",{});var f=y(e);n=v(f,"H4",{"data-svelte-h":!0}),U(n)!=="svelte-1h8cvtc"&&(n.textContent=o),i=b(f),t=v(f,"DIV",{class:!0});var c=y(t);r=v(c,"BUTTON",{"data-svelte-h":!0}),U(r)!=="svelte-bivxk4"&&(r.textContent=d),T=b(c),H=v(c,"BUTTON",{"data-svelte-h":!0}),U(H)!=="svelte-1oh0e6u"&&(H.textContent=L),p=b(c),E=v(c,"BUTTON",{"data-svelte-h":!0}),U(E)!=="svelte-1wjgins"&&(E.textContent=M),Q=b(c),G=v(c,"BUTTON",{"data-svelte-h":!0}),U(G)!=="svelte-hocye6"&&(G.textContent=ie),c.forEach(_),f.forEach(_),j=b(s),D=v(s,"DIV",{});var V=y(D);I=v(V,"H4",{"data-svelte-h":!0}),U(I)!=="svelte-8gx0az"&&(I.textContent=ae),W=b(V),a=v(V,"DIV",{class:!0});var P=y(a);O=v(P,"BUTTON",{});var ve=y(O);X=K(ve,z),ce=K(ve," notes auto-refresh"),ve.forEach(_),ue=b(P),m&&m.l(P),Y=b(P),w=v(P,"BUTTON",{});var me=y(w);Z=K(me,q),fe=K(me," hints"),me.forEach(_),P.forEach(_),V.forEach(_),x=b(s),S=v(s,"DIV",{});var se=y(S);A=v(se,"H4",{"data-svelte-h":!0}),U(A)!=="svelte-hclwgd"&&(A.textContent=be),_e=b(se),$=v(se,"DIV",{class:!0});var Ne=y($);for(let pe=0;pe<9;pe+=1)C[pe].l(Ne);Ne.forEach(_),se.forEach(_),ee=b(s),te=v(s,"BR",{}),le=b(s),g.l(s),F=Te(),this.h()},h(){ne(t,"class","grid-controls svelte-nkufn1"),ne(a,"class","notes-controls svelte-nkufn1"),ne($,"class","highlights-controls svelte-nkufn1")},m(s,f){N(s,e,f),u(e,n),u(e,i),u(e,t),u(t,r),u(t,T),u(t,H),u(t,p),u(t,E),u(t,Q),u(t,G),N(s,j,f),N(s,D,f),u(D,I),u(D,W),u(D,a),u(a,O),u(O,X),u(O,ce),u(a,ue),m&&m.m(a,null),u(a,Y),u(a,w),u(w,Z),u(w,fe),N(s,x,f),N(s,S,f),u(S,A),u(S,_e),u(S,$);for(let c=0;c<9;c+=1)C[c]&&C[c].m($,null);N(s,ee,f),N(s,te,f),N(s,le,f),g.m(s,f),N(s,F,f),R=!0,de||(ge=[B(r,"click",l[10]),B(H,"click",l[11]),B(E,"click",l[12]),B(G,"click",l[13]),B(O,"click",l[14]),B(w,"click",l[16])],de=!0)},p(s,[f]){if((!R||f&4)&&z!==(z=s[2]?"Disable":"Enable")&&Ee(X,z),s[2]?m&&(m.d(1),m=null):m?m.p(s,f):(m=$e(s),m.c(),m.m(a,Y)),(!R||f&8)&&q!==(q=s[3]?"Hide":"Display")&&Ee(Z,q),f&16){he=Ue([1,2,3,4,5,6,7,8,9]);let c;for(c=0;c<9;c+=1){const V=we(s,he,c);C[c]?C[c].p(V,f):(C[c]=Ve(V),C[c].c(),C[c].m($,null))}for(;c<9;c+=1)C[c].d(1)}f&1&&Fe(Ce,Ce=s[0])?(Qe(),oe(g,1,1,Re),Me(),g=Ae(s),g.c(),re(g,1),g.m(F.parentNode,F)):g.p(s,f)},i(s){R||(re(g),R=!0)},o(s){oe(g),R=!1},d(s){s&&(_(e),_(j),_(D),_(x),_(S),_(ee),_(te),_(le),_(F)),m&&m.d(),je(C,s),g.d(s),de=!1,ze(ge)}}}function rt(l,e,n){let o;qe(l,Ie,a=>n(4,o=a));let i=Oe(),t=[];const r=[ke(i)];let d=!1,T=!1;const H=a=>{Ze(a.detail.cell,a.detail.update),p()},L=a=>{xe(i,a.detail.position),p()},p=a=>{d&&lt(i),T?M(i):n(1,t=[]),n(0,i),!(a!=null&&a.noHistory)&&r.push(ke(i))},E=()=>{n(0,i=nt(i)),p()},M=a=>{n(1,t=st(a))};return[i,t,d,T,o,r,H,L,p,E,()=>{n(0,i=r.pop()),p({noHistory:!0})},()=>{n(0,i=Oe()),p()},()=>{E(),p()},()=>{et(i),p()},()=>{n(2,d=!d),p()},()=>{tt(i),p()},()=>{n(3,T=!T),p()},a=>{Je(Ie,o=o===a?void 0:a,o)}]}class _t extends Ke{constructor(e){super(),Le(this,e,rt,ot,Fe,{})}}export{_t as component};
