import{s as _e,f as h,J as je,g as m,d as f,j as C,I as u,G as ee,a as H,l as F,e as ae,c as w,h as T,m as J,i as I,y as K,n as W,K as qe,C as Me,D as He,o as Qe,L as we,E as We,H as te}from"../chunks/scheduler.193db7c4.js";import{S as Fe,i as Je,b as he,d as me,m as pe,t as $,c as ze,a as X,e as ve,g as Ke}from"../chunks/index.9bea933b.js";import{a as De}from"../chunks/store.8b4149bb.js";import{p as Xe}from"../chunks/stores.2a10cb2e.js";import{d as Ie,S as Ye,g as Oe,u as Ze,r as $e,s as xe,p as et,a as tt,b as lt,c as ye,G as nt,e as ot}from"../chunks/GridStatus.b32d4dcc.js";import{g as Ue,a as st}from"../chunks/helpers.f1308f07.js";import{b as rt}from"../chunks/paths.54debe15.js";function it(n){let t,o,r,i,e,l;return document.title=t=n[0],{c(){o=h("meta"),r=h("link"),i=h("meta"),e=h("meta"),l=h("meta"),this.h()},l(c){const a=je("svelte-illghk",document.head);o=m(a,"META",{name:!0,content:!0}),r=m(a,"LINK",{rel:!0,href:!0}),i=m(a,"META",{name:!0,content:!0}),e=m(a,"META",{name:!0,content:!0}),l=m(a,"META",{name:!0,content:!0}),a.forEach(f),this.h()},h(){C(o,"name","description"),C(o,"content",n[1]),C(r,"rel","apple-touch-icon"),C(r,"href",n[2]),C(i,"name","apple-mobile-web-app-title"),C(i,"content",n[0]),C(e,"name","apple-mobile-web-app-capable"),C(e,"content","yes"),C(l,"name","apple-mobile-web-app-status-bar-style"),C(l,"content","black")},m(c,a){u(document.head,o),u(document.head,r),u(document.head,i),u(document.head,e),u(document.head,l)},p(c,[a]){a&1&&t!==(t=c[0])&&(document.title=t),a&2&&C(o,"content",c[1]),a&4&&C(r,"href",c[2]),a&1&&C(i,"content",c[0])},i:ee,o:ee,d(c){f(o),f(r),f(i),f(e),f(l)}}}function at(n,t,o){let{title:r}=t,{description:i}=t,{iconPath:e=`${rt}/favicon.png`}=t;return n.$$set=l=>{"title"in l&&o(0,r=l.title),"description"in l&&o(1,i=l.description),"iconPath"in l&&o(2,e=l.iconPath)},[r,i,e]}class ct extends Fe{constructor(t){super(),Je(this,t,at,it,_e,{title:0,description:1,iconPath:2})}}const Le="sudoku-game-grid-v1",ut=n=>{localStorage.setItem(Le,JSON.stringify(n))},ft=()=>{try{const n=localStorage.getItem(Le);return n?JSON.parse(n):void 0}catch{return}};function Be(n,t,o){const r=n.slice();return r[24]=t[o],r}function dt(n){let t,o,r="Notes controls",i,e,l,c=n[2]?"Disable":"Enable",a,k,g,E,S,p=n[3]?"Hide":"Display",y,B,L,D,j="Get hint",q,Y,v=!n[2]&&Ae(n);return{c(){t=h("div"),o=h("h4"),o.textContent=r,i=H(),e=h("div"),l=h("button"),a=F(c),k=F(" notes auto-refresh"),g=H(),v&&v.c(),E=H(),S=h("button"),y=F(p),B=F(" hints"),L=H(),D=h("button"),D.textContent=j,this.h()},l(N){t=m(N,"DIV",{});var G=T(t);o=m(G,"H4",{"data-svelte-h":!0}),te(o)!=="svelte-8gx0az"&&(o.textContent=r),i=w(G),e=m(G,"DIV",{class:!0});var O=T(e);l=m(O,"BUTTON",{});var R=T(l);a=J(R,c),k=J(R," notes auto-refresh"),R.forEach(f),g=w(O),v&&v.l(O),E=w(O),S=m(O,"BUTTON",{});var U=T(S);y=J(U,p),B=J(U," hints"),U.forEach(f),L=w(O),D=m(O,"BUTTON",{"data-svelte-h":!0}),te(D)!=="svelte-1fief3"&&(D.textContent=j),O.forEach(f),G.forEach(f),this.h()},h(){C(e,"class","notes-controls svelte-1w4kpbt")},m(N,G){I(N,t,G),u(t,o),u(t,i),u(t,e),u(e,l),u(l,a),u(l,k),u(e,g),v&&v.m(e,null),u(e,E),u(e,S),u(S,y),u(S,B),u(e,L),u(e,D),q||(Y=[K(l,"click",n[17]),K(S,"click",n[19]),K(D,"click",n[20])],q=!0)},p(N,G){G&4&&c!==(c=N[2]?"Disable":"Enable")&&W(a,c),N[2]?v&&(v.d(1),v=null):v?v.p(N,G):(v=Ae(N),v.c(),v.m(e,E)),G&8&&p!==(p=N[3]?"Hide":"Display")&&W(y,p)},d(N){N&&f(t),v&&v.d(),q=!1,Me(Y)}}}function _t(n){let t,o,r="Indices",i,e,l,c="Jouer un indice",a,k;return{c(){t=h("div"),o=h("h4"),o.textContent=r,i=H(),e=h("div"),l=h("button"),l.textContent=c,this.h()},l(g){t=m(g,"DIV",{});var E=T(t);o=m(E,"H4",{"data-svelte-h":!0}),te(o)!=="svelte-o3n4z5"&&(o.textContent=r),i=w(E),e=m(E,"DIV",{class:!0});var S=T(e);l=m(S,"BUTTON",{"data-svelte-h":!0}),te(l)!=="svelte-cpfgru"&&(l.textContent=c),S.forEach(f),E.forEach(f),this.h()},h(){C(e,"class","indices-controls")},m(g,E){I(g,t,E),u(t,o),u(t,i),u(t,e),u(e,l),a||(k=K(l,"click",n[16]),a=!0)},p:ee,d(g){g&&f(t),a=!1,k()}}}function Ae(n){let t,o="Remove notes",r,i;return{c(){t=h("button"),t.textContent=o},l(e){t=m(e,"BUTTON",{"data-svelte-h":!0}),te(t)!=="svelte-16z5c15"&&(t.textContent=o)},m(e,l){I(e,t,l),r||(i=K(t,"click",n[18]),r=!0)},p:ee,d(e){e&&f(t),r=!1,i()}}}function Pe(n){let t,o,r,i;function e(){return n[21](n[24])}return{c(){t=h("button"),o=F(n[24]),this.h()},l(l){t=m(l,"BUTTON",{class:!0});var c=T(t);o=J(c,n[24]),c.forEach(f),this.h()},h(){C(t,"class","svelte-1w4kpbt"),we(t,"selected",n[5]===n[24])},m(l,c){I(l,t,c),u(t,o),r||(i=K(t,"click",e),r=!0)},p(l,c){n=l,c&32&&we(t,"selected",n[5]===n[24])},d(l){l&&f(t),r=!1,i()}}}function Re(n){let t,o;return t=new nt({props:{grid:n[0]}}),{c(){he(t.$$.fragment)},l(r){me(t.$$.fragment,r)},m(r,i){pe(t,r,i),o=!0},p(r,i){const e={};i&1&&(e.grid=r[0]),t.$set(e)},i(r){o||(X(t.$$.fragment,r),o=!0)},o(r){$(t.$$.fragment,r),o=!1},d(r){ve(t,r)}}}function Ve(n){let t,o,r,i;t=new Ye({props:{gridErrors:Oe(n[0]),hints:n[1],grid:n[0]}}),t.$on("cellUpdate",n[7]),t.$on("computeCellNotes",n[8]);let e=!n[4]&&Re(n);return{c(){he(t.$$.fragment),o=H(),e&&e.c(),r=ae()},l(l){me(t.$$.fragment,l),o=w(l),e&&e.l(l),r=ae()},m(l,c){pe(t,l,c),I(l,o,c),e&&e.m(l,c),I(l,r,c),i=!0},p(l,c){const a={};c&1&&(a.gridErrors=Oe(l[0])),c&2&&(a.hints=l[1]),c&1&&(a.grid=l[0]),t.$set(a),l[4]?e&&(Ke(),$(e,1,1,()=>{e=null}),ze()):e?(e.p(l,c),c&16&&X(e,1)):(e=Re(l),e.c(),X(e,1),e.m(r.parentNode,r))},i(l){i||(X(t.$$.fragment,l),X(e),i=!0)},o(l){$(t.$$.fragment,l),$(e),i=!1},d(l){l&&(f(o),f(r)),ve(t,l),e&&e.d(l)}}}function ht(n){let t,o,r,i,e=n[4]?"Contrôles de la grille":"Grid controls",l,c,a,k,g=n[4]?"Annuler":"Prev",E,S,p,y=n[4]?"Nouvelle grille":"New Grid",B,L,D,j=n[4]?"Résoudre":"Solve grid",q,Y,v,N=n[4]?"Recommencer":"Reset grid",G,O,R,U,_,Q=n[4]?"Surligner":"Highlight controls",le,ce,Z,ne,oe,se,be=n[0],x,z,ue,ke;t=new ct({props:{title:"Sudoku",description:"Play Sudoku"}});function ge(s,d){return s[4]?_t:dt}let re=ge(n),V=re(n),fe=De([1,2,3,4,5,6,7,8,9]),A=[];for(let s=0;s<9;s+=1)A[s]=Pe(Be(n,fe,s));let P=Ve(n);return{c(){he(t.$$.fragment),o=H(),r=h("div"),i=h("h4"),l=F(e),c=H(),a=h("div"),k=h("button"),E=F(g),S=H(),p=h("button"),B=F(y),L=H(),D=h("button"),q=F(j),Y=H(),v=h("button"),G=F(N),O=H(),V.c(),R=H(),U=h("div"),_=h("h4"),le=F(Q),ce=H(),Z=h("div");for(let s=0;s<9;s+=1)A[s].c();ne=H(),oe=h("br"),se=H(),P.c(),x=ae(),this.h()},l(s){me(t.$$.fragment,s),o=w(s),r=m(s,"DIV",{});var d=T(r);i=m(d,"H4",{});var b=T(i);l=J(b,e),b.forEach(f),c=w(d),a=m(d,"DIV",{class:!0});var M=T(a);k=m(M,"BUTTON",{});var Ee=T(k);E=J(Ee,g),Ee.forEach(f),S=w(M),p=m(M,"BUTTON",{});var Ne=T(p);B=J(Ne,y),Ne.forEach(f),L=w(M),D=m(M,"BUTTON",{});var Ce=T(D);q=J(Ce,j),Ce.forEach(f),Y=w(M),v=m(M,"BUTTON",{});var Te=T(v);G=J(Te,N),Te.forEach(f),M.forEach(f),d.forEach(f),O=w(s),V.l(s),R=w(s),U=m(s,"DIV",{});var ie=T(U);_=m(ie,"H4",{});var Se=T(_);le=J(Se,Q),Se.forEach(f),ce=w(ie),Z=m(ie,"DIV",{class:!0});var Ge=T(Z);for(let de=0;de<9;de+=1)A[de].l(Ge);Ge.forEach(f),ie.forEach(f),ne=w(s),oe=m(s,"BR",{}),se=w(s),P.l(s),x=ae(),this.h()},h(){C(a,"class","grid-controls svelte-1w4kpbt"),C(Z,"class","highlights-controls svelte-1w4kpbt")},m(s,d){pe(t,s,d),I(s,o,d),I(s,r,d),u(r,i),u(i,l),u(r,c),u(r,a),u(a,k),u(k,E),u(a,S),u(a,p),u(p,B),u(a,L),u(a,D),u(D,q),u(a,Y),u(a,v),u(v,G),I(s,O,d),V.m(s,d),I(s,R,d),I(s,U,d),u(U,_),u(_,le),u(U,ce),u(U,Z);for(let b=0;b<9;b+=1)A[b]&&A[b].m(Z,null);I(s,ne,d),I(s,oe,d),I(s,se,d),P.m(s,d),I(s,x,d),z=!0,ue||(ke=[K(k,"click",n[12]),K(p,"click",n[13]),K(D,"click",n[14]),K(v,"click",n[15])],ue=!0)},p(s,[d]){if((!z||d&16)&&e!==(e=s[4]?"Contrôles de la grille":"Grid controls")&&W(l,e),(!z||d&16)&&g!==(g=s[4]?"Annuler":"Prev")&&W(E,g),(!z||d&16)&&y!==(y=s[4]?"Nouvelle grille":"New Grid")&&W(B,y),(!z||d&16)&&j!==(j=s[4]?"Résoudre":"Solve grid")&&W(q,j),(!z||d&16)&&N!==(N=s[4]?"Recommencer":"Reset grid")&&W(G,N),re===(re=ge(s))&&V?V.p(s,d):(V.d(1),V=re(s),V&&(V.c(),V.m(R.parentNode,R))),(!z||d&16)&&Q!==(Q=s[4]?"Surligner":"Highlight controls")&&W(le,Q),d&32){fe=De([1,2,3,4,5,6,7,8,9]);let b;for(b=0;b<9;b+=1){const M=Be(s,fe,b);A[b]?A[b].p(M,d):(A[b]=Pe(M),A[b].c(),A[b].m(Z,null))}for(;b<9;b+=1)A[b].d(1)}d&1&&_e(be,be=s[0])?(Ke(),$(P,1,1,ee),ze(),P=Ve(s),P.c(),X(P,1),P.m(x.parentNode,x)):P.p(s,d)},i(s){z||(X(t.$$.fragment,s),X(P),z=!0)},o(s){$(t.$$.fragment,s),$(P),z=!1},d(s){s&&(f(o),f(r),f(O),f(R),f(U),f(ne),f(oe),f(se),f(x)),ve(t,s),V.d(s),qe(A,s),P.d(s),ue=!1,Me(ke)}}}function mt(n,t,o){let r,i;He(n,Xe,_=>o(22,r=_)),He(n,ye,_=>o(5,i=_));let e=Ue(),l=[];const c=[Ie(e)];let a=!1,k=!1,g=!1;const E=_=>{Ze(_.detail.cell,_.detail.update),p()},S=_=>{$e(e,_.detail.position),p()},p=_=>{a&&ot(e),k?L(e):o(1,l=[]),ut(e),o(0,e),!(_!=null&&_.noHistory)&&c.push(Ie(e))},y=()=>{o(0,e=xe(e)),p()},B=()=>{const{grid:_,hint:Q}=et(e);o(0,e=_),p(),Q&&o(1,l=[Q])},L=_=>{o(1,l=st(_))};return Qe(()=>{const _=ft();_&&o(0,e={..._}),o(4,g=r.url.searchParams.has("fr"))}),[e,l,a,k,g,i,c,E,S,p,y,B,()=>{o(0,e=c.pop()),p({noHistory:!0})},()=>{o(0,e=Ue()),p()},()=>{y(),p()},()=>{tt(e),p()},()=>{B()},()=>{o(2,a=!a),p()},()=>{lt(e),p()},()=>{o(3,k=!k),p()},()=>{B()},_=>{We(ye,i=i===_?void 0:_,i)}]}class Ct extends Fe{constructor(t){super(),Je(this,t,mt,ht,_e,{})}}export{Ct as component};
