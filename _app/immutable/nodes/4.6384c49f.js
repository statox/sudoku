import{s as at,f as N,a as I,e as lt,g as x,H as S,c as V,i as v,y as A,d as u,C as ut,l as L,h as W,m as Q,j as K,J as g,I as h,n as X,G as ct}from"../chunks/scheduler.f51c602a.js";import{S as ft,i as _t,t as $,c as dt,a as tt,b as vt,d as Ct,m as kt,e as ht,g as pt}from"../chunks/index.aa7fb691.js";import{e as st,a as ot,b as nt,c as it,f as Y,S as mt,u as bt,s as Nt,g as xt}from"../chunks/Sudoku.4af706a9.js";const Z=(s,l,o,t)=>{if(!t||s[l][o].value)return!1;const c=s[l][o].notes.indexOf(t);return c===-1?!1:(s[l][o].notes.splice(c,1),!0)},Tt=s=>{for(let l=0;l<9;l++)for(let o=0;o<9;o++)s[l][o].notes=[]},It=s=>{for(let l=0;l<9;l++)for(let o=0;o<9;o++)s[l][o].value?s[l][o].notes=[]:s[l][o].notes=[1,2,3,4,5,6,7,8,9];for(let l=0;l<9;l++)for(let o=0;o<9;o++){const{value:t}=s[l][o];if(t)continue;for(let C=0;C<9;C++){const f=s[C][o].value;Z(s,l,o,f);const U=s[l][C].value;Z(s,l,o,U)}const c=Math.floor(o/3),G=Math.floor(l/3);for(let C=0;C<3;C++)for(let f=0;f<3;f++){const U=s[3*G+C][3*c+f].value;Z(s,l,o,U)}}};function rt(s){let l,o,t,c,G="grid has errors",C,f,U="grid is filled",H,r,F="grid is valid",y,p,M="grid has solutions",J,m,j=s[1]?"Has errors":"No errors",R,w,q,B=s[2]?"Is filled":"Not filled",O,_,d,k=s[3]?"Is valid":"Not valid",z,P,D,E,T;return l=new mt({props:{grid:s[0]}}),l.$on("cellUpdate",s[6]),{c(){vt(l.$$.fragment),o=I(),t=N("div"),c=N("div"),c.textContent=G,C=I(),f=N("div"),f.textContent=U,H=I(),r=N("div"),r.textContent=F,y=I(),p=N("div"),p.textContent=M,J=I(),m=N("div"),R=L(j),w=I(),q=N("div"),O=L(B),_=I(),d=N("div"),z=L(k),P=I(),D=N("div"),E=L(s[4]),this.h()},l(i){Ct(l.$$.fragment,i),o=V(i),t=x(i,"DIV",{class:!0});var n=W(t);c=x(n,"DIV",{"data-svelte-h":!0}),S(c)!=="svelte-1hlqbal"&&(c.textContent=G),C=V(n),f=x(n,"DIV",{"data-svelte-h":!0}),S(f)!=="svelte-ekf37s"&&(f.textContent=U),H=V(n),r=x(n,"DIV",{"data-svelte-h":!0}),S(r)!=="svelte-16e0vl8"&&(r.textContent=F),y=V(n),p=x(n,"DIV",{"data-svelte-h":!0}),S(p)!=="svelte-1tjrozg"&&(p.textContent=M),J=V(n),m=x(n,"DIV",{class:!0});var b=W(m);R=Q(b,j),b.forEach(u),w=V(n),q=x(n,"DIV",{class:!0});var e=W(q);O=Q(e,B),e.forEach(u),_=V(n),d=x(n,"DIV",{class:!0});var a=W(d);z=Q(a,k),a.forEach(u),P=V(n),D=x(n,"DIV",{class:!0});var et=W(D);E=Q(et,s[4]),et.forEach(u),n.forEach(u),this.h()},h(){K(m,"class","status svelte-1csoeu4"),g(m,"red",s[1]),K(q,"class","status svelte-1csoeu4"),g(q,"red",!s[2]),K(d,"class","status svelte-1csoeu4"),g(d,"red",!s[3]),K(D,"class","status svelte-1csoeu4"),g(D,"red",s[4]!=="unique"),K(t,"class","grid-status svelte-1csoeu4")},m(i,n){kt(l,i,n),v(i,o,n),v(i,t,n),h(t,c),h(t,C),h(t,f),h(t,H),h(t,r),h(t,y),h(t,p),h(t,J),h(t,m),h(m,R),h(t,w),h(t,q),h(q,O),h(t,_),h(t,d),h(d,z),h(t,P),h(t,D),h(D,E),T=!0},p(i,n){const b={};n&1&&(b.grid=i[0]),l.$set(b),(!T||n&2)&&j!==(j=i[1]?"Has errors":"No errors")&&X(R,j),(!T||n&2)&&g(m,"red",i[1]),(!T||n&4)&&B!==(B=i[2]?"Is filled":"Not filled")&&X(O,B),(!T||n&4)&&g(q,"red",!i[2]),(!T||n&8)&&k!==(k=i[3]?"Is valid":"Not valid")&&X(z,k),(!T||n&8)&&g(d,"red",!i[3]),(!T||n&16)&&X(E,i[4]),(!T||n&16)&&g(D,"red",i[4]!=="unique")},i(i){T||(tt(l.$$.fragment,i),T=!0)},o(i){$(l.$$.fragment,i),T=!1},d(i){i&&(u(o),u(t)),ht(l,i)}}}function Vt(s){let l,o="Prev",t,c,G="Empty grid",C,f,U="New Grid",H,r,F="Compute notes",y,p,M="Remove notes",J,m,j="Solve grid",R,w,q="Count solutions",B,O,_="Reset grid",d,k,z="Remove fixed",P,D=s[0],E,T,i,n,b=rt(s);return{c(){l=N("button"),l.textContent=o,t=I(),c=N("button"),c.textContent=G,C=I(),f=N("button"),f.textContent=U,H=I(),r=N("button"),r.textContent=F,y=I(),p=N("button"),p.textContent=M,J=I(),m=N("button"),m.textContent=j,R=I(),w=N("button"),w.textContent=q,B=I(),O=N("button"),O.textContent=_,d=I(),k=N("button"),k.textContent=z,P=I(),b.c(),E=lt()},l(e){l=x(e,"BUTTON",{"data-svelte-h":!0}),S(l)!=="svelte-bivxk4"&&(l.textContent=o),t=V(e),c=x(e,"BUTTON",{"data-svelte-h":!0}),S(c)!=="svelte-1wlhii8"&&(c.textContent=G),C=V(e),f=x(e,"BUTTON",{"data-svelte-h":!0}),S(f)!=="svelte-1oh0e6u"&&(f.textContent=U),H=V(e),r=x(e,"BUTTON",{"data-svelte-h":!0}),S(r)!=="svelte-12olw78"&&(r.textContent=F),y=V(e),p=x(e,"BUTTON",{"data-svelte-h":!0}),S(p)!=="svelte-16z5c15"&&(p.textContent=M),J=V(e),m=x(e,"BUTTON",{"data-svelte-h":!0}),S(m)!=="svelte-1wjgins"&&(m.textContent=j),R=V(e),w=x(e,"BUTTON",{"data-svelte-h":!0}),S(w)!=="svelte-3qjsdq"&&(w.textContent=q),B=V(e),O=x(e,"BUTTON",{"data-svelte-h":!0}),S(O)!=="svelte-69m1bk"&&(O.textContent=_),d=V(e),k=x(e,"BUTTON",{"data-svelte-h":!0}),S(k)!=="svelte-g7g4he"&&(k.textContent=z),P=V(e),b.l(e),E=lt()},m(e,a){v(e,l,a),v(e,t,a),v(e,c,a),v(e,C,a),v(e,f,a),v(e,H,a),v(e,r,a),v(e,y,a),v(e,p,a),v(e,J,a),v(e,m,a),v(e,R,a),v(e,w,a),v(e,B,a),v(e,O,a),v(e,d,a),v(e,k,a),v(e,P,a),b.m(e,a),v(e,E,a),T=!0,i||(n=[A(l,"click",s[11]),A(c,"click",s[12]),A(f,"click",s[13]),A(r,"click",s[14]),A(p,"click",s[15]),A(m,"click",s[16]),A(w,"click",s[17]),A(O,"click",s[18]),A(k,"click",s[19])],i=!0)},p(e,[a]){a&1&&at(D,D=e[0])?(pt(),$(b,1,1,ct),dt(),b=rt(e),b.c(),tt(b,1),b.m(E.parentNode,E)):b.p(e,a)},i(e){T||(tt(b),T=!0)},o(e){$(b),T=!1},d(e){e&&(u(l),u(t),u(c),u(C),u(f),u(H),u(r),u(y),u(p),u(J),u(m),u(R),u(w),u(B),u(O),u(d),u(k),u(P),u(E)),b.d(e),i=!1,ut(n)}}}function Ot(s,l,o){let t=st();const c=[JSON.parse(JSON.stringify(t))];let G=ot(t),C=nt(t),f=it(t),U=Y(t);const H=_=>{bt(_.detail.cell,_.detail.update),r()},r=_=>{o(1,G=ot(t)),o(2,C=nt(t)),o(3,f=it(t)),o(4,U=Y(t)),o(0,t),!(_!=null&&_.noHistory)&&c.push(JSON.parse(JSON.stringify(t)))},F=_=>{for(let d=0;d<9;d++)for(let k=0;k<9;k++)_[d][k].fixed||(_[d][k].value=void 0,_[d][k].notes=[])},y=()=>{const _=Nt(t);o(0,t=_),r()},p=()=>{for(let _=0;_<9;_++)for(let d=0;d<9;d++)o(0,t[_][d].fixed=!1,t)};return[t,G,C,f,U,c,H,r,F,y,p,()=>{o(0,t=c.pop()),r({noHistory:!0})},()=>{o(0,t=xt()),r()},()=>{o(0,t=st()),r()},()=>{It(t),r()},()=>{Tt(t),r()},()=>{y(),r()},()=>{Y(t)},()=>{F(t),r()},()=>{p(),r()}]}class qt extends ft{constructor(l){super(),_t(this,l,Ot,Vt,at,{})}}export{qt as component};
