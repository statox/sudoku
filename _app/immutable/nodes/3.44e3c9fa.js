import{s as ye,f as _,J as Ke,g as h,d as u,j as C,I as c,G as ae,a as b,l as Q,e as Ie,c as g,h as G,H as I,m as W,i as T,y as O,n as Oe,K as Le,C as Qe,D as We,o as Xe,L as Ue,E as Ye}from"../chunks/scheduler.193db7c4.js";import{S as Je,i as je,b as Ce,d as Te,m as Ee,t as X,c as Ze,a as Y,e as Ne,g as xe}from"../chunks/index.9bea933b.js";import{a as Be}from"../chunks/store.8b4149bb.js";import{d as Se,m as et,S as tt,g as Ae,G as lt,u as nt,r as st,a as ot,b as rt,s as $e,c as it}from"../chunks/GridStatus.bea7fd09.js";import{g as Me,a as at}from"../chunks/helpers.e66b69c2.js";const ct=t=>{const e=Se(t);return ze(e),e},ze=t=>{for(let e=0;e<9;e++)for(let o=0;o<9;o++)if(t[e][o].value===void 0){for(let n=1;n<=9;n++)if(et(t,{row:e,col:o},n)){if(t[e][o].value=n,ze(t))return!0;t[e][o].value=void 0}return!1}return!0};function ut(t){let e,o,n,r,s;return document.title=e=t[0],{c(){o=_("meta"),n=_("meta"),r=_("meta"),s=_("meta"),this.h()},l(a){const i=Ke("svelte-16l5a2r",document.head);o=h(i,"META",{name:!0,content:!0}),n=h(i,"META",{name:!0,content:!0}),r=h(i,"META",{name:!0,content:!0}),s=h(i,"META",{name:!0,content:!0}),i.forEach(u),this.h()},h(){C(o,"name","description"),C(o,"content",t[1]),C(n,"name","apple-mobile-web-app-title"),C(n,"content",t[0]),C(r,"name","apple-mobile-web-app-capable"),C(r,"content","yes"),C(s,"name","apple-mobile-web-app-status-bar-style"),C(s,"content","black")},m(a,i){c(document.head,o),c(document.head,n),c(document.head,r),c(document.head,s)},p(a,[i]){i&1&&e!==(e=a[0])&&(document.title=e),i&2&&C(o,"content",a[1]),i&1&&C(n,"content",a[0])},i:ae,o:ae,d(a){u(o),u(n),u(r),u(s)}}}function dt(t,e,o){let{title:n}=e,{description:r}=e;return t.$$set=s=>{"title"in s&&o(0,n=s.title),"description"in s&&o(1,r=s.description)},[n,r]}class ft extends Je{constructor(e){super(),je(this,e,dt,ut,ye,{title:0,description:1})}}const qe="sudoku-game-grid-v1",_t=t=>{localStorage.setItem(qe,JSON.stringify(t))},ht=()=>{try{const t=localStorage.getItem(qe);return t?JSON.parse(t):void 0}catch{return}};function Ve(t,e,o){const n=t.slice();return n[19]=e[o],n}function Fe(t){let e,o="Remove notes",n,r;return{c(){e=_("button"),e.textContent=o},l(s){e=h(s,"BUTTON",{"data-svelte-h":!0}),I(e)!=="svelte-16z5c15"&&(e.textContent=o)},m(s,a){T(s,e,a),n||(r=O(e,"click",t[15]),n=!0)},p:ae,d(s){s&&u(e),n=!1,r()}}}function Pe(t){let e,o,n,r;function s(){return t[17](t[19])}return{c(){e=_("button"),o=Q(t[19]),this.h()},l(a){e=h(a,"BUTTON",{class:!0});var i=G(e);o=W(i,t[19]),i.forEach(u),this.h()},h(){C(e,"class","svelte-nkufn1"),Ue(e,"selected",t[4]===t[19])},m(a,i){T(a,e,i),c(e,o),n||(r=O(e,"click",s),n=!0)},p(a,i){t=a,i&16&&Ue(e,"selected",t[4]===t[19])},d(a){a&&u(e),n=!1,r()}}}function Re(t){let e,o,n,r;return e=new tt({props:{gridErrors:Ae(t[0]),hints:t[1],grid:t[0]}}),e.$on("cellUpdate",t[6]),e.$on("computeCellNotes",t[7]),n=new lt({props:{grid:t[0]}}),{c(){Ce(e.$$.fragment),o=b(),Ce(n.$$.fragment)},l(s){Te(e.$$.fragment,s),o=g(s),Te(n.$$.fragment,s)},m(s,a){Ee(e,s,a),T(s,o,a),Ee(n,s,a),r=!0},p(s,a){const i={};a&1&&(i.gridErrors=Ae(s[0])),a&2&&(i.hints=s[1]),a&1&&(i.grid=s[0]),e.$set(i);const k={};a&1&&(k.grid=s[0]),n.$set(k)},i(s){r||(Y(e.$$.fragment,s),Y(n.$$.fragment,s),r=!0)},o(s){X(e.$$.fragment,s),X(n.$$.fragment,s),r=!1},d(s){s&&u(o),Ne(e,s),Ne(n,s)}}}function mt(t){let e,o,n,r,s="Grid controls",a,i,k,Z="Prev",J,p,j="New Grid",z,H,ce="Solve grid",x,D,ue="Reset grid",q,y,U,m="Notes controls",de,S,B,K=t[2]?"Disable":"Enable",ee,fe,_e,te,A,L=t[3]?"Hide":"Display",le,he,ne,w,V,Ge="Highlights controls",me,$,se,oe,re,He=t[0],F,P,pe,De;e=new ft({props:{title:"Sudoku",description:"Play Sudoku"}});let v=!t[2]&&Fe(t),ve=Be([1,2,3,4,5,6,7,8,9]),E=[];for(let l=0;l<9;l+=1)E[l]=Pe(Ve(t,ve,l));let N=Re(t);return{c(){Ce(e.$$.fragment),o=b(),n=_("div"),r=_("h4"),r.textContent=s,a=b(),i=_("div"),k=_("button"),k.textContent=Z,J=b(),p=_("button"),p.textContent=j,z=b(),H=_("button"),H.textContent=ce,x=b(),D=_("button"),D.textContent=ue,q=b(),y=_("div"),U=_("h4"),U.textContent=m,de=b(),S=_("div"),B=_("button"),ee=Q(K),fe=Q(" notes auto-refresh"),_e=b(),v&&v.c(),te=b(),A=_("button"),le=Q(L),he=Q(" hints"),ne=b(),w=_("div"),V=_("h4"),V.textContent=Ge,me=b(),$=_("div");for(let l=0;l<9;l+=1)E[l].c();se=b(),oe=_("br"),re=b(),N.c(),F=Ie(),this.h()},l(l){Te(e.$$.fragment,l),o=g(l),n=h(l,"DIV",{});var f=G(n);r=h(f,"H4",{"data-svelte-h":!0}),I(r)!=="svelte-1h8cvtc"&&(r.textContent=s),a=g(f),i=h(f,"DIV",{class:!0});var d=G(i);k=h(d,"BUTTON",{"data-svelte-h":!0}),I(k)!=="svelte-bivxk4"&&(k.textContent=Z),J=g(d),p=h(d,"BUTTON",{"data-svelte-h":!0}),I(p)!=="svelte-1oh0e6u"&&(p.textContent=j),z=g(d),H=h(d,"BUTTON",{"data-svelte-h":!0}),I(H)!=="svelte-1wjgins"&&(H.textContent=ce),x=g(d),D=h(d,"BUTTON",{"data-svelte-h":!0}),I(D)!=="svelte-hocye6"&&(D.textContent=ue),d.forEach(u),f.forEach(u),q=g(l),y=h(l,"DIV",{});var M=G(y);U=h(M,"H4",{"data-svelte-h":!0}),I(U)!=="svelte-8gx0az"&&(U.textContent=m),de=g(M),S=h(M,"DIV",{class:!0});var R=G(S);B=h(R,"BUTTON",{});var ke=G(B);ee=W(ke,K),fe=W(ke," notes auto-refresh"),ke.forEach(u),_e=g(R),v&&v.l(R),te=g(R),A=h(R,"BUTTON",{});var be=G(A);le=W(be,L),he=W(be," hints"),be.forEach(u),R.forEach(u),M.forEach(u),ne=g(l),w=h(l,"DIV",{});var ie=G(w);V=h(ie,"H4",{"data-svelte-h":!0}),I(V)!=="svelte-hclwgd"&&(V.textContent=Ge),me=g(ie),$=h(ie,"DIV",{class:!0});var we=G($);for(let ge=0;ge<9;ge+=1)E[ge].l(we);we.forEach(u),ie.forEach(u),se=g(l),oe=h(l,"BR",{}),re=g(l),N.l(l),F=Ie(),this.h()},h(){C(i,"class","grid-controls svelte-nkufn1"),C(S,"class","notes-controls svelte-nkufn1"),C($,"class","highlights-controls svelte-nkufn1")},m(l,f){Ee(e,l,f),T(l,o,f),T(l,n,f),c(n,r),c(n,a),c(n,i),c(i,k),c(i,J),c(i,p),c(i,z),c(i,H),c(i,x),c(i,D),T(l,q,f),T(l,y,f),c(y,U),c(y,de),c(y,S),c(S,B),c(B,ee),c(B,fe),c(S,_e),v&&v.m(S,null),c(S,te),c(S,A),c(A,le),c(A,he),T(l,ne,f),T(l,w,f),c(w,V),c(w,me),c(w,$);for(let d=0;d<9;d+=1)E[d]&&E[d].m($,null);T(l,se,f),T(l,oe,f),T(l,re,f),N.m(l,f),T(l,F,f),P=!0,pe||(De=[O(k,"click",t[10]),O(p,"click",t[11]),O(H,"click",t[12]),O(D,"click",t[13]),O(B,"click",t[14]),O(A,"click",t[16])],pe=!0)},p(l,[f]){if((!P||f&4)&&K!==(K=l[2]?"Disable":"Enable")&&Oe(ee,K),l[2]?v&&(v.d(1),v=null):v?v.p(l,f):(v=Fe(l),v.c(),v.m(S,te)),(!P||f&8)&&L!==(L=l[3]?"Hide":"Display")&&Oe(le,L),f&16){ve=Be([1,2,3,4,5,6,7,8,9]);let d;for(d=0;d<9;d+=1){const M=Ve(l,ve,d);E[d]?E[d].p(M,f):(E[d]=Pe(M),E[d].c(),E[d].m($,null))}for(;d<9;d+=1)E[d].d(1)}f&1&&ye(He,He=l[0])?(xe(),X(N,1,1,ae),Ze(),N=Re(l),N.c(),Y(N,1),N.m(F.parentNode,F)):N.p(l,f)},i(l){P||(Y(e.$$.fragment,l),Y(N),P=!0)},o(l){X(e.$$.fragment,l),X(N),P=!1},d(l){l&&(u(o),u(n),u(q),u(y),u(ne),u(w),u(se),u(oe),u(re),u(F)),Ne(e,l),v&&v.d(),Le(E,l),N.d(l),pe=!1,Qe(De)}}}function pt(t,e,o){let n;We(t,$e,m=>o(4,n=m));let r=Me(),s=[];const a=[Se(r)];let i=!1,k=!1;const Z=m=>{nt(m.detail.cell,m.detail.update),p()},J=m=>{st(r,m.detail.position),p()},p=m=>{i&&it(r),k?z(r):o(1,s=[]),_t(r),o(0,r),!(m!=null&&m.noHistory)&&a.push(Se(r))},j=()=>{o(0,r=ct(r)),p()},z=m=>{o(1,s=at(m))};return Xe(()=>{const m=ht();m&&o(0,r={...m})}),[r,s,i,k,n,a,Z,J,p,j,()=>{o(0,r=a.pop()),p({noHistory:!0})},()=>{o(0,r=Me()),p()},()=>{j(),p()},()=>{ot(r),p()},()=>{o(2,i=!i),p()},()=>{rt(r),p()},()=>{o(3,k=!k),p()},m=>{Ye($e,n=n===m?void 0:m,n)}]}class Tt extends Je{constructor(e){super(),je(this,e,pt,mt,ye,{})}}export{Tt as component};
