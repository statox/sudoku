import{s as L,e as z,i as m,G as A,d as f,f as C,a as b,l as j,g as h,h as q,H as I,c as N,m as F,j as H,J as P,I as _,y as J,C as ct}from"../chunks/scheduler.f51c602a.js";import{S as it,i as at,t as M,c as ft,a as K,b as tt,d as et,m as lt,e as st,g as dt}from"../chunks/index.aa7fb691.js";import{m as vt,g as _t,a as mt,b as pt,c as kt,d as ot,S as Ct,u as ht}from"../chunks/Sudoku.b1eb265f.js";const bt=s=>{const t=JSON.parse(JSON.stringify(s));return ut(t),t},ut=s=>{for(let t=0;t<9;t++)for(let e=0;e<9;e++)if(s[t][e].value===void 0){for(let l=1;l<=9;l++)if(vt(s,{row:t,col:e},l)){if(s[t][e].value=l,ut(s))return!0;s[t][e].value=void 0}return!1}return!0},Q=(s,t,e,l)=>{if(!l||s[t][e].value)return!1;const r=s[t][e].notes.indexOf(l);return r===-1?!1:(s[t][e].notes.splice(r,1),!0)},Nt=s=>{for(let t=0;t<9;t++)for(let e=0;e<9;e++)s[t][e].notes=[]},xt=s=>{for(let t=0;t<9;t++)for(let e=0;e<9;e++)s[t][e].value?s[t][e].notes=[]:s[t][e].notes=[1,2,3,4,5,6,7,8,9];for(let t=0;t<9;t++)for(let e=0;e<9;e++){const{value:l}=s[t][e];if(l)continue;for(let a=0;a<9;a++){const u=s[a][e].value;Q(s,t,e,u);const d=s[t][a].value;Q(s,t,e,d)}const r=Math.floor(e/3),n=Math.floor(t/3);for(let a=0;a<3;a++)for(let u=0;u<3;u++){const d=s[3*n+a][3*r+u].value;Q(s,t,e,d)}}};function nt(s){let t,e,l="grid has errors",r,n,a="grid is filled",u,d,T="grid is valid",x,V,D="grid has solutions",y,S,G=s[1]?"Has errors":"No errors",$,c,v,p=s[2]?"Is filled":"Not filled",R,U,O,g=s[3]?"Is valid":"Not valid",B,E,w,k;return{c(){t=C("div"),e=C("div"),e.textContent=l,r=b(),n=C("div"),n.textContent=a,u=b(),d=C("div"),d.textContent=T,x=b(),V=C("div"),V.textContent=D,y=b(),S=C("div"),$=j(G),c=b(),v=C("div"),R=j(p),U=b(),O=C("div"),B=j(g),E=b(),w=C("div"),k=j(s[4]),this.h()},l(o){t=h(o,"DIV",{class:!0});var i=q(t);e=h(i,"DIV",{"data-svelte-h":!0}),I(e)!=="svelte-1hlqbal"&&(e.textContent=l),r=N(i),n=h(i,"DIV",{"data-svelte-h":!0}),I(n)!=="svelte-ekf37s"&&(n.textContent=a),u=N(i),d=h(i,"DIV",{"data-svelte-h":!0}),I(d)!=="svelte-16e0vl8"&&(d.textContent=T),x=N(i),V=h(i,"DIV",{"data-svelte-h":!0}),I(V)!=="svelte-1tjrozg"&&(V.textContent=D),y=N(i),S=h(i,"DIV",{class:!0});var W=q(S);$=F(W,G),W.forEach(f),c=N(i),v=h(i,"DIV",{class:!0});var X=q(v);R=F(X,p),X.forEach(f),U=N(i),O=h(i,"DIV",{class:!0});var Y=q(O);B=F(Y,g),Y.forEach(f),E=N(i),w=h(i,"DIV",{class:!0});var Z=q(w);k=F(Z,s[4]),Z.forEach(f),i.forEach(f),this.h()},h(){H(S,"class","status svelte-1csoeu4"),P(S,"red",s[1]),H(v,"class","status svelte-1csoeu4"),P(v,"red",!s[2]),H(O,"class","status svelte-1csoeu4"),P(O,"red",!s[3]),H(w,"class","status svelte-1csoeu4"),P(w,"red",s[4]!=="unique"),H(t,"class","grid-status svelte-1csoeu4")},m(o,i){m(o,t,i),_(t,e),_(t,r),_(t,n),_(t,u),_(t,d),_(t,x),_(t,V),_(t,y),_(t,S),_(S,$),_(t,c),_(t,v),_(v,R),_(t,U),_(t,O),_(O,B),_(t,E),_(t,w),_(w,k)},p:A,d(o){o&&f(t)}}}function yt(s){let t=s[0],e,l=nt(s);return{c(){l.c(),e=z()},l(r){l.l(r),e=z()},m(r,n){l.m(r,n),m(r,e,n)},p(r,[n]){n&1&&L(t,t=r[0])?(l.d(1),l=nt(r),l.c(),l.m(e.parentNode,e)):l.p(r,n)},i:A,o:A,d(r){r&&f(e),l.d(r)}}}function $t(s,t,e){let{grid:l}=t,r=_t(l),n=mt(l),a=pt(l),u=kt(l);return s.$$set=d=>{"grid"in d&&e(0,l=d.grid)},[l,r,n,a,u]}class St extends it{constructor(t){super(),at(this,t,$t,yt,L,{grid:0})}}function rt(s){let t,e,l,r;return t=new Ct({props:{grid:s[0]}}),t.$on("cellUpdate",s[2]),l=new St({props:{grid:s[0]}}),{c(){tt(t.$$.fragment),e=b(),tt(l.$$.fragment)},l(n){et(t.$$.fragment,n),e=N(n),et(l.$$.fragment,n)},m(n,a){lt(t,n,a),m(n,e,a),lt(l,n,a),r=!0},p(n,a){const u={};a&1&&(u.grid=n[0]),t.$set(u);const d={};a&1&&(d.grid=n[0]),l.$set(d)},i(n){r||(K(t.$$.fragment,n),K(l.$$.fragment,n),r=!0)},o(n){M(t.$$.fragment,n),M(l.$$.fragment,n),r=!1},d(n){n&&f(e),st(t,n),st(l,n)}}}function It(s){let t,e="Prev",l,r,n="New Grid",a,u,d="Compute notes",T,x,V="Remove notes",D,y,S="Solve grid",G,$,c="Reset grid",v,p,R="Remove fixed",U,O=s[0],g,B,E,w,k=rt(s);return{c(){t=C("button"),t.textContent=e,l=b(),r=C("button"),r.textContent=n,a=b(),u=C("button"),u.textContent=d,T=b(),x=C("button"),x.textContent=V,D=b(),y=C("button"),y.textContent=S,G=b(),$=C("button"),$.textContent=c,v=b(),p=C("button"),p.textContent=R,U=b(),k.c(),g=z()},l(o){t=h(o,"BUTTON",{"data-svelte-h":!0}),I(t)!=="svelte-bivxk4"&&(t.textContent=e),l=N(o),r=h(o,"BUTTON",{"data-svelte-h":!0}),I(r)!=="svelte-1oh0e6u"&&(r.textContent=n),a=N(o),u=h(o,"BUTTON",{"data-svelte-h":!0}),I(u)!=="svelte-12olw78"&&(u.textContent=d),T=N(o),x=h(o,"BUTTON",{"data-svelte-h":!0}),I(x)!=="svelte-16z5c15"&&(x.textContent=V),D=N(o),y=h(o,"BUTTON",{"data-svelte-h":!0}),I(y)!=="svelte-1wjgins"&&(y.textContent=S),G=N(o),$=h(o,"BUTTON",{"data-svelte-h":!0}),I($)!=="svelte-69m1bk"&&($.textContent=c),v=N(o),p=h(o,"BUTTON",{"data-svelte-h":!0}),I(p)!=="svelte-g7g4he"&&(p.textContent=R),U=N(o),k.l(o),g=z()},m(o,i){m(o,t,i),m(o,l,i),m(o,r,i),m(o,a,i),m(o,u,i),m(o,T,i),m(o,x,i),m(o,D,i),m(o,y,i),m(o,G,i),m(o,$,i),m(o,v,i),m(o,p,i),m(o,U,i),k.m(o,i),m(o,g,i),B=!0,E||(w=[J(t,"click",s[7]),J(r,"click",s[8]),J(u,"click",s[9]),J(x,"click",s[10]),J(y,"click",s[11]),J($,"click",s[12]),J(p,"click",s[13])],E=!0)},p(o,[i]){i&1&&L(O,O=o[0])?(dt(),M(k,1,1,A),ft(),k=rt(o),k.c(),K(k,1),k.m(g.parentNode,g)):k.p(o,i)},i(o){B||(K(k),B=!0)},o(o){M(k),B=!1},d(o){o&&(f(t),f(l),f(r),f(a),f(u),f(T),f(x),f(D),f(y),f(G),f($),f(v),f(p),f(U),f(g)),k.d(o),E=!1,ct(w)}}}function Tt(s,t,e){let l=ot();const r=[JSON.parse(JSON.stringify(l))],n=c=>{ht(c.detail.cell,c.detail.update),a()},a=c=>{e(0,l),!(c!=null&&c.noHistory)&&r.push(JSON.parse(JSON.stringify(l)))},u=c=>{for(let v=0;v<9;v++)for(let p=0;p<9;p++)c[v][p].fixed||(c[v][p].value=void 0,c[v][p].notes=[])},d=()=>{const c=bt(l);e(0,l=c),a()},T=()=>{for(let c=0;c<9;c++)for(let v=0;v<9;v++)e(0,l[c][v].fixed=!1,l)};return[l,r,n,a,u,d,T,()=>{e(0,l=r.pop()),a({noHistory:!0})},()=>{e(0,l=ot()),a()},()=>{xt(l),a()},()=>{Nt(l),a()},()=>{d(),a()},()=>{u(l),a()},()=>{T(),a()}]}class gt extends it{constructor(t){super(),at(this,t,Tt,It,L,{})}}export{gt as component};
