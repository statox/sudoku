import{s as L,e as P,i as m,G as z,d as c,f as C,a as N,l as F,g as h,h as q,H as V,c as x,m as j,j as H,J as M,I as _,y as J,C as ct}from"../chunks/scheduler.f51c602a.js";import{S as it,i as at,t as A,c as dt,a as K,b as tt,d as et,m as lt,e as st,g as ft}from"../chunks/index.aa7fb691.js";import{m as vt,g as _t,a as mt,b as pt,c as kt,d as ot,S as Ct,u as ht}from"../chunks/Sudoku.bdc00fa4.js";const bt=l=>{const t=JSON.parse(JSON.stringify(l));return ut(t),t},ut=l=>{for(let t=0;t<9;t++)for(let s=0;s<9;s++)if(l[t][s].value===void 0){for(let e=1;e<=9;e++)if(vt(l,{row:t,col:s},e)){if(l[t][s].value=e,ut(l))return!0;l[t][s].value=void 0}return!1}return!0},Q=(l,t,s,e)=>{if(!e||l[t][s].value)return!1;const r=l[t][s].notes.indexOf(e);return r===-1?!1:(l[t][s].notes.splice(r,1),!0)},Nt=l=>{for(let t=0;t<9;t++)for(let s=0;s<9;s++)l[t][s].notes=[]},xt=(l,t)=>{const{row:s,col:e}=t;if(l[s][e].value){l[s][e].notes=[];return}l[s][e].notes=[1,2,3,4,5,6,7,8,9];const r=Math.floor(e/3),n=Math.floor(s/3);for(let a=0;a<9;a++){const d=l[a][e].value;Q(l,s,e,d);const v=l[s][a].value;Q(l,s,e,v);const S=Math.floor(a/3),b=a%3,I=l[3*n+S][3*r+b].value;Q(l,s,e,I)}return l[s][e].notes},yt=l=>{for(let t=0;t<9;t++)for(let s=0;s<9;s++)xt(l,{row:t,col:s})};function nt(l){let t,s,e="grid has errors",r,n,a="grid is filled",d,v,S="grid is valid",b,I,D="grid has solutions",y,T,G=l[1]?"Has errors":"No errors",$,u,f,p=l[2]?"Is filled":"Not filled",R,U,O,g=l[3]?"Is valid":"Not valid",B,E,w,k;return{c(){t=C("div"),s=C("div"),s.textContent=e,r=N(),n=C("div"),n.textContent=a,d=N(),v=C("div"),v.textContent=S,b=N(),I=C("div"),I.textContent=D,y=N(),T=C("div"),$=F(G),u=N(),f=C("div"),R=F(p),U=N(),O=C("div"),B=F(g),E=N(),w=C("div"),k=F(l[4]),this.h()},l(o){t=h(o,"DIV",{class:!0});var i=q(t);s=h(i,"DIV",{"data-svelte-h":!0}),V(s)!=="svelte-1hlqbal"&&(s.textContent=e),r=x(i),n=h(i,"DIV",{"data-svelte-h":!0}),V(n)!=="svelte-ekf37s"&&(n.textContent=a),d=x(i),v=h(i,"DIV",{"data-svelte-h":!0}),V(v)!=="svelte-16e0vl8"&&(v.textContent=S),b=x(i),I=h(i,"DIV",{"data-svelte-h":!0}),V(I)!=="svelte-1tjrozg"&&(I.textContent=D),y=x(i),T=h(i,"DIV",{class:!0});var W=q(T);$=j(W,G),W.forEach(c),u=x(i),f=h(i,"DIV",{class:!0});var X=q(f);R=j(X,p),X.forEach(c),U=x(i),O=h(i,"DIV",{class:!0});var Y=q(O);B=j(Y,g),Y.forEach(c),E=x(i),w=h(i,"DIV",{class:!0});var Z=q(w);k=j(Z,l[4]),Z.forEach(c),i.forEach(c),this.h()},h(){H(T,"class","status svelte-1csoeu4"),M(T,"red",l[1]),H(f,"class","status svelte-1csoeu4"),M(f,"red",!l[2]),H(O,"class","status svelte-1csoeu4"),M(O,"red",!l[3]),H(w,"class","status svelte-1csoeu4"),M(w,"red",l[4]!=="unique"),H(t,"class","grid-status svelte-1csoeu4")},m(o,i){m(o,t,i),_(t,s),_(t,r),_(t,n),_(t,d),_(t,v),_(t,b),_(t,I),_(t,y),_(t,T),_(T,$),_(t,u),_(t,f),_(f,R),_(t,U),_(t,O),_(O,B),_(t,E),_(t,w),_(w,k)},p:z,d(o){o&&c(t)}}}function $t(l){let t=l[0],s,e=nt(l);return{c(){e.c(),s=P()},l(r){e.l(r),s=P()},m(r,n){e.m(r,n),m(r,s,n)},p(r,[n]){n&1&&L(t,t=r[0])?(e.d(1),e=nt(r),e.c(),e.m(s.parentNode,s)):e.p(r,n)},i:z,o:z,d(r){r&&c(s),e.d(r)}}}function St(l,t,s){let{grid:e}=t,r=_t(e),n=mt(e),a=pt(e),d=kt(e);return l.$$set=v=>{"grid"in v&&s(0,e=v.grid)},[e,r,n,a,d]}class It extends it{constructor(t){super(),at(this,t,St,$t,L,{grid:0})}}function rt(l){let t,s,e,r;return t=new Ct({props:{grid:l[0]}}),t.$on("cellUpdate",l[2]),e=new It({props:{grid:l[0]}}),{c(){tt(t.$$.fragment),s=N(),tt(e.$$.fragment)},l(n){et(t.$$.fragment,n),s=x(n),et(e.$$.fragment,n)},m(n,a){lt(t,n,a),m(n,s,a),lt(e,n,a),r=!0},p(n,a){const d={};a&1&&(d.grid=n[0]),t.$set(d);const v={};a&1&&(v.grid=n[0]),e.$set(v)},i(n){r||(K(t.$$.fragment,n),K(e.$$.fragment,n),r=!0)},o(n){A(t.$$.fragment,n),A(e.$$.fragment,n),r=!1},d(n){n&&c(s),st(t,n),st(e,n)}}}function Tt(l){let t,s="Prev",e,r,n="New Grid",a,d,v="Compute notes",S,b,I="Remove notes",D,y,T="Solve grid",G,$,u="Reset grid",f,p,R="Remove fixed",U,O=l[0],g,B,E,w,k=rt(l);return{c(){t=C("button"),t.textContent=s,e=N(),r=C("button"),r.textContent=n,a=N(),d=C("button"),d.textContent=v,S=N(),b=C("button"),b.textContent=I,D=N(),y=C("button"),y.textContent=T,G=N(),$=C("button"),$.textContent=u,f=N(),p=C("button"),p.textContent=R,U=N(),k.c(),g=P()},l(o){t=h(o,"BUTTON",{"data-svelte-h":!0}),V(t)!=="svelte-bivxk4"&&(t.textContent=s),e=x(o),r=h(o,"BUTTON",{"data-svelte-h":!0}),V(r)!=="svelte-1oh0e6u"&&(r.textContent=n),a=x(o),d=h(o,"BUTTON",{"data-svelte-h":!0}),V(d)!=="svelte-12olw78"&&(d.textContent=v),S=x(o),b=h(o,"BUTTON",{"data-svelte-h":!0}),V(b)!=="svelte-16z5c15"&&(b.textContent=I),D=x(o),y=h(o,"BUTTON",{"data-svelte-h":!0}),V(y)!=="svelte-1wjgins"&&(y.textContent=T),G=x(o),$=h(o,"BUTTON",{"data-svelte-h":!0}),V($)!=="svelte-69m1bk"&&($.textContent=u),f=x(o),p=h(o,"BUTTON",{"data-svelte-h":!0}),V(p)!=="svelte-g7g4he"&&(p.textContent=R),U=x(o),k.l(o),g=P()},m(o,i){m(o,t,i),m(o,e,i),m(o,r,i),m(o,a,i),m(o,d,i),m(o,S,i),m(o,b,i),m(o,D,i),m(o,y,i),m(o,G,i),m(o,$,i),m(o,f,i),m(o,p,i),m(o,U,i),k.m(o,i),m(o,g,i),B=!0,E||(w=[J(t,"click",l[7]),J(r,"click",l[8]),J(d,"click",l[9]),J(b,"click",l[10]),J(y,"click",l[11]),J($,"click",l[12]),J(p,"click",l[13])],E=!0)},p(o,[i]){i&1&&L(O,O=o[0])?(ft(),A(k,1,1,z),dt(),k=rt(o),k.c(),K(k,1),k.m(g.parentNode,g)):k.p(o,i)},i(o){B||(K(k),B=!0)},o(o){A(k),B=!1},d(o){o&&(c(t),c(e),c(r),c(a),c(d),c(S),c(b),c(D),c(y),c(G),c($),c(f),c(p),c(U),c(g)),k.d(o),E=!1,ct(w)}}}function Vt(l,t,s){let e=ot();const r=[JSON.parse(JSON.stringify(e))],n=u=>{ht(u.detail.cell,u.detail.update),a()},a=u=>{s(0,e),!(u!=null&&u.noHistory)&&r.push(JSON.parse(JSON.stringify(e)))},d=u=>{for(let f=0;f<9;f++)for(let p=0;p<9;p++)u[f][p].fixed||(u[f][p].value=void 0,u[f][p].notes=[])},v=()=>{const u=bt(e);s(0,e=u),a()},S=()=>{for(let u=0;u<9;u++)for(let f=0;f<9;f++)s(0,e[u][f].fixed=!1,e)};return[e,r,n,a,d,v,S,()=>{s(0,e=r.pop()),a({noHistory:!0})},()=>{s(0,e=ot()),a()},()=>{yt(e),a()},()=>{Nt(e),a()},()=>{v(),a()},()=>{d(e),a()},()=>{S(),a()}]}class Dt extends it{constructor(t){super(),at(this,t,Vt,Tt,L,{})}}export{Dt as component};
