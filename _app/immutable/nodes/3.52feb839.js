import{s as Ae,f as h,a as b,l as M,e as De,g as v,h as G,H as w,c as C,d as f,m as Q,j as re,i as N,I as c,y as U,n as ye,J as je,C as Je,D as Ke,G as xe,K as Ge,E as Le}from"../chunks/scheduler.71239b2e.js";import{S as Me,i as Qe,t as ie,c as We,a as ae,b as we,d as Ue,m as Be,e as Se,g as Xe}from"../chunks/index.8ab45ecd.js";import{a as Ie}from"../chunks/store.fe58922c.js";import{d as ge,m as Ye,S as Ze,g as Oe,G as et,u as tt,r as lt,a as st,b as ot,s as ze,c as nt}from"../chunks/GridStatus.3292aedf.js";import{g as Ve,a as rt}from"../chunks/helpers.75e68be0.js";const it=l=>{const e=ge(l);return Pe(e),e},Pe=l=>{for(let e=0;e<9;e++)for(let o=0;o<9;o++)if(l[e][o].value===void 0){for(let n=1;n<=9;n++)if(Ye(l,{row:e,col:o},n)){if(l[e][o].value=n,Pe(l))return!0;l[e][o].value=void 0}return!1}return!0};function Fe(l,e,o){const n=l.slice();return n[21]=e[o],n}function Re(l){let e,o="Remove notes",n,r;return{c(){e=h("button"),e.textContent=o},l(t){e=v(t,"BUTTON",{"data-svelte-h":!0}),w(e)!=="svelte-16z5c15"&&(e.textContent=o)},m(t,i){N(t,e,i),n||(r=U(e,"click",l[17]),n=!0)},p:xe,d(t){t&&f(e),n=!1,r()}}}function $e(l){let e,o,n,r;function t(){return l[19](l[21])}return{c(){e=h("button"),o=M(l[21]),this.h()},l(i){e=v(i,"BUTTON",{class:!0});var d=G(e);o=Q(d,l[21]),d.forEach(f),this.h()},h(){re(e,"class","svelte-zwzkqm"),Ge(e,"selected",l[4]===l[21])},m(i,d){N(i,e,d),c(e,o),n||(r=U(e,"click",t),n=!0)},p(i,d){l=i,d&16&&Ge(e,"selected",l[4]===l[21])},d(i){i&&f(e),n=!1,r()}}}function qe(l){let e,o,n,r;return e=new Ze({props:{gridErrors:Oe(l[0]),hints:l[1],grid:l[0]}}),e.$on("cellUpdate",l[6]),e.$on("computeCellNotes",l[7]),n=new et({props:{grid:l[0]}}),{c(){we(e.$$.fragment),o=b(),we(n.$$.fragment)},l(t){Ue(e.$$.fragment,t),o=C(t),Ue(n.$$.fragment,t)},m(t,i){Be(e,t,i),N(t,o,i),Be(n,t,i),r=!0},p(t,i){const d={};i&1&&(d.gridErrors=Oe(t[0])),i&2&&(d.hints=t[1]),i&1&&(d.grid=t[0]),e.$set(d);const E={};i&1&&(E.grid=t[0]),n.$set(E)},i(t){r||(ae(e.$$.fragment,t),ae(n.$$.fragment,t),r=!0)},o(t){ie(e.$$.fragment,t),ie(n.$$.fragment,t),r=!1},d(t){t&&f(o),Se(e,t),Se(n,t)}}}function at(l){let e,o,n="Grid controls",r,t,i,d="Prev",E,D,W="New Grid",m,H,P="Solve grid",j,B,ce="Reset grid",X,S,ue="Remove fixed",J,y,O,_e="Notes controls",u,k,z,K=l[2]?"Disable":"Enable",Y,fe,de,Z,V,L=l[3]?"Hide":"Display",ee,he,te,I,$,Te="Highlights controls",ve,F,le,se,oe,Ne=l[0],q,A,me,Ee,p=!l[2]&&Re(l),pe=Ie([1,2,3,4,5,6,7,8,9]),g=[];for(let s=0;s<9;s+=1)g[s]=$e(Fe(l,pe,s));let T=qe(l);return{c(){e=h("div"),o=h("h4"),o.textContent=n,r=b(),t=h("div"),i=h("button"),i.textContent=d,E=b(),D=h("button"),D.textContent=W,m=b(),H=h("button"),H.textContent=P,j=b(),B=h("button"),B.textContent=ce,X=b(),S=h("button"),S.textContent=ue,J=b(),y=h("div"),O=h("h4"),O.textContent=_e,u=b(),k=h("div"),z=h("button"),Y=M(K),fe=M(" notes auto-refresh"),de=b(),p&&p.c(),Z=b(),V=h("button"),ee=M(L),he=M(" hints"),te=b(),I=h("div"),$=h("h4"),$.textContent=Te,ve=b(),F=h("div");for(let s=0;s<9;s+=1)g[s].c();le=b(),se=h("br"),oe=b(),T.c(),q=De(),this.h()},l(s){e=v(s,"DIV",{});var _=G(e);o=v(_,"H4",{"data-svelte-h":!0}),w(o)!=="svelte-1h8cvtc"&&(o.textContent=n),r=C(_),t=v(_,"DIV",{class:!0});var a=G(t);i=v(a,"BUTTON",{"data-svelte-h":!0}),w(i)!=="svelte-bivxk4"&&(i.textContent=d),E=C(a),D=v(a,"BUTTON",{"data-svelte-h":!0}),w(D)!=="svelte-1oh0e6u"&&(D.textContent=W),m=C(a),H=v(a,"BUTTON",{"data-svelte-h":!0}),w(H)!=="svelte-1wjgins"&&(H.textContent=P),j=C(a),B=v(a,"BUTTON",{"data-svelte-h":!0}),w(B)!=="svelte-hocye6"&&(B.textContent=ce),X=C(a),S=v(a,"BUTTON",{"data-svelte-h":!0}),w(S)!=="svelte-g7g4he"&&(S.textContent=ue),a.forEach(f),_.forEach(f),J=C(s),y=v(s,"DIV",{});var R=G(y);O=v(R,"H4",{"data-svelte-h":!0}),w(O)!=="svelte-8gx0az"&&(O.textContent=_e),u=C(R),k=v(R,"DIV",{class:!0});var x=G(k);z=v(x,"BUTTON",{});var ke=G(z);Y=Q(ke,K),fe=Q(ke," notes auto-refresh"),ke.forEach(f),de=C(x),p&&p.l(x),Z=C(x),V=v(x,"BUTTON",{});var be=G(V);ee=Q(be,L),he=Q(be," hints"),be.forEach(f),x.forEach(f),R.forEach(f),te=C(s),I=v(s,"DIV",{});var ne=G(I);$=v(ne,"H4",{"data-svelte-h":!0}),w($)!=="svelte-hclwgd"&&($.textContent=Te),ve=C(ne),F=v(ne,"DIV",{class:!0});var He=G(F);for(let Ce=0;Ce<9;Ce+=1)g[Ce].l(He);He.forEach(f),ne.forEach(f),le=C(s),se=v(s,"BR",{}),oe=C(s),T.l(s),q=De(),this.h()},h(){re(t,"class","grid-controls svelte-zwzkqm"),re(k,"class","notes-controls svelte-zwzkqm"),re(F,"class","highlights-controls")},m(s,_){N(s,e,_),c(e,o),c(e,r),c(e,t),c(t,i),c(t,E),c(t,D),c(t,m),c(t,H),c(t,j),c(t,B),c(t,X),c(t,S),N(s,J,_),N(s,y,_),c(y,O),c(y,u),c(y,k),c(k,z),c(z,Y),c(z,fe),c(k,de),p&&p.m(k,null),c(k,Z),c(k,V),c(V,ee),c(V,he),N(s,te,_),N(s,I,_),c(I,$),c(I,ve),c(I,F);for(let a=0;a<9;a+=1)g[a]&&g[a].m(F,null);N(s,le,_),N(s,se,_),N(s,oe,_),T.m(s,_),N(s,q,_),A=!0,me||(Ee=[U(i,"click",l[11]),U(D,"click",l[12]),U(H,"click",l[13]),U(B,"click",l[14]),U(S,"click",l[15]),U(z,"click",l[16]),U(V,"click",l[18])],me=!0)},p(s,[_]){if((!A||_&4)&&K!==(K=s[2]?"Disable":"Enable")&&ye(Y,K),s[2]?p&&(p.d(1),p=null):p?p.p(s,_):(p=Re(s),p.c(),p.m(k,Z)),(!A||_&8)&&L!==(L=s[3]?"Hide":"Display")&&ye(ee,L),_&16){pe=Ie([1,2,3,4,5,6,7,8,9]);let a;for(a=0;a<9;a+=1){const R=Fe(s,pe,a);g[a]?g[a].p(R,_):(g[a]=$e(R),g[a].c(),g[a].m(F,null))}for(;a<9;a+=1)g[a].d(1)}_&1&&Ae(Ne,Ne=s[0])?(Xe(),ie(T,1,1,xe),We(),T=qe(s),T.c(),ae(T,1),T.m(q.parentNode,q)):T.p(s,_)},i(s){A||(ae(T),A=!0)},o(s){ie(T),A=!1},d(s){s&&(f(e),f(J),f(y),f(te),f(I),f(le),f(se),f(oe),f(q)),p&&p.d(),je(g,s),T.d(s),me=!1,Je(Ee)}}}function ct(l,e,o){let n;Ke(l,ze,u=>o(4,n=u));let r=Ve(),t=[];const i=[ge(r)];let d=!1,E=!1;const D=u=>{tt(u.detail.cell,u.detail.update),m()},W=u=>{lt(r,u.detail.position),m()},m=u=>{d&&nt(r),E?j(r):o(1,t=[]),o(0,r),!(u!=null&&u.noHistory)&&i.push(ge(r))},H=()=>{o(0,r=it(r)),m()},P=()=>{for(let u=0;u<9;u++)for(let k=0;k<9;k++)o(0,r[u][k].fixed=!1,r)},j=u=>{o(1,t=rt(u))};return[r,t,d,E,n,i,D,W,m,H,P,()=>{o(0,r=i.pop()),m({noHistory:!0})},()=>{o(0,r=Ve()),m()},()=>{H(),m()},()=>{st(r),m()},()=>{P(),m()},()=>{o(2,d=!d),m()},()=>{ot(r),m()},()=>{o(3,E=!E),m()},u=>{Le(ze,n=n===u?void 0:u,n)}]}class vt extends Me{constructor(e){super(),Qe(this,e,ct,at,Ae,{})}}export{vt as component};
