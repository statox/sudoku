import{s as ae,f as b,a as x,e as te,g as I,H as y,c as T,i as h,y as P,d as v,C as ce,l as K,h as A,m as L,j as M,J as j,I as _,n as Q,G as fe}from"../chunks/scheduler.f51c602a.js";import{S as ve,i as de,t as X,c as _e,a as Y,b as Ce,d as me,m as pe,e as he,g as ke}from"../chunks/index.aa7fb691.js";import{m as Ne,g as le,a as se,b as oe,c as ne,d as re,S as be,u as Ie}from"../chunks/Sudoku.1de0f315.js";const xe=s=>{const t=JSON.parse(JSON.stringify(s));return ue(t),t},ue=s=>{for(let t=0;t<9;t++)for(let o=0;o<9;o++)if(s[t][o].value===void 0){for(let e=1;e<=9;e++)if(Ne(s,{row:t,col:o},e)){if(s[t][o].value=e,ue(s))return!0;s[t][o].value=void 0}return!1}return!0},W=(s,t,o,e)=>{if(!e||s[t][o].value)return!1;const a=s[t][o].notes.indexOf(e);return a===-1?!1:(s[t][o].notes.splice(a,1),!0)},Te=s=>{for(let t=0;t<9;t++)for(let o=0;o<9;o++)s[t][o].notes=[]},Ve=s=>{for(let t=0;t<9;t++)for(let o=0;o<9;o++)s[t][o].value?s[t][o].notes=[]:s[t][o].notes=[1,2,3,4,5,6,7,8,9];for(let t=0;t<9;t++)for(let o=0;o<9;o++){const{value:e}=s[t][o];if(e)continue;for(let d=0;d<9;d++){const u=s[d][o].value;W(s,t,o,u);const S=s[t][d].value;W(s,t,o,S)}const a=Math.floor(o/3),q=Math.floor(t/3);for(let d=0;d<3;d++)for(let u=0;u<3;u++){const S=s[3*q+d][3*a+u].value;W(s,t,o,S)}}};function ie(s){let t,o,e,a,q="grid has errors",d,u,S="grid is filled",B,i,H="grid is valid",U,C,g="grid has solutions",G,m,J=s[1]?"Has errors":"No errors",E,V,w,r=s[2]?"Is filled":"Not filled",p,k,O,R=s[3]?"Is valid":"Not valid",F,N,l,c,D;return t=new be({props:{grid:s[0]}}),t.$on("cellUpdate",s[6]),{c(){Ce(t.$$.fragment),o=x(),e=b("div"),a=b("div"),a.textContent=q,d=x(),u=b("div"),u.textContent=S,B=x(),i=b("div"),i.textContent=H,U=x(),C=b("div"),C.textContent=g,G=x(),m=b("div"),E=K(J),V=x(),w=b("div"),p=K(r),k=x(),O=b("div"),F=K(R),N=x(),l=b("div"),c=K(s[4]),this.h()},l(f){me(t.$$.fragment,f),o=T(f),e=I(f,"DIV",{class:!0});var n=A(e);a=I(n,"DIV",{"data-svelte-h":!0}),y(a)!=="svelte-1hlqbal"&&(a.textContent=q),d=T(n),u=I(n,"DIV",{"data-svelte-h":!0}),y(u)!=="svelte-ekf37s"&&(u.textContent=S),B=T(n),i=I(n,"DIV",{"data-svelte-h":!0}),y(i)!=="svelte-16e0vl8"&&(i.textContent=H),U=T(n),C=I(n,"DIV",{"data-svelte-h":!0}),y(C)!=="svelte-1tjrozg"&&(C.textContent=g),G=T(n),m=I(n,"DIV",{class:!0});var z=A(m);E=L(z,J),z.forEach(v),V=T(n),w=I(n,"DIV",{class:!0});var Z=A(w);p=L(Z,r),Z.forEach(v),k=T(n),O=I(n,"DIV",{class:!0});var $=A(O);F=L($,R),$.forEach(v),N=T(n),l=I(n,"DIV",{class:!0});var ee=A(l);c=L(ee,s[4]),ee.forEach(v),n.forEach(v),this.h()},h(){M(m,"class","status svelte-1csoeu4"),j(m,"red",s[1]),M(w,"class","status svelte-1csoeu4"),j(w,"red",!s[2]),M(O,"class","status svelte-1csoeu4"),j(O,"red",!s[3]),M(l,"class","status svelte-1csoeu4"),j(l,"red",s[4]!=="unique"),M(e,"class","grid-status svelte-1csoeu4")},m(f,n){pe(t,f,n),h(f,o,n),h(f,e,n),_(e,a),_(e,d),_(e,u),_(e,B),_(e,i),_(e,U),_(e,C),_(e,G),_(e,m),_(m,E),_(e,V),_(e,w),_(w,p),_(e,k),_(e,O),_(O,F),_(e,N),_(e,l),_(l,c),D=!0},p(f,n){const z={};n&1&&(z.grid=f[0]),t.$set(z),(!D||n&2)&&J!==(J=f[1]?"Has errors":"No errors")&&Q(E,J),(!D||n&2)&&j(m,"red",f[1]),(!D||n&4)&&r!==(r=f[2]?"Is filled":"Not filled")&&Q(p,r),(!D||n&4)&&j(w,"red",!f[2]),(!D||n&8)&&R!==(R=f[3]?"Is valid":"Not valid")&&Q(F,R),(!D||n&8)&&j(O,"red",!f[3]),(!D||n&16)&&Q(c,f[4]),(!D||n&16)&&j(l,"red",f[4]!=="unique")},i(f){D||(Y(t.$$.fragment,f),D=!0)},o(f){X(t.$$.fragment,f),D=!1},d(f){f&&(v(o),v(e)),he(t,f)}}}function Oe(s){let t,o="Prev",e,a,q="New Grid",d,u,S="Compute notes",B,i,H="Remove notes",U,C,g="Solve grid",G,m,J="Reset grid",E,V,w="Remove fixed",r,p=s[0],k,O,R,F,N=ie(s);return{c(){t=b("button"),t.textContent=o,e=x(),a=b("button"),a.textContent=q,d=x(),u=b("button"),u.textContent=S,B=x(),i=b("button"),i.textContent=H,U=x(),C=b("button"),C.textContent=g,G=x(),m=b("button"),m.textContent=J,E=x(),V=b("button"),V.textContent=w,r=x(),N.c(),k=te()},l(l){t=I(l,"BUTTON",{"data-svelte-h":!0}),y(t)!=="svelte-bivxk4"&&(t.textContent=o),e=T(l),a=I(l,"BUTTON",{"data-svelte-h":!0}),y(a)!=="svelte-1oh0e6u"&&(a.textContent=q),d=T(l),u=I(l,"BUTTON",{"data-svelte-h":!0}),y(u)!=="svelte-12olw78"&&(u.textContent=S),B=T(l),i=I(l,"BUTTON",{"data-svelte-h":!0}),y(i)!=="svelte-16z5c15"&&(i.textContent=H),U=T(l),C=I(l,"BUTTON",{"data-svelte-h":!0}),y(C)!=="svelte-1wjgins"&&(C.textContent=g),G=T(l),m=I(l,"BUTTON",{"data-svelte-h":!0}),y(m)!=="svelte-69m1bk"&&(m.textContent=J),E=T(l),V=I(l,"BUTTON",{"data-svelte-h":!0}),y(V)!=="svelte-g7g4he"&&(V.textContent=w),r=T(l),N.l(l),k=te()},m(l,c){h(l,t,c),h(l,e,c),h(l,a,c),h(l,d,c),h(l,u,c),h(l,B,c),h(l,i,c),h(l,U,c),h(l,C,c),h(l,G,c),h(l,m,c),h(l,E,c),h(l,V,c),h(l,r,c),N.m(l,c),h(l,k,c),O=!0,R||(F=[P(t,"click",s[11]),P(a,"click",s[12]),P(u,"click",s[13]),P(i,"click",s[14]),P(C,"click",s[15]),P(m,"click",s[16]),P(V,"click",s[17])],R=!0)},p(l,[c]){c&1&&ae(p,p=l[0])?(ke(),X(N,1,1,fe),_e(),N=ie(l),N.c(),Y(N,1),N.m(k.parentNode,k)):N.p(l,c)},i(l){O||(Y(N),O=!0)},o(l){X(N),O=!1},d(l){l&&(v(t),v(e),v(a),v(d),v(u),v(B),v(i),v(U),v(C),v(G),v(m),v(E),v(V),v(r),v(k)),N.d(l),R=!1,ce(F)}}}function Se(s,t,o){let e=le();const a=[JSON.parse(JSON.stringify(e))];let q=se(e),d=oe(e),u=ne(e),S=re(e);const B=r=>{Ie(r.detail.cell,r.detail.update),i()},i=r=>{o(1,q=se(e)),o(2,d=oe(e)),o(3,u=ne(e)),o(4,S=re(e)),o(0,e),!(r!=null&&r.noHistory)&&a.push(JSON.parse(JSON.stringify(e)))},H=r=>{for(let p=0;p<9;p++)for(let k=0;k<9;k++)r[p][k].fixed||(r[p][k].value=void 0,r[p][k].notes=[])},U=()=>{const r=xe(e);o(0,e=r),i()},C=()=>{for(let r=0;r<9;r++)for(let p=0;p<9;p++)o(0,e[r][p].fixed=!1,e)};return[e,q,d,u,S,a,B,i,H,U,C,()=>{o(0,e=a.pop()),i({noHistory:!0})},()=>{o(0,e=le()),i()},()=>{Ve(e),i()},()=>{Te(e),i()},()=>{U(),i()},()=>{H(e),i()},()=>{C(),i()}]}class ye extends ve{constructor(t){super(),de(this,t,Se,Oe,ae,{})}}export{ye as component};
