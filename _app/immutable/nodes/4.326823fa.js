import{s as ee,f as k,a as g,e as K,g as I,H as y,c as w,i as D,y as L,d as m,C as te,l as j,h as T,m as x,j as U,J as E,I as v,n as B,G as le}from"../chunks/scheduler.f51c602a.js";import{S as se,i as ae,t as M,c as oe,a as A,b as ne,d as re,m as ie,e as ue,g as de}from"../chunks/index.aa7fb691.js";import{e as Q,a as W,b as X,c as Y,S as fe,u as ce}from"../chunks/Sudoku.565a305b.js";const F=(s,e,l,t)=>{if(!t||s[e][l].value)return!1;const n=s[e][l].notes.indexOf(t);return n===-1?!1:(s[e][l].notes.splice(n,1),!0)},ve=s=>{for(let e=0;e<9;e++)for(let l=0;l<9;l++)s[e][l].value?s[e][l].notes=[]:s[e][l].notes=[1,2,3,4,5,6,7,8,9];for(let e=0;e<9;e++)for(let l=0;l<9;l++){const{value:t}=s[e][l];if(t)continue;for(let i=0;i<9;i++){const d=s[i][l].value;F(s,e,l,d);const u=s[e][i].value;F(s,e,l,u)}const n=Math.floor(l/3),p=Math.floor(e/3);for(let i=0;i<3;i++)for(let d=0;d<3;d++){const u=s[3*p+i][3*n+d].value;F(s,e,l,u)}}};function Z(s){let e,l,t,n,p="grid has errors",i,d,u="grid is filled",C,_,V="grid is valid",f,a,c=s[1]?"Has errors":"No errors",z,O,N,$=s[2]?"Is filled":"Not filled",G,R,b,q=s[3]?"Is valid":"Not valid",H,h;return e=new fe({props:{grid:s[0]}}),e.$on("cellUpdate",s[4]),{c(){ne(e.$$.fragment),l=g(),t=k("div"),n=k("div"),n.textContent=p,i=g(),d=k("div"),d.textContent=u,C=g(),_=k("div"),_.textContent=V,f=g(),a=k("div"),z=j(c),O=g(),N=k("div"),G=j($),R=g(),b=k("div"),H=j(q),this.h()},l(r){re(e.$$.fragment,r),l=w(r),t=I(r,"DIV",{class:!0});var o=T(t);n=I(o,"DIV",{"data-svelte-h":!0}),y(n)!=="svelte-1hlqbal"&&(n.textContent=p),i=w(o),d=I(o,"DIV",{"data-svelte-h":!0}),y(d)!=="svelte-ekf37s"&&(d.textContent=u),C=w(o),_=I(o,"DIV",{"data-svelte-h":!0}),y(_)!=="svelte-16e0vl8"&&(_.textContent=V),f=w(o),a=I(o,"DIV",{class:!0});var S=T(a);z=x(S,c),S.forEach(m),O=w(o),N=I(o,"DIV",{class:!0});var J=T(N);G=x(J,$),J.forEach(m),R=w(o),b=I(o,"DIV",{class:!0});var P=T(b);H=x(P,q),P.forEach(m),o.forEach(m),this.h()},h(){U(a,"class","status svelte-reswgz"),E(a,"red",s[1]),U(N,"class","status svelte-reswgz"),E(N,"red",!s[2]),U(b,"class","status svelte-reswgz"),E(b,"red",!s[3]),U(t,"class","grid-status svelte-reswgz")},m(r,o){ie(e,r,o),D(r,l,o),D(r,t,o),v(t,n),v(t,i),v(t,d),v(t,C),v(t,_),v(t,f),v(t,a),v(a,z),v(t,O),v(t,N),v(N,G),v(t,R),v(t,b),v(b,H),h=!0},p(r,o){const S={};o&1&&(S.grid=r[0]),e.$set(S),(!h||o&2)&&c!==(c=r[1]?"Has errors":"No errors")&&B(z,c),(!h||o&2)&&E(a,"red",r[1]),(!h||o&4)&&$!==($=r[2]?"Is filled":"Not filled")&&B(G,$),(!h||o&4)&&E(N,"red",!r[2]),(!h||o&8)&&q!==(q=r[3]?"Is valid":"Not valid")&&B(H,q),(!h||o&8)&&E(b,"red",!r[3])},i(r){h||(A(e.$$.fragment,r),h=!0)},o(r){M(e.$$.fragment,r),h=!1},d(r){r&&(m(l),m(t)),ue(e,r)}}}function _e(s){let e,l="Random Grid",t,n,p="Compute notes",i,d=s[0],u,C,_,V,f=Z(s);return{c(){e=k("button"),e.textContent=l,t=g(),n=k("button"),n.textContent=p,i=g(),f.c(),u=K()},l(a){e=I(a,"BUTTON",{"data-svelte-h":!0}),y(e)!=="svelte-1fgjb5d"&&(e.textContent=l),t=w(a),n=I(a,"BUTTON",{"data-svelte-h":!0}),y(n)!=="svelte-12olw78"&&(n.textContent=p),i=w(a),f.l(a),u=K()},m(a,c){D(a,e,c),D(a,t,c),D(a,n,c),D(a,i,c),f.m(a,c),D(a,u,c),C=!0,_||(V=[L(e,"click",s[6]),L(n,"click",s[7])],_=!0)},p(a,[c]){c&1&&ee(d,d=a[0])?(de(),M(f,1,1,le),oe(),f=Z(a),f.c(),A(f,1),f.m(u.parentNode,u)):f.p(a,c)},i(a){C||(A(f),C=!0)},o(a){M(f),C=!1},d(a){a&&(m(e),m(t),m(n),m(i),m(u)),f.d(a),_=!1,te(V)}}}function me(s,e,l){let t=Q(),n=W(t),p=X(t),i=Y(t);const d=V=>{ce(V.detail.cell,V.detail.update),u()},u=()=>{l(1,n=W(t)),l(2,p=X(t)),l(3,i=Y(t)),l(0,t)};return[t,n,p,i,d,u,()=>{l(0,t=Q()),u()},()=>{ve(t),u()}]}class ke extends se{constructor(e){super(),ae(this,e,me,_e,ee,{})}}export{ke as component};
