import{s as ee,e as J,i as K,y as W,G as ne,d as E,C as Ie,f as B,l as Z,a as T,g as R,h as X,m as x,c as D,H as te,j as z,k as ae,I as g,n as Te,K as De,M as Ge,L,D as $e,N as ve,p as Ce,O as he,P as k}from"./scheduler.193db7c4.js";import{S as re,i as ie,b as $,d as A,m as j,a as H,t as F,e as P}from"./index.9bea933b.js";import{a as ue,b as Oe,d as Ae}from"./store.8b4149bb.js";import{w as je}from"./index.33e6b952.js";const He=(e,t)=>{if(e<0||e>8)throw new Error(`unexpected square position: ${e}`);const l=Math.floor(e/3),o=e%3,n=3*l,s=3*o;return[t[n][s],t[n][s+1],t[n][s+2],t[n+1][s],t[n+1][s+1],t[n+1][s+2],t[n+2][s],t[n+2][s+1],t[n+2][s+2]]};function Fe(e){return e.notes!==void 0}function Pe(e){return e.clear===!0}const gt=(e,t)=>{if(e.fixed)throw new Error("Tried to update fixed cell");if(Fe(t)){e.value=void 0,e.notes=[...t.notes];return}if(Pe(t)){e.notes=[],e.value=void 0;return}e.notes=[],e.value=t.value},oe=e=>JSON.parse(JSON.stringify(e)),fe=(e,t,l,o)=>{if(!o||e[t][l].value)return!1;const n=e[t][l].notes.indexOf(o);return n===-1?!1:(e[t][l].notes.splice(n,1),!0)},vt=e=>{for(let t=0;t<9;t++)for(let l=0;l<9;l++)e[t][l].notes=[]},ze=(e,t)=>{const{row:l,col:o}=t;if(e[l][o].value){e[l][o].notes=[];return}e[l][o].notes=[1,2,3,4,5,6,7,8,9];const n=Math.floor(o/3),s=Math.floor(l/3);for(let i=0;i<9;i++){const u=e[i][o].value;fe(e,l,o,u);const c=e[l][i].value;fe(e,l,o,c);const _=Math.floor(i/3),m=i%3,q=e[3*s+_][3*n+m].value;fe(e,l,o,q)}return e[l][o].notes},Le=e=>{for(let t=0;t<9;t++)for(let l=0;l<9;l++)ze(e,{row:t,col:l})},Ct=e=>{for(let t=0;t<9;t++)for(let l=0;l<9;l++)e[t][l].fixed||(e[t][l].value=void 0,e[t][l].notes=[])},Xe=(e,t,l)=>{const{col:o,row:n}=t;if(e[n][o].value!==void 0)return!1;const s=Math.floor(o/3),i=Math.floor(n/3);for(let u=0;u<9;u++){if(e[n][u].value===l||e[u][o].value===l)return!1;const c=Math.floor(u/3),_=u%3;if(e[3*i+c][3*s+_].value===l)return!1}return!0},wt=e=>{const t=[],l=new Array(27).fill(0);for(let o=0;o<9;o++)for(let n=0;n<9;n++){if(e[o][n].value===void 0)continue;const s=e[o][n].value,i=1<<s-1,u=l[o],c=l[9+n],_=l[18+Math.floor(o/3)*3+Math.floor(n/3)];u&i&&t.push({type:"row",col:n,row:o,value:s}),c&i&&t.push({type:"column",col:n,row:o,value:s}),_&i&&t.push({type:"square",col:n,row:o,value:s}),l[o]^=i,l[9+n]^=i,l[18+Math.floor(o/3)*3+Math.floor(n/3)]^=i}return t},se=e=>{const t=new Array(27).fill(0);for(let l=0;l<9;l++)for(let o=0;o<9;o++){if(e[l][o].value===void 0)continue;const s=1<<e[l][o].value-1,i=t[l],u=t[9+o],c=t[18+Math.floor(l/3)*3+Math.floor(o/3)];if(i&s||u&s||c&s)return!0;t[l]^=s,t[9+o]^=s,t[18+Math.floor(l/3)*3+Math.floor(o/3)]^=s}return!1},le=e=>{for(let t=0;t<9;t++)for(let l=0;l<9;l++)if(!e[t][l].value)return!1;return!0},_e=e=>le(e)&&!se(e);let de=0;const Be=1e4,Ke=e=>{if(le(e))return _e(e)?"unique":"none";const t=oe(e);let l=0;for(let n=0;n<9;n++)for(let s=0;s<9;s++)e[n][s].value!==void 0&&l++;const o=[];return de=0,Re(t,o,l),de>=Be?"unreachable":o.length===0?"none":o.length===1?"unique":"notUnique"},Re=(e,t,l)=>{if(!(de++>=Be)){for(let o=0;o<9;o++)for(let n=0;n<9;n++)if(e[o][n].value===void 0){for(let s=1;s<=9;s++)if(Xe(e,{row:o,col:n},s)){if(e[o][n].value=s,Re(e,t,l+1)&&(l===80&&t.push(oe(e)),t.length>=2))return!0;e[o][n].value=void 0}return!1}return!0}},bt=(e,t)=>{if(se(e)||le(e))return e;const l=oe(e);Le(l);const o=[l];for(;o.length;){const n=o.pop();if(t&&t.push(oe(n)),se(n))continue;if(le(n)){if(_e(n))return n;continue}const s=Ye(n);if(!s.length)continue;const i=Math.floor(Math.random()*s.length),u=s[i],c=oe(n);c[u.row][u.col].notes=c[u.row][u.col].notes.filter(_=>_!==u.value),o.push(c),Je(n,u),ye(n),o.push(n)}return l},ce=(e,t,l,o)=>{if(e[t][l].value)return!1;const n=e[t][l].notes.indexOf(o);return n===-1?!1:(e[t][l].notes.splice(n,1),e[t][l].notes.length===1?(e[t][l].value=e[t][l].notes.pop(),!0):!1)},ye=e=>{if(le(e)||se(e))return;let t=!1;for(let l=0;l<9;l++)for(let o=0;o<9;o++){const{value:n}=e[l][o];if(!n)continue;for(let u=0;u<9;u++)t=t||ce(e,u,o,n),t=t||ce(e,l,u,n);const s=Math.floor(o/3),i=Math.floor(l/3);for(let u=0;u<3;u++)for(let c=0;c<3;c++)t=t||ce(e,3*i+u,3*s+c,n)}t&&ye(e)},We=(e,t)=>{const{row:l,col:o,value:n}=t;return!(e[l][o].value||!e[l][o].notes.includes(n))},Je=(e,t)=>{if(!We(e,t))return;const{row:l,col:o,value:n}=t;e[l][o].value=n,e[l][o].notes=[]},Ye=e=>{let t=[],l=9;for(let o=0;o<9;o++)for(let n=0;n<9;n++){if(e[o][n].value!==void 0)continue;const{notes:s}=e[o][n];if(s.length<l&&(l=s.length,t=[]),s.length===l)for(const i of e[o][n].notes)t.push({row:o,col:n,value:i})}return t},kt=()=>{const e=[];for(let t=0;t<9;t++){e.push([]);for(let l=0;l<9;l++){const o={value:void 0,fixed:!1,notes:[1,2,3,4,5,6,7,8,9]};e[e.length-1].push(o)}}return e};function we(e,t,l){const o=e.slice();return o[21]=t[l],o}function be(e){let t=e[2],l,o=Ue(e);return{c(){o.c(),l=J()},l(n){o.l(n),l=J()},m(n,s){o.m(n,s),K(n,l,s)},p(n,s){s&4&&ee(t,t=n[2])?(o.d(1),o=Ue(n),o.c(),o.m(l.parentNode,l)):o.p(n,s)},d(n){n&&E(l),o.d(n)}}}function Qe(e){let t,l,o,n;function s(){return e[18](e[21])}return{c(){t=B("button"),l=Z(e[21]),this.h()},l(i){t=R(i,"BUTTON",{class:!0});var u=X(t);l=x(u,e[21]),u.forEach(E),this.h()},h(){z(t,"class","choice-btn svelte-1wa913h"),L(t,"selected",e[6]===e[21])},m(i,u){K(i,t,u),g(t,l),o||(n=W(t,"click",s),o=!0)},p(i,u){e=i,u&64&&L(t,"selected",e[6]===e[21])},d(i){i&&E(t),o=!1,n()}}}function Ze(e){let t=e[5],l,o=ke(e);return{c(){o.c(),l=J()},l(n){o.l(n),l=J()},m(n,s){o.m(n,s),K(n,l,s)},p(n,s){s&32&&ee(t,t=n[5])?(o.d(1),o=ke(n),o.c(),o.m(l.parentNode,l)):o.p(n,s)},d(n){n&&E(l),o.d(n)}}}function ke(e){let t,l,o,n;function s(){return e[17](e[21])}return{c(){t=B("button"),l=Z(e[21]),this.h()},l(i){t=R(i,"BUTTON",{class:!0});var u=X(t);l=x(u,e[21]),u.forEach(E),this.h()},h(){z(t,"class","choice-btn svelte-1wa913h"),L(t,"selected",e[5][e[21]-1])},m(i,u){K(i,t,u),g(t,l),o||(n=W(t,"click",s),o=!0)},p(i,u){e=i,u&32&&L(t,"selected",e[5][e[21]-1])},d(i){i&&E(t),o=!1,n()}}}function Ne(e){let t;function l(s,i){return s[4]?Ze:Qe}let o=l(e),n=o(e);return{c(){n.c(),t=J()},l(s){n.l(s),t=J()},m(s,i){n.m(s,i),K(s,t,i)},p(s,i){o===(o=l(s))&&n?n.p(s,i):(n.d(1),n=o(s),n&&(n.c(),n.m(t.parentNode,t)))},d(s){s&&E(t),n.d(s)}}}function Ee(e){let t,l="Auto notes",o,n;return{c(){t=B("button"),t.textContent=l},l(s){t=R(s,"BUTTON",{"data-svelte-h":!0}),te(t)!=="svelte-1y6181p"&&(t.textContent=l)},m(s,i){K(s,t,i),o||(n=W(t,"click",function(){Ge(e[1])&&e[1].apply(this,arguments)}),o=!0)},p(s,i){e=s},d(s){s&&E(t),o=!1,n()}}}function Ue(e){let t,l,o,n=e[4]?"Notes":"Value",s,i,u,c="âœ–",_,m,q,p,U,v="Change mode",O,b,y,C=ue([1,2,3,4,5,6,7,8,9]),h=[];for(let a=0;a<9;a+=1)h[a]=Ne(we(e,C,a));let r=e[4]&&Ee(e);return{c(){t=B("div"),l=B("div"),o=B("h3"),s=Z(n),i=T(),u=B("button"),u.textContent=c,_=T(),m=B("div");for(let a=0;a<9;a+=1)h[a].c();q=T(),p=B("div"),U=B("button"),U.textContent=v,O=T(),r&&r.c(),this.h()},l(a){t=R(a,"DIV",{role:!0,class:!0,style:!0});var N=X(t);l=R(N,"DIV",{class:!0});var w=X(l);o=R(w,"H3",{class:!0});var f=X(o);s=x(f,n),i=D(f),u=R(f,"BUTTON",{"data-svelte-h":!0}),te(u)!=="svelte-15i1wwz"&&(u.textContent=c),f.forEach(E),_=D(w),m=R(w,"DIV",{class:!0});var I=X(m);for(let S=0;S<9;S+=1)h[S].l(I);I.forEach(E),q=D(w),p=R(w,"DIV",{});var V=X(p);U=R(V,"BUTTON",{"data-svelte-h":!0}),te(U)!=="svelte-1y20icv"&&(U.textContent=v),O=D(V),r&&r.l(V),V.forEach(E),w.forEach(E),N.forEach(E),this.h()},h(){z(o,"class","title-bar svelte-1wa913h"),z(m,"class","grid svelte-1wa913h"),z(l,"class","contents svelte-1wa913h"),z(t,"role","dialog"),z(t,"class","modal svelte-1wa913h"),ae(t,"top",e[2]+"px"),ae(t,"left",e[3]+"px")},m(a,N){K(a,t,N),g(t,l),g(l,o),g(o,s),g(o,i),g(o,u),g(l,_),g(l,m);for(let w=0;w<9;w+=1)h[w]&&h[w].m(m,null);g(l,q),g(l,p),g(p,U),g(p,O),r&&r.m(p,null),b||(y=[W(u,"click",Oe),W(U,"click",e[8]),W(t,"mousedown",e[11])],b=!0)},p(a,N){if(N&16&&n!==(n=a[4]?"Notes":"Value")&&Te(s,n),N&240){C=ue([1,2,3,4,5,6,7,8,9]);let w;for(w=0;w<9;w+=1){const f=we(a,C,w);h[w]?h[w].p(f,N):(h[w]=Ne(f),h[w].c(),h[w].m(m,null))}for(;w<9;w+=1)h[w].d(1)}a[4]?r?r.p(a,N):(r=Ee(a),r.c(),r.m(p,null)):r&&(r.d(1),r=null),N&4&&ae(t,"top",a[2]+"px"),N&8&&ae(t,"left",a[3]+"px")},d(a){a&&E(t),De(h,a),r&&r.d(),b=!1,Ie(y)}}}function xe(e){let t,l,o,n=e[0]&&be(e);return{c(){n&&n.c(),t=J()},l(s){n&&n.l(s),t=J()},m(s,i){n&&n.m(s,i),K(s,t,i),l||(o=[W(window,"keydown",e[9]),W(window,"keyup",e[10]),W(window,"mouseup",e[13]),W(window,"mousemove",e[12])],l=!0)},p(s,[i]){s[0]?n?n.p(s,i):(n=be(s),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},i:ne,o:ne,d(s){s&&E(t),n&&n.d(s),l=!1,Ie(o)}}}function et(e,t,l){let{isOpen:o}=t,{onSelectionUpdated:n}=t,{onComputeCellNotes:s}=t,{initialState:i}=t,{parentBoundingRect:u}=t;const c=f=>{const I=document.body.getBoundingClientRect(),V=300,S=300;let G=f.top-S/2,M=f.right;return M>I.width/2&&(M=f.left-V-f.width),{top:G,left:Math.max(0,M)}};let{top:_,left:m}=c(u),q=i.notes.length>0,p=new Array(9).fill(!1).map((f,I)=>i.notes.includes(I+1)),U=i.value;const v=(f,I)=>{if(I==="notes"){l(5,p[f-1]=!p[f-1],p),l(5,p),l(6,U=void 0),n({notes:p.map((V,S)=>S+1).filter(V=>p[V-1])});return}if(U===f){n({clear:!0}),l(6,U=void 0),l(5,p=[]);return}l(6,U=f),l(5,p=[]),n({value:U}),Oe()},O=()=>{l(4,q=!q)},b=f=>{const I="!@#$%^&*(",V=f.getModifierState("Shift");let S;if(S=f.key,S==="Backspace"){n({clear:!0});return}S==="Shift"&&l(4,q=!0),I.includes(S)&&(S=I.indexOf(S)+1),!isNaN(Number(S))&&v(Number(S),V?"notes":"value")},y=f=>{const{key:I}=f;I==="Shift"&&l(4,q=!1)};let C=!1;function h(){C=!0}function r(f){C&&(l(3,m+=f.movementX),l(2,_+=f.movementY))}function a(){C=!1}const N=f=>v(f,"notes"),w=f=>v(f,"value");return e.$$set=f=>{"isOpen"in f&&l(0,o=f.isOpen),"onSelectionUpdated"in f&&l(14,n=f.onSelectionUpdated),"onComputeCellNotes"in f&&l(1,s=f.onComputeCellNotes),"initialState"in f&&l(15,i=f.initialState),"parentBoundingRect"in f&&l(16,u=f.parentBoundingRect)},[o,s,_,m,q,p,U,v,O,b,y,h,r,a,n,i,u,N,w]}class tt extends re{constructor(t){super(),ie(this,t,et,xe,ee,{isOpen:0,onSelectionUpdated:14,onComputeCellNotes:1,initialState:15,parentBoundingRect:16})}}const nt=je();function Me(e,t,l){const o=e.slice();return o[16]=t[l],o}function lt(e){let t,l,o,n,s=ue([1,2,3,4,5,6,7,8,9]),i=[];for(let u=0;u<9;u+=1)i[u]=Se(Me(e,s,u));return{c(){t=B("button");for(let u=0;u<9;u+=1)i[u].c();this.h()},l(u){t=R(u,"BUTTON",{class:!0});var c=X(t);for(let _=0;_<9;_+=1)i[_].l(c);c.forEach(E),this.h()},h(){z(t,"class",l=he("cell notes "+e[2]+" "+e[7])+" svelte-136izju")},m(u,c){K(u,t,c);for(let _=0;_<9;_+=1)i[_]&&i[_].m(t,null);e[12](t),o||(n=W(t,"click",e[4]),o=!0)},p(u,c){if(c&105){s=ue([1,2,3,4,5,6,7,8,9]);let _;for(_=0;_<9;_+=1){const m=Me(u,s,_);i[_]?i[_].p(m,c):(i[_]=Se(m),i[_].c(),i[_].m(t,null))}for(;_<9;_+=1)i[_].d(1)}c&4&&l!==(l=he("cell notes "+u[2]+" "+u[7])+" svelte-136izju")&&z(t,"class",l)},d(u){u&&E(t),De(i,u),e[12](null),o=!1,n()}}}function ot(e){let t,l=e[0].value+"",o,n,s,i;return{c(){t=B("button"),o=Z(l),this.h()},l(u){t=R(u,"BUTTON",{class:!0});var c=X(t);o=x(c,l),c.forEach(E),this.h()},h(){z(t,"class",he("cell value "+e[7])+" svelte-136izju"),t.disabled=n=e[0].fixed,L(t,"fixed",e[0].fixed),L(t,"highlight",e[3]!==void 0&&e[3]===e[0].value)},m(u,c){K(u,t,c),g(t,o),e[11](t),s||(i=W(t,"click",e[4]),s=!0)},p(u,c){c&1&&l!==(l=u[0].value+"")&&Te(o,l),c&1&&n!==(n=u[0].fixed)&&(t.disabled=n),c&1&&L(t,"fixed",u[0].fixed),c&9&&L(t,"highlight",u[3]!==void 0&&u[3]===u[0].value)},d(u){u&&E(t),e[11](null),s=!1,i()}}}function qe(e){let t;return{c(){t=Z(e[16])},l(l){t=x(l,e[16])},m(l,o){K(l,t,o)},d(l){l&&E(t)}}}function Se(e){let t,l=e[0].notes.includes(e[16]),o,n=l&&qe(e);return{c(){t=B("div"),n&&n.c(),o=T(),this.h()},l(s){t=R(s,"DIV",{class:!0});var i=X(t);n&&n.l(i),o=D(i),i.forEach(E),this.h()},h(){z(t,"class","note svelte-136izju"),L(t,"hinted-note",e[5].includes(e[16])),L(t,"hinted-remove-note",e[6].includes(e[16])),L(t,"highlight",e[3]!==void 0&&e[3]===e[16])},m(s,i){K(s,t,i),n&&n.m(t,null),g(t,o)},p(s,i){i&1&&(l=s[0].notes.includes(s[16])),l?n||(n=qe(s),n.c(),n.m(t,o)):n&&(n.d(1),n=null),i&8&&L(t,"highlight",s[3]!==void 0&&s[3]===s[16])},d(s){s&&E(t),n&&n.d()}}}function st(e){let t;function l(s,i){return s[0].value?ot:lt}let o=l(e),n=o(e);return{c(){n.c(),t=J()},l(s){n.l(s),t=J()},m(s,i){n.m(s,i),K(s,t,i)},p(s,[i]){o===(o=l(s))&&n?n.p(s,i):(n.d(1),n=o(s),n&&(n.c(),n.m(t.parentNode,t)))},i:ne,o:ne,d(s){s&&E(t),n.d(s)}}}function rt(e,t,l){let o;$e(e,nt,h=>l(3,o=h));let{cell:n}=t,{position:s}=t,{gridErrors:i}=t,{hints:u=[]}=t;const c=ve(),_=ve();let m;const q=()=>{Ae(tt,{initialState:n,onSelectionUpdated:a=>{c("cellUpdate",{cell:n,update:a})},onComputeCellNotes:()=>{_("computeCellNotes",{position:s})},parentBoundingRect:m.getBoundingClientRect()})};let p="";const U=[],v=[];for(const h of u){for(const r of h.cause)r.row===s.row&&r.col===s.col&&(h.type==="naked_pair"?p="naked-pair-hint":p="lone-hint",U.push(...r.notes));for(const r of h.effect)r.row===s.row&&r.col===s.col&&v.push(...r.notes)}const O=[];for(const h of i){const r=3*Math.floor(s.row/3)+Math.floor(s.col/3),a=3*Math.floor(h.row/3)+Math.floor(h.col/3);if(h.col===s.col&&h.row===s.row||h.type==="column"&&h.col===s.col&&h.value===n.value||h.type==="row"&&h.row===s.row&&h.value===n.value||h.type==="square"&&r===a&&h.value===n.value){O.push("is-error-cell");continue}h.type==="column"&&h.col===s.col&&O.push("is-error-col"),h.type==="row"&&h.row===s.row&&O.push("is-error-row"),h.type==="square"&&r===a&&O.push("is-error-square")}let b=O.join(" ");function y(h){Ce[h?"unshift":"push"](()=>{m=h,l(1,m)})}function C(h){Ce[h?"unshift":"push"](()=>{m=h,l(1,m)})}return e.$$set=h=>{"cell"in h&&l(0,n=h.cell),"position"in h&&l(8,s=h.position),"gridErrors"in h&&l(9,i=h.gridErrors),"hints"in h&&l(10,u=h.hints)},[n,m,p,o,q,U,v,b,s,i,u,y,C]}class Y extends re{constructor(t){super(),ie(this,t,rt,st,ee,{cell:0,position:8,gridErrors:9,hints:10})}}function it(e){let t,l,o,n,s,i,u,c,_,m,q,p,U,v,O,b,y,C,h;return l=new Y({props:{cell:e[6][0],hints:e[1],gridErrors:e[0],position:{row:e[4],col:e[5]}}}),l.$on("cellUpdate",e[9]),l.$on("computeCellNotes",e[10]),n=new Y({props:{cell:e[6][1],hints:e[1],gridErrors:e[0],position:{row:e[4],col:e[5]+1}}}),n.$on("cellUpdate",e[11]),n.$on("computeCellNotes",e[12]),i=new Y({props:{cell:e[6][2],hints:e[1],gridErrors:e[0],position:{row:e[4],col:e[5]+2}}}),i.$on("cellUpdate",e[13]),i.$on("computeCellNotes",e[14]),c=new Y({props:{cell:e[6][3],hints:e[1],gridErrors:e[0],position:{row:e[4]+1,col:e[5]}}}),c.$on("cellUpdate",e[15]),c.$on("computeCellNotes",e[16]),m=new Y({props:{cell:e[6][4],hints:e[1],gridErrors:e[0],position:{row:e[4]+1,col:e[5]+1}}}),m.$on("cellUpdate",e[17]),m.$on("computeCellNotes",e[18]),p=new Y({props:{cell:e[6][5],hints:e[1],gridErrors:e[0],position:{row:e[4]+1,col:e[5]+2}}}),p.$on("cellUpdate",e[19]),p.$on("computeCellNotes",e[20]),v=new Y({props:{cell:e[6][6],hints:e[1],gridErrors:e[0],position:{row:e[4]+2,col:e[5]}}}),v.$on("cellUpdate",e[21]),v.$on("computeCellNotes",e[22]),b=new Y({props:{cell:e[6][7],hints:e[1],gridErrors:e[0],position:{row:e[4]+2,col:e[5]+1}}}),b.$on("cellUpdate",e[23]),b.$on("computeCellNotes",e[24]),C=new Y({props:{cell:e[6][8],hints:e[1],gridErrors:e[0],position:{row:e[4]+2,col:e[5]+2}}}),C.$on("cellUpdate",e[25]),C.$on("computeCellNotes",e[26]),{c(){t=B("div"),$(l.$$.fragment),o=T(),$(n.$$.fragment),s=T(),$(i.$$.fragment),u=T(),$(c.$$.fragment),_=T(),$(m.$$.fragment),q=T(),$(p.$$.fragment),U=T(),$(v.$$.fragment),O=T(),$(b.$$.fragment),y=T(),$(C.$$.fragment),this.h()},l(r){t=R(r,"DIV",{class:!0});var a=X(t);A(l.$$.fragment,a),o=D(a),A(n.$$.fragment,a),s=D(a),A(i.$$.fragment,a),u=D(a),A(c.$$.fragment,a),_=D(a),A(m.$$.fragment,a),q=D(a),A(p.$$.fragment,a),U=D(a),A(v.$$.fragment,a),O=D(a),A(b.$$.fragment,a),y=D(a),A(C.$$.fragment,a),a.forEach(E),this.h()},h(){z(t,"class","cell-grid svelte-1nq1cl9"),L(t,"borderLeftRight",e[2]),L(t,"borderTopBottom",e[3])},m(r,a){K(r,t,a),j(l,t,null),g(t,o),j(n,t,null),g(t,s),j(i,t,null),g(t,u),j(c,t,null),g(t,_),j(m,t,null),g(t,q),j(p,t,null),g(t,U),j(v,t,null),g(t,O),j(b,t,null),g(t,y),j(C,t,null),h=!0},p(r,[a]){const N={};a&2&&(N.hints=r[1]),a&1&&(N.gridErrors=r[0]),l.$set(N);const w={};a&2&&(w.hints=r[1]),a&1&&(w.gridErrors=r[0]),n.$set(w);const f={};a&2&&(f.hints=r[1]),a&1&&(f.gridErrors=r[0]),i.$set(f);const I={};a&2&&(I.hints=r[1]),a&1&&(I.gridErrors=r[0]),c.$set(I);const V={};a&2&&(V.hints=r[1]),a&1&&(V.gridErrors=r[0]),m.$set(V);const S={};a&2&&(S.hints=r[1]),a&1&&(S.gridErrors=r[0]),p.$set(S);const G={};a&2&&(G.hints=r[1]),a&1&&(G.gridErrors=r[0]),v.$set(G);const M={};a&2&&(M.hints=r[1]),a&1&&(M.gridErrors=r[0]),b.$set(M);const d={};a&2&&(d.hints=r[1]),a&1&&(d.gridErrors=r[0]),C.$set(d)},i(r){h||(H(l.$$.fragment,r),H(n.$$.fragment,r),H(i.$$.fragment,r),H(c.$$.fragment,r),H(m.$$.fragment,r),H(p.$$.fragment,r),H(v.$$.fragment,r),H(b.$$.fragment,r),H(C.$$.fragment,r),h=!0)},o(r){F(l.$$.fragment,r),F(n.$$.fragment,r),F(i.$$.fragment,r),F(c.$$.fragment,r),F(m.$$.fragment,r),F(p.$$.fragment,r),F(v.$$.fragment,r),F(b.$$.fragment,r),F(C.$$.fragment,r),h=!1},d(r){r&&E(t),P(l),P(n),P(i),P(c),P(m),P(p),P(v),P(b),P(C)}}}function at(e,t,l){let{position:o}=t,{grid:n}=t,{gridErrors:s}=t,{hints:i=[]}=t;const u=[1,4,7].includes(o),c=[3,4,5].includes(o),_=3*Math.floor(o/3),m=3*(o%3),q=He(o,n);function p(d){k.call(this,e,d)}function U(d){k.call(this,e,d)}function v(d){k.call(this,e,d)}function O(d){k.call(this,e,d)}function b(d){k.call(this,e,d)}function y(d){k.call(this,e,d)}function C(d){k.call(this,e,d)}function h(d){k.call(this,e,d)}function r(d){k.call(this,e,d)}function a(d){k.call(this,e,d)}function N(d){k.call(this,e,d)}function w(d){k.call(this,e,d)}function f(d){k.call(this,e,d)}function I(d){k.call(this,e,d)}function V(d){k.call(this,e,d)}function S(d){k.call(this,e,d)}function G(d){k.call(this,e,d)}function M(d){k.call(this,e,d)}return e.$$set=d=>{"position"in d&&l(7,o=d.position),"grid"in d&&l(8,n=d.grid),"gridErrors"in d&&l(0,s=d.gridErrors),"hints"in d&&l(1,i=d.hints)},[s,i,u,c,_,m,q,o,n,p,U,v,O,b,y,C,h,r,a,N,w,f,I,V,S,G,M]}class Q extends re{constructor(t){super(),ie(this,t,at,it,ee,{position:7,grid:8,gridErrors:0,hints:1})}}function ut(e){let t,l,o,n,s,i,u,c,_,m,q,p,U,v,O,b,y,C,h;return l=new Q({props:{position:0,hints:e[2],gridErrors:e[1],grid:e[0]}}),l.$on("cellUpdate",e[3]),l.$on("computeCellNotes",e[4]),n=new Q({props:{position:1,hints:e[2],gridErrors:e[1],grid:e[0]}}),n.$on("cellUpdate",e[5]),n.$on("computeCellNotes",e[6]),i=new Q({props:{position:2,hints:e[2],gridErrors:e[1],grid:e[0]}}),i.$on("cellUpdate",e[7]),i.$on("computeCellNotes",e[8]),c=new Q({props:{position:3,hints:e[2],gridErrors:e[1],grid:e[0]}}),c.$on("cellUpdate",e[9]),c.$on("computeCellNotes",e[10]),m=new Q({props:{position:4,hints:e[2],gridErrors:e[1],grid:e[0]}}),m.$on("cellUpdate",e[11]),m.$on("computeCellNotes",e[12]),p=new Q({props:{position:5,hints:e[2],gridErrors:e[1],grid:e[0]}}),p.$on("cellUpdate",e[13]),p.$on("computeCellNotes",e[14]),v=new Q({props:{position:6,hints:e[2],gridErrors:e[1],grid:e[0]}}),v.$on("cellUpdate",e[15]),v.$on("computeCellNotes",e[16]),b=new Q({props:{position:7,hints:e[2],gridErrors:e[1],grid:e[0]}}),b.$on("cellUpdate",e[17]),b.$on("computeCellNotes",e[18]),C=new Q({props:{position:8,hints:e[2],gridErrors:e[1],grid:e[0]}}),C.$on("cellUpdate",e[19]),C.$on("computeCellNotes",e[20]),{c(){t=B("div"),$(l.$$.fragment),o=T(),$(n.$$.fragment),s=T(),$(i.$$.fragment),u=T(),$(c.$$.fragment),_=T(),$(m.$$.fragment),q=T(),$(p.$$.fragment),U=T(),$(v.$$.fragment),O=T(),$(b.$$.fragment),y=T(),$(C.$$.fragment),this.h()},l(r){t=R(r,"DIV",{class:!0});var a=X(t);A(l.$$.fragment,a),o=D(a),A(n.$$.fragment,a),s=D(a),A(i.$$.fragment,a),u=D(a),A(c.$$.fragment,a),_=D(a),A(m.$$.fragment,a),q=D(a),A(p.$$.fragment,a),U=D(a),A(v.$$.fragment,a),O=D(a),A(b.$$.fragment,a),y=D(a),A(C.$$.fragment,a),a.forEach(E),this.h()},h(){z(t,"class","main-grid svelte-vli9ua")},m(r,a){K(r,t,a),j(l,t,null),g(t,o),j(n,t,null),g(t,s),j(i,t,null),g(t,u),j(c,t,null),g(t,_),j(m,t,null),g(t,q),j(p,t,null),g(t,U),j(v,t,null),g(t,O),j(b,t,null),g(t,y),j(C,t,null),h=!0},p(r,[a]){const N={};a&4&&(N.hints=r[2]),a&2&&(N.gridErrors=r[1]),a&1&&(N.grid=r[0]),l.$set(N);const w={};a&4&&(w.hints=r[2]),a&2&&(w.gridErrors=r[1]),a&1&&(w.grid=r[0]),n.$set(w);const f={};a&4&&(f.hints=r[2]),a&2&&(f.gridErrors=r[1]),a&1&&(f.grid=r[0]),i.$set(f);const I={};a&4&&(I.hints=r[2]),a&2&&(I.gridErrors=r[1]),a&1&&(I.grid=r[0]),c.$set(I);const V={};a&4&&(V.hints=r[2]),a&2&&(V.gridErrors=r[1]),a&1&&(V.grid=r[0]),m.$set(V);const S={};a&4&&(S.hints=r[2]),a&2&&(S.gridErrors=r[1]),a&1&&(S.grid=r[0]),p.$set(S);const G={};a&4&&(G.hints=r[2]),a&2&&(G.gridErrors=r[1]),a&1&&(G.grid=r[0]),v.$set(G);const M={};a&4&&(M.hints=r[2]),a&2&&(M.gridErrors=r[1]),a&1&&(M.grid=r[0]),b.$set(M);const d={};a&4&&(d.hints=r[2]),a&2&&(d.gridErrors=r[1]),a&1&&(d.grid=r[0]),C.$set(d)},i(r){h||(H(l.$$.fragment,r),H(n.$$.fragment,r),H(i.$$.fragment,r),H(c.$$.fragment,r),H(m.$$.fragment,r),H(p.$$.fragment,r),H(v.$$.fragment,r),H(b.$$.fragment,r),H(C.$$.fragment,r),h=!0)},o(r){F(l.$$.fragment,r),F(n.$$.fragment,r),F(i.$$.fragment,r),F(c.$$.fragment,r),F(m.$$.fragment,r),F(p.$$.fragment,r),F(v.$$.fragment,r),F(b.$$.fragment,r),F(C.$$.fragment,r),h=!1},d(r){r&&E(t),P(l),P(n),P(i),P(c),P(m),P(p),P(v),P(b),P(C)}}}function ft(e,t,l){let{grid:o}=t,{gridErrors:n}=t,{hints:s=[]}=t;function i(f){k.call(this,e,f)}function u(f){k.call(this,e,f)}function c(f){k.call(this,e,f)}function _(f){k.call(this,e,f)}function m(f){k.call(this,e,f)}function q(f){k.call(this,e,f)}function p(f){k.call(this,e,f)}function U(f){k.call(this,e,f)}function v(f){k.call(this,e,f)}function O(f){k.call(this,e,f)}function b(f){k.call(this,e,f)}function y(f){k.call(this,e,f)}function C(f){k.call(this,e,f)}function h(f){k.call(this,e,f)}function r(f){k.call(this,e,f)}function a(f){k.call(this,e,f)}function N(f){k.call(this,e,f)}function w(f){k.call(this,e,f)}return e.$$set=f=>{"grid"in f&&l(0,o=f.grid),"gridErrors"in f&&l(1,n=f.gridErrors),"hints"in f&&l(2,s=f.hints)},[o,n,s,i,u,c,_,m,q,p,U,v,O,b,y,C,h,r,a,N,w]}class Nt extends re{constructor(t){super(),ie(this,t,ft,ut,ee,{grid:0,gridErrors:1,hints:2})}}function Ve(e){let t,l,o="grid has errors",n,s,i="grid is filled",u,c,_="grid is valid",m,q,p="grid has solutions",U,v,O=e[1]?"Has errors":"No errors",b,y,C,h=e[2]?"Is filled":"Not filled",r,a,N,w=e[3]?"Is valid":"Not valid",f,I,V,S;return{c(){t=B("div"),l=B("div"),l.textContent=o,n=T(),s=B("div"),s.textContent=i,u=T(),c=B("div"),c.textContent=_,m=T(),q=B("div"),q.textContent=p,U=T(),v=B("div"),b=Z(O),y=T(),C=B("div"),r=Z(h),a=T(),N=B("div"),f=Z(w),I=T(),V=B("div"),S=Z(e[4]),this.h()},l(G){t=R(G,"DIV",{class:!0});var M=X(t);l=R(M,"DIV",{"data-svelte-h":!0}),te(l)!=="svelte-1hlqbal"&&(l.textContent=o),n=D(M),s=R(M,"DIV",{"data-svelte-h":!0}),te(s)!=="svelte-ekf37s"&&(s.textContent=i),u=D(M),c=R(M,"DIV",{"data-svelte-h":!0}),te(c)!=="svelte-16e0vl8"&&(c.textContent=_),m=D(M),q=R(M,"DIV",{"data-svelte-h":!0}),te(q)!=="svelte-1tjrozg"&&(q.textContent=p),U=D(M),v=R(M,"DIV",{class:!0});var d=X(v);b=x(d,O),d.forEach(E),y=D(M),C=R(M,"DIV",{class:!0});var me=X(C);r=x(me,h),me.forEach(E),a=D(M),N=R(M,"DIV",{class:!0});var pe=X(N);f=x(pe,w),pe.forEach(E),I=D(M),V=R(M,"DIV",{class:!0});var ge=X(V);S=x(ge,e[4]),ge.forEach(E),M.forEach(E),this.h()},h(){z(v,"class","status svelte-1csoeu4"),L(v,"red",e[1]),z(C,"class","status svelte-1csoeu4"),L(C,"red",!e[2]),z(N,"class","status svelte-1csoeu4"),L(N,"red",!e[3]),z(V,"class","status svelte-1csoeu4"),L(V,"red",e[4]!=="unique"),z(t,"class","grid-status svelte-1csoeu4")},m(G,M){K(G,t,M),g(t,l),g(t,n),g(t,s),g(t,u),g(t,c),g(t,m),g(t,q),g(t,U),g(t,v),g(v,b),g(t,y),g(t,C),g(C,r),g(t,a),g(t,N),g(N,f),g(t,I),g(t,V),g(V,S)},p:ne,d(G){G&&E(t)}}}function ct(e){let t=e[0],l,o=Ve(e);return{c(){o.c(),l=J()},l(n){o.l(n),l=J()},m(n,s){o.m(n,s),K(n,l,s)},p(n,[s]){s&1&&ee(t,t=n[0])?(o.d(1),o=Ve(n),o.c(),o.m(l.parentNode,l)):o.p(n,s)},i:ne,o:ne,d(n){n&&E(l),o.d(n)}}}function ht(e,t,l){let{grid:o}=t,n=se(o),s=le(o),i=_e(o),u=Ke(o);return e.$$set=c=>{"grid"in c&&l(0,o=c.grid)},[o,n,s,i,u]}class Et extends re{constructor(t){super(),ie(this,t,ht,ct,ee,{grid:0})}}export{Et as G,Nt as S,Ct as a,vt as b,Le as c,oe as d,kt as e,bt as f,wt as g,Ke as h,Xe as m,ze as r,nt as s,gt as u};
