import{s as te,e as Y,i as K,y as W,G as ne,d as q,C as Te,D as Oe,o as ze,f as y,l as x,a as T,g as B,h as L,m as ee,c as O,H as le,j as A,k as he,I as v,M as Pe,n as Ge,K as pe,L as X,N as we,p as Ce,O as de,P as M}from"./scheduler.193db7c4.js";import{S as fe,i as ce,b as F,d as H,m as z,a as P,t as $,e as j}from"./index.9bea933b.js";import{a as se,b as Re,d as $e}from"./store.8b4149bb.js";import{p as je}from"./stores.244fc0b0.js";import{w as Le}from"./index.33e6b952.js";const Xe=(e,t)=>{if(e<0||e>8)throw new Error(`unexpected square position: ${e}`);const l=Math.floor(e/3),o=e%3,n=3*l,s=3*o;return[t[n][s],t[n][s+1],t[n][s+2],t[n+1][s],t[n+1][s+1],t[n+1][s+2],t[n+2][s],t[n+2][s+1],t[n+2][s+2]]};function Ke(e){return e.notes!==void 0}function We(e){return e.clear===!0}const bt=(e,t)=>{if(e.fixed)throw new Error("Tried to update fixed cell");if(Ke(t)){e.value=void 0,e.notes=[...t.notes];return}if(We(t)){e.notes=[],e.value=void 0;return}e.notes=[],e.value=t.value},Nt=e=>{const t=[],l=new Array(27).fill(0);for(let o=0;o<9;o++)for(let n=0;n<9;n++){if(e[o][n].value===void 0)continue;const s=e[o][n].value,r=1<<s-1,u=l[o],c=l[9+n],d=l[18+Math.floor(o/3)*3+Math.floor(n/3)];u&r&&t.push({type:"row",col:n,row:o,value:s}),c&r&&t.push({type:"column",col:n,row:o,value:s}),d&r&&t.push({type:"square",col:n,row:o,value:s}),l[o]^=r,l[9+n]^=r,l[18+Math.floor(o/3)*3+Math.floor(n/3)]^=r}return t},ie=e=>{const t=new Array(27).fill(0);for(let l=0;l<9;l++)for(let o=0;o<9;o++){if(e[l][o].value===void 0)continue;const s=1<<e[l][o].value-1,r=t[l],u=t[9+o],c=t[18+Math.floor(l/3)*3+Math.floor(o/3)];if(r&s||u&s||c&s)return!0;t[l]^=s,t[9+o]^=s,t[18+Math.floor(l/3)*3+Math.floor(o/3)]^=s}return!1},oe=e=>{for(let t=0;t<9;t++)for(let l=0;l<9;l++)if(!e[t][l].value)return!1;return!0},ge=e=>oe(e)&&!ie(e),re=e=>JSON.parse(JSON.stringify(e)),_e=(e,t,l,o)=>{if(!o||e[t][l].value)return!1;const n=e[t][l].notes.indexOf(o);return n===-1?!1:(e[t][l].notes.splice(n,1),!0)},Et=e=>{for(let t=0;t<9;t++)for(let l=0;l<9;l++)e[t][l].notes=[]},Je=(e,t)=>{const{row:l,col:o}=t;if(e[l][o].value){e[l][o].notes=[];return}e[l][o].notes=[1,2,3,4,5,6,7,8,9];const n=Math.floor(o/3),s=Math.floor(l/3);for(let r=0;r<9;r++){const u=e[r][o].value;_e(e,l,o,u);const c=e[l][r].value;_e(e,l,o,c);const d=Math.floor(r/3),g=r%3,I=e[3*s+d][3*n+g].value;_e(e,l,o,I)}return e[l][o].notes},Ye=e=>{for(let t=0;t<9;t++)for(let l=0;l<9;l++)Je(e,{row:t,col:l})},kt=e=>{for(let t=0;t<9;t++)for(let l=0;l<9;l++)e[t][l].fixed||(e[t][l].value=void 0,e[t][l].notes=[])},Ut=e=>{if(oe(e)||ie(e))return{grid:e,hint:null};const t=Qe(e),l=[];for(let r=0;r<9;r++)for(let u=0;u<9;u++)e[r][u].value===void 0&&l.push({x:u,y:r});if(!l.length)return{grid:e,hint:null};const o=Math.floor(Math.random()*l.length),n=l[o],s=t[n.y][n.x].value;return e[n.y][n.x].value=s,{grid:e,hint:{type:"last_auto_hint",effect:[],cause:[{row:n.y,col:n.x,notes:[s]}]}}},ye=(e,t,l)=>{const{col:o,row:n}=t;if(e[n][o].value!==void 0)return!1;const s=Math.floor(o/3),r=Math.floor(n/3);for(let u=0;u<9;u++){if(e[n][u].value===l||e[u][o].value===l)return!1;const c=Math.floor(u/3),d=u%3;if(e[3*r+c][3*s+d].value===l)return!1}return!0},Qe=e=>{const t=re(e);return Be(t),t},Be=e=>{for(let t=0;t<9;t++)for(let l=0;l<9;l++)if(e[t][l].value===void 0){for(let o=1;o<=9;o++)if(ye(e,{row:t,col:l},o)){if(e[t][l].value=o,Be(e))return!0;e[t][l].value=void 0}return!1}return!0};let ve=0;const Ae=1e4,Ze=e=>{if(oe(e))return ge(e)?"unique":"none";const t=re(e);let l=0;for(let n=0;n<9;n++)for(let s=0;s<9;s++)e[n][s].value!==void 0&&l++;const o=[];return ve=0,Fe(t,o,l),ve>=Ae?"unreachable":o.length===0?"none":o.length===1?"unique":"notUnique"},Fe=(e,t,l)=>{if(!(ve++>=Ae)){for(let o=0;o<9;o++)for(let n=0;n<9;n++)if(e[o][n].value===void 0){for(let s=1;s<=9;s++)if(ye(e,{row:o,col:n},s)){if(e[o][n].value=s,Fe(e,t,l+1)&&(l===80&&t.push(re(e)),t.length>=2))return!0;e[o][n].value=void 0}return!1}return!0}},Mt=(e,t)=>{if(ie(e)||oe(e))return e;const l=re(e);Ye(l);const o=[l];for(;o.length;){const n=o.pop();if(t&&t.push(re(n)),ie(n))continue;if(oe(n)){if(ge(n))return n;continue}const s=tt(n);if(!s.length)continue;const r=Math.floor(Math.random()*s.length),u=s[r],c=re(n);c[u.row][u.col].notes=c[u.row][u.col].notes.filter(d=>d!==u.value),o.push(c),et(n,u),He(n),o.push(n)}return l},me=(e,t,l,o)=>{if(e[t][l].value)return!1;const n=e[t][l].notes.indexOf(o);return n===-1?!1:(e[t][l].notes.splice(n,1),e[t][l].notes.length===1?(e[t][l].value=e[t][l].notes.pop(),!0):!1)},He=e=>{if(oe(e)||ie(e))return;let t=!1;for(let l=0;l<9;l++)for(let o=0;o<9;o++){const{value:n}=e[l][o];if(!n)continue;for(let u=0;u<9;u++)t=t||me(e,u,o,n),t=t||me(e,l,u,n);const s=Math.floor(o/3),r=Math.floor(l/3);for(let u=0;u<3;u++)for(let c=0;c<3;c++)t=t||me(e,3*r+u,3*s+c,n)}t&&He(e)},xe=(e,t)=>{const{row:l,col:o,value:n}=t;return!(e[l][o].value||!e[l][o].notes.includes(n))},et=(e,t)=>{if(!xe(e,t))return;const{row:l,col:o,value:n}=t;e[l][o].value=n,e[l][o].notes=[]},tt=e=>{let t=[],l=9;for(let o=0;o<9;o++)for(let n=0;n<9;n++){if(e[o][n].value!==void 0)continue;const{notes:s}=e[o][n];if(s.length<l&&(l=s.length,t=[]),s.length===l)for(const r of e[o][n].notes)t.push({row:o,col:n,value:r})}return t},qt=()=>{const e=[];for(let t=0;t<9;t++){e.push([]);for(let l=0;l<9;l++){const o={value:void 0,fixed:!1,notes:[1,2,3,4,5,6,7,8,9]};e[e.length-1].push(o)}}return e};function be(e,t,l){const o=e.slice();return o[22]=t[l],o}function Ne(e,t,l){const o=e.slice();return o[22]=t[l],o}function Ee(e){let t=e[2],l,o=qe(e);return{c(){o.c(),l=Y()},l(n){o.l(n),l=Y()},m(n,s){o.m(n,s),K(n,l,s)},p(n,s){s&4&&te(t,t=n[2])?(o.d(1),o=qe(n),o.c(),o.m(l.parentNode,l)):o.p(n,s)},d(n){n&&q(l),o.d(n)}}}function ke(e){let t,l,o,n;function s(){return e[16](e[22])}return{c(){t=y("button"),l=x(e[22]),this.h()},l(r){t=B(r,"BUTTON",{class:!0});var u=L(t);l=ee(u,e[22]),u.forEach(q),this.h()},h(){A(t,"class","choice-btn svelte-10pr09z"),X(t,"selected",e[5]===e[22])},m(r,u){K(r,t,u),v(t,l),o||(n=W(t,"click",s),o=!0)},p(r,u){e=r,u&32&&X(t,"selected",e[5]===e[22])},d(r){r&&q(t),o=!1,n()}}}function Ue(e){let t,l,o,n;function s(){return e[17](e[22])}return{c(){t=y("button"),l=x(e[22]),this.h()},l(r){t=B(r,"BUTTON",{class:!0});var u=L(t);l=ee(u,e[22]),u.forEach(q),this.h()},h(){A(t,"class","choice-btn svelte-10pr09z"),X(t,"selected",e[4][e[22]-1])},m(r,u){K(r,t,u),v(t,l),o||(n=W(t,"click",s),o=!0)},p(r,u){e=r,u&16&&X(t,"selected",e[4][e[22]-1])},d(r){r&&q(t),o=!1,n()}}}function Me(e){let t=e[4],l,o=Ue(e);return{c(){o.c(),l=Y()},l(n){o.l(n),l=Y()},m(n,s){o.m(n,s),K(n,l,s)},p(n,s){s&16&&te(t,t=n[4])?(o.d(1),o=Ue(n),o.c(),o.m(l.parentNode,l)):o.p(n,s)},d(n){n&&q(l),o.d(n)}}}function qe(e){let t,l,o,n=e[6]?"Valeur":"Value",s,r,u,c="âœ–",d,g,I,w,D="Notes",C,S,U,G,b,_="Auto notes",i,a,R=se([1,2,3,4,5,6,7,8,9]),V=[];for(let p=0;p<9;p+=1)V[p]=ke(Ne(e,R,p));let f=se([1,2,3,4,5,6,7,8,9]),k=[];for(let p=0;p<9;p+=1)k[p]=Me(be(e,f,p));return{c(){t=y("div"),l=y("div"),o=y("h3"),s=x(n),r=T(),u=y("button"),u.textContent=c,d=T(),g=y("div");for(let p=0;p<9;p+=1)V[p].c();I=T(),w=y("h3"),w.textContent=D,C=T(),S=y("div");for(let p=0;p<9;p+=1)k[p].c();U=T(),G=y("div"),b=y("button"),b.textContent=_,this.h()},l(p){t=B(p,"DIV",{role:!0,class:!0,style:!0});var E=L(t);l=B(E,"DIV",{class:!0});var h=L(l);o=B(h,"H3",{class:!0});var N=L(o);s=ee(N,n),r=O(N),u=B(N,"BUTTON",{"data-svelte-h":!0}),le(u)!=="svelte-15i1wwz"&&(u.textContent=c),N.forEach(q),d=O(h),g=B(h,"DIV",{class:!0});var m=L(g);for(let J=0;J<9;J+=1)V[J].l(m);m.forEach(q),I=O(h),w=B(h,"H3",{"data-svelte-h":!0}),le(w)!=="svelte-2havtt"&&(w.textContent=D),C=O(h),S=B(h,"DIV",{class:!0});var ae=L(S);for(let J=0;J<9;J+=1)k[J].l(ae);ae.forEach(q),U=O(h),G=B(h,"DIV",{});var ue=L(G);b=B(ue,"BUTTON",{"data-svelte-h":!0}),le(b)!=="svelte-1y6181p"&&(b.textContent=_),ue.forEach(q),h.forEach(q),E.forEach(q),this.h()},h(){A(o,"class","title-bar svelte-10pr09z"),A(g,"class","grid svelte-10pr09z"),A(S,"class","grid svelte-10pr09z"),A(l,"class","contents svelte-10pr09z"),A(t,"role","dialog"),A(t,"class","modal svelte-10pr09z"),he(t,"top",e[2]+"px"),he(t,"left",e[3]+"px")},m(p,E){K(p,t,E),v(t,l),v(l,o),v(o,s),v(o,r),v(o,u),v(l,d),v(l,g);for(let h=0;h<9;h+=1)V[h]&&V[h].m(g,null);v(l,I),v(l,w),v(l,C),v(l,S);for(let h=0;h<9;h+=1)k[h]&&k[h].m(S,null);v(l,U),v(l,G),v(G,b),i||(a=[W(u,"click",Re),W(b,"click",function(){Pe(e[1])&&e[1].apply(this,arguments)}),W(t,"mousedown",e[10])],i=!0)},p(p,E){if(e=p,E&64&&n!==(n=e[6]?"Valeur":"Value")&&Ge(s,n),E&160){R=se([1,2,3,4,5,6,7,8,9]);let h;for(h=0;h<9;h+=1){const N=Ne(e,R,h);V[h]?V[h].p(N,E):(V[h]=ke(N),V[h].c(),V[h].m(g,null))}for(;h<9;h+=1)V[h].d(1)}if(E&144){f=se([1,2,3,4,5,6,7,8,9]);let h;for(h=0;h<9;h+=1){const N=be(e,f,h);k[h]?k[h].p(N,E):(k[h]=Me(N),k[h].c(),k[h].m(S,null))}for(;h<9;h+=1)k[h].d(1)}E&4&&he(t,"top",e[2]+"px"),E&8&&he(t,"left",e[3]+"px")},d(p){p&&q(t),pe(V,p),pe(k,p),i=!1,Te(a)}}}function lt(e){let t,l,o,n=e[0]&&Ee(e);return{c(){n&&n.c(),t=Y()},l(s){n&&n.l(s),t=Y()},m(s,r){n&&n.m(s,r),K(s,t,r),l||(o=[W(window,"keydown",e[8]),W(window,"keyup",e[9]),W(window,"mouseup",e[12]),W(window,"mousemove",e[11])],l=!0)},p(s,[r]){s[0]?n?n.p(s,r):(n=Ee(s),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},i:ne,o:ne,d(s){s&&q(t),n&&n.d(s),l=!1,Te(o)}}}function nt(e,t,l){let o;Oe(e,je,f=>l(20,o=f));let{isOpen:n}=t,{onSelectionUpdated:s}=t,{onComputeCellNotes:r}=t,{initialState:u}=t,{cellBoundingRect:c}=t;const d=f=>{const k=document.body.getBoundingClientRect(),p=300,E=600;let h=f.top;h+E>k.height&&(h=k.height-E);let N=f.right;return N>k.width/2&&(N=f.left-p-f.width),{top:h,left:Math.max(0,N)}};let{top:g,left:I}=d(c);u.notes.length>0;let w=new Array(9).fill(!1).map((f,k)=>u.notes.includes(k+1)),D=u.value;const C=(f,k)=>{if(k==="notes"){l(4,w[f-1]=!w[f-1],w),l(4,w),l(5,D=void 0),s({notes:w.map((p,E)=>E+1).filter(p=>w[p-1])});return}if(D===f){s({clear:!0}),l(5,D=void 0),l(4,w=[]);return}l(5,D=f),l(4,w=[]),s({value:D}),Re()},S=f=>{const k="!@#$%^&*(",p=f.getModifierState("Shift");let E;if(E=f.key,E==="Backspace"){s({clear:!0}),l(4,w=new Array(9).fill(!1).map((h,N)=>!1)),l(5,D=void 0);return}k.includes(E)&&(E=k.indexOf(E)+1),!isNaN(Number(E))&&C(Number(E),p?"notes":"value")},U=f=>{};let G=!1;function b(){G=!0}function _(f){G&&(l(3,I+=f.movementX),l(2,g+=f.movementY))}function i(){G=!1}let a=!1;ze(()=>{l(6,a=o.url.searchParams.has("fr"))});const R=f=>C(f,"value"),V=f=>C(f,"notes");return e.$$set=f=>{"isOpen"in f&&l(0,n=f.isOpen),"onSelectionUpdated"in f&&l(13,s=f.onSelectionUpdated),"onComputeCellNotes"in f&&l(1,r=f.onComputeCellNotes),"initialState"in f&&l(14,u=f.initialState),"cellBoundingRect"in f&&l(15,c=f.cellBoundingRect)},[n,r,g,I,w,D,a,C,S,U,b,_,i,s,u,c,R,V]}class ot extends fe{constructor(t){super(),ce(this,t,nt,lt,te,{isOpen:0,onSelectionUpdated:13,onComputeCellNotes:1,initialState:14,cellBoundingRect:15})}}const st=Le();function Se(e,t,l){const o=e.slice();return o[16]=t[l],o}function rt(e){let t,l,o,n,s=se([1,2,3,4,5,6,7,8,9]),r=[];for(let u=0;u<9;u+=1)r[u]=Ie(Se(e,s,u));return{c(){t=y("button");for(let u=0;u<9;u+=1)r[u].c();this.h()},l(u){t=B(u,"BUTTON",{class:!0});var c=L(t);for(let d=0;d<9;d+=1)r[d].l(c);c.forEach(q),this.h()},h(){A(t,"class",l=de("cell notes "+e[2]+" "+e[7])+" svelte-12ewoli")},m(u,c){K(u,t,c);for(let d=0;d<9;d+=1)r[d]&&r[d].m(t,null);e[12](t),o||(n=W(t,"click",e[4]),o=!0)},p(u,c){if(c&105){s=se([1,2,3,4,5,6,7,8,9]);let d;for(d=0;d<9;d+=1){const g=Se(u,s,d);r[d]?r[d].p(g,c):(r[d]=Ie(g),r[d].c(),r[d].m(t,null))}for(;d<9;d+=1)r[d].d(1)}c&4&&l!==(l=de("cell notes "+u[2]+" "+u[7])+" svelte-12ewoli")&&A(t,"class",l)},d(u){u&&q(t),pe(r,u),e[12](null),o=!1,n()}}}function it(e){let t,l=e[0].value+"",o,n,s,r,u;return{c(){t=y("button"),o=x(l),this.h()},l(c){t=B(c,"BUTTON",{class:!0});var d=L(t);o=ee(d,l),d.forEach(q),this.h()},h(){A(t,"class",n=de("cell value "+(e[2]==="auto-hint"?e[2]:"")+" "+e[7])+" svelte-12ewoli"),t.disabled=s=e[0].fixed,X(t,"fixed",e[0].fixed),X(t,"highlight",e[3]!==void 0&&e[3]===e[0].value)},m(c,d){K(c,t,d),v(t,o),e[11](t),r||(u=W(t,"click",e[4]),r=!0)},p(c,d){d&1&&l!==(l=c[0].value+"")&&Ge(o,l),d&4&&n!==(n=de("cell value "+(c[2]==="auto-hint"?c[2]:"")+" "+c[7])+" svelte-12ewoli")&&A(t,"class",n),d&1&&s!==(s=c[0].fixed)&&(t.disabled=s),d&5&&X(t,"fixed",c[0].fixed),d&13&&X(t,"highlight",c[3]!==void 0&&c[3]===c[0].value)},d(c){c&&q(t),e[11](null),r=!1,u()}}}function Ve(e){let t;return{c(){t=x(e[16])},l(l){t=ee(l,e[16])},m(l,o){K(l,t,o)},d(l){l&&q(t)}}}function Ie(e){let t,l=e[0].notes.includes(e[16]),o,n=l&&Ve(e);return{c(){t=y("div"),n&&n.c(),o=T(),this.h()},l(s){t=B(s,"DIV",{class:!0});var r=L(t);n&&n.l(r),o=O(r),r.forEach(q),this.h()},h(){A(t,"class","note svelte-12ewoli"),X(t,"hinted-note",e[5].includes(e[16])),X(t,"hinted-remove-note",e[6].includes(e[16])),X(t,"highlight",e[3]!==void 0&&e[3]===e[16])},m(s,r){K(s,t,r),n&&n.m(t,null),v(t,o)},p(s,r){r&1&&(l=s[0].notes.includes(s[16])),l?n||(n=Ve(s),n.c(),n.m(t,o)):n&&(n.d(1),n=null),r&8&&X(t,"highlight",s[3]!==void 0&&s[3]===s[16])},d(s){s&&q(t),n&&n.d()}}}function at(e){let t;function l(s,r){return s[0].value?it:rt}let o=l(e),n=o(e);return{c(){n.c(),t=Y()},l(s){n.l(s),t=Y()},m(s,r){n.m(s,r),K(s,t,r)},p(s,[r]){o===(o=l(s))&&n?n.p(s,r):(n.d(1),n=o(s),n&&(n.c(),n.m(t.parentNode,t)))},i:ne,o:ne,d(s){s&&q(t),n.d(s)}}}function ut(e,t,l){let o;Oe(e,st,_=>l(3,o=_));let{cell:n}=t,{position:s}=t,{gridErrors:r}=t,{hints:u=[]}=t;const c=we(),d=we();let g;const I=()=>{$e(ot,{initialState:n,onSelectionUpdated:a=>{c("cellUpdate",{cell:n,update:a})},onComputeCellNotes:()=>{d("computeCellNotes",{position:s})},cellBoundingRect:g.getBoundingClientRect()})};let w="";const D=[],C=[];for(const _ of u){for(const i of _.cause)i.row===s.row&&i.col===s.col&&(_.type==="naked_pair"?w="naked-pair-hint":_.type==="last_auto_hint"?w="auto-hint":w="lone-hint",D.push(...i.notes));for(const i of _.effect)i.row===s.row&&i.col===s.col&&C.push(...i.notes)}const S=[];for(const _ of r){const i=3*Math.floor(s.row/3)+Math.floor(s.col/3),a=3*Math.floor(_.row/3)+Math.floor(_.col/3);if(_.col===s.col&&_.row===s.row||_.type==="column"&&_.col===s.col&&_.value===n.value||_.type==="row"&&_.row===s.row&&_.value===n.value||_.type==="square"&&i===a&&_.value===n.value){S.push("is-error-cell");continue}_.type==="column"&&_.col===s.col&&S.push("is-error-col"),_.type==="row"&&_.row===s.row&&S.push("is-error-row"),_.type==="square"&&i===a&&S.push("is-error-square")}let U=S.join(" ");function G(_){Ce[_?"unshift":"push"](()=>{g=_,l(1,g)})}function b(_){Ce[_?"unshift":"push"](()=>{g=_,l(1,g)})}return e.$$set=_=>{"cell"in _&&l(0,n=_.cell),"position"in _&&l(8,s=_.position),"gridErrors"in _&&l(9,r=_.gridErrors),"hints"in _&&l(10,u=_.hints)},[n,g,w,o,I,D,C,U,s,r,u,G,b]}class Q extends fe{constructor(t){super(),ce(this,t,ut,at,te,{cell:0,position:8,gridErrors:9,hints:10})}}function ft(e){let t,l,o,n,s,r,u,c,d,g,I,w,D,C,S,U,G,b,_;return l=new Q({props:{cell:e[6][0],hints:e[1],gridErrors:e[0],position:{row:e[4],col:e[5]}}}),l.$on("cellUpdate",e[9]),l.$on("computeCellNotes",e[10]),n=new Q({props:{cell:e[6][1],hints:e[1],gridErrors:e[0],position:{row:e[4],col:e[5]+1}}}),n.$on("cellUpdate",e[11]),n.$on("computeCellNotes",e[12]),r=new Q({props:{cell:e[6][2],hints:e[1],gridErrors:e[0],position:{row:e[4],col:e[5]+2}}}),r.$on("cellUpdate",e[13]),r.$on("computeCellNotes",e[14]),c=new Q({props:{cell:e[6][3],hints:e[1],gridErrors:e[0],position:{row:e[4]+1,col:e[5]}}}),c.$on("cellUpdate",e[15]),c.$on("computeCellNotes",e[16]),g=new Q({props:{cell:e[6][4],hints:e[1],gridErrors:e[0],position:{row:e[4]+1,col:e[5]+1}}}),g.$on("cellUpdate",e[17]),g.$on("computeCellNotes",e[18]),w=new Q({props:{cell:e[6][5],hints:e[1],gridErrors:e[0],position:{row:e[4]+1,col:e[5]+2}}}),w.$on("cellUpdate",e[19]),w.$on("computeCellNotes",e[20]),C=new Q({props:{cell:e[6][6],hints:e[1],gridErrors:e[0],position:{row:e[4]+2,col:e[5]}}}),C.$on("cellUpdate",e[21]),C.$on("computeCellNotes",e[22]),U=new Q({props:{cell:e[6][7],hints:e[1],gridErrors:e[0],position:{row:e[4]+2,col:e[5]+1}}}),U.$on("cellUpdate",e[23]),U.$on("computeCellNotes",e[24]),b=new Q({props:{cell:e[6][8],hints:e[1],gridErrors:e[0],position:{row:e[4]+2,col:e[5]+2}}}),b.$on("cellUpdate",e[25]),b.$on("computeCellNotes",e[26]),{c(){t=y("div"),F(l.$$.fragment),o=T(),F(n.$$.fragment),s=T(),F(r.$$.fragment),u=T(),F(c.$$.fragment),d=T(),F(g.$$.fragment),I=T(),F(w.$$.fragment),D=T(),F(C.$$.fragment),S=T(),F(U.$$.fragment),G=T(),F(b.$$.fragment),this.h()},l(i){t=B(i,"DIV",{class:!0});var a=L(t);H(l.$$.fragment,a),o=O(a),H(n.$$.fragment,a),s=O(a),H(r.$$.fragment,a),u=O(a),H(c.$$.fragment,a),d=O(a),H(g.$$.fragment,a),I=O(a),H(w.$$.fragment,a),D=O(a),H(C.$$.fragment,a),S=O(a),H(U.$$.fragment,a),G=O(a),H(b.$$.fragment,a),a.forEach(q),this.h()},h(){A(t,"class","cell-grid svelte-1nq1cl9"),X(t,"borderLeftRight",e[2]),X(t,"borderTopBottom",e[3])},m(i,a){K(i,t,a),z(l,t,null),v(t,o),z(n,t,null),v(t,s),z(r,t,null),v(t,u),z(c,t,null),v(t,d),z(g,t,null),v(t,I),z(w,t,null),v(t,D),z(C,t,null),v(t,S),z(U,t,null),v(t,G),z(b,t,null),_=!0},p(i,[a]){const R={};a&2&&(R.hints=i[1]),a&1&&(R.gridErrors=i[0]),l.$set(R);const V={};a&2&&(V.hints=i[1]),a&1&&(V.gridErrors=i[0]),n.$set(V);const f={};a&2&&(f.hints=i[1]),a&1&&(f.gridErrors=i[0]),r.$set(f);const k={};a&2&&(k.hints=i[1]),a&1&&(k.gridErrors=i[0]),c.$set(k);const p={};a&2&&(p.hints=i[1]),a&1&&(p.gridErrors=i[0]),g.$set(p);const E={};a&2&&(E.hints=i[1]),a&1&&(E.gridErrors=i[0]),w.$set(E);const h={};a&2&&(h.hints=i[1]),a&1&&(h.gridErrors=i[0]),C.$set(h);const N={};a&2&&(N.hints=i[1]),a&1&&(N.gridErrors=i[0]),U.$set(N);const m={};a&2&&(m.hints=i[1]),a&1&&(m.gridErrors=i[0]),b.$set(m)},i(i){_||(P(l.$$.fragment,i),P(n.$$.fragment,i),P(r.$$.fragment,i),P(c.$$.fragment,i),P(g.$$.fragment,i),P(w.$$.fragment,i),P(C.$$.fragment,i),P(U.$$.fragment,i),P(b.$$.fragment,i),_=!0)},o(i){$(l.$$.fragment,i),$(n.$$.fragment,i),$(r.$$.fragment,i),$(c.$$.fragment,i),$(g.$$.fragment,i),$(w.$$.fragment,i),$(C.$$.fragment,i),$(U.$$.fragment,i),$(b.$$.fragment,i),_=!1},d(i){i&&q(t),j(l),j(n),j(r),j(c),j(g),j(w),j(C),j(U),j(b)}}}function ct(e,t,l){let{position:o}=t,{grid:n}=t,{gridErrors:s}=t,{hints:r=[]}=t;const u=[1,4,7].includes(o),c=[3,4,5].includes(o),d=3*Math.floor(o/3),g=3*(o%3),I=Xe(o,n);function w(m){M.call(this,e,m)}function D(m){M.call(this,e,m)}function C(m){M.call(this,e,m)}function S(m){M.call(this,e,m)}function U(m){M.call(this,e,m)}function G(m){M.call(this,e,m)}function b(m){M.call(this,e,m)}function _(m){M.call(this,e,m)}function i(m){M.call(this,e,m)}function a(m){M.call(this,e,m)}function R(m){M.call(this,e,m)}function V(m){M.call(this,e,m)}function f(m){M.call(this,e,m)}function k(m){M.call(this,e,m)}function p(m){M.call(this,e,m)}function E(m){M.call(this,e,m)}function h(m){M.call(this,e,m)}function N(m){M.call(this,e,m)}return e.$$set=m=>{"position"in m&&l(7,o=m.position),"grid"in m&&l(8,n=m.grid),"gridErrors"in m&&l(0,s=m.gridErrors),"hints"in m&&l(1,r=m.hints)},[s,r,u,c,d,g,I,o,n,w,D,C,S,U,G,b,_,i,a,R,V,f,k,p,E,h,N]}class Z extends fe{constructor(t){super(),ce(this,t,ct,ft,te,{position:7,grid:8,gridErrors:0,hints:1})}}function ht(e){let t,l,o,n,s,r,u,c,d,g,I,w,D,C,S,U,G,b,_;return l=new Z({props:{position:0,hints:e[2],gridErrors:e[1],grid:e[0]}}),l.$on("cellUpdate",e[3]),l.$on("computeCellNotes",e[4]),n=new Z({props:{position:1,hints:e[2],gridErrors:e[1],grid:e[0]}}),n.$on("cellUpdate",e[5]),n.$on("computeCellNotes",e[6]),r=new Z({props:{position:2,hints:e[2],gridErrors:e[1],grid:e[0]}}),r.$on("cellUpdate",e[7]),r.$on("computeCellNotes",e[8]),c=new Z({props:{position:3,hints:e[2],gridErrors:e[1],grid:e[0]}}),c.$on("cellUpdate",e[9]),c.$on("computeCellNotes",e[10]),g=new Z({props:{position:4,hints:e[2],gridErrors:e[1],grid:e[0]}}),g.$on("cellUpdate",e[11]),g.$on("computeCellNotes",e[12]),w=new Z({props:{position:5,hints:e[2],gridErrors:e[1],grid:e[0]}}),w.$on("cellUpdate",e[13]),w.$on("computeCellNotes",e[14]),C=new Z({props:{position:6,hints:e[2],gridErrors:e[1],grid:e[0]}}),C.$on("cellUpdate",e[15]),C.$on("computeCellNotes",e[16]),U=new Z({props:{position:7,hints:e[2],gridErrors:e[1],grid:e[0]}}),U.$on("cellUpdate",e[17]),U.$on("computeCellNotes",e[18]),b=new Z({props:{position:8,hints:e[2],gridErrors:e[1],grid:e[0]}}),b.$on("cellUpdate",e[19]),b.$on("computeCellNotes",e[20]),{c(){t=y("div"),F(l.$$.fragment),o=T(),F(n.$$.fragment),s=T(),F(r.$$.fragment),u=T(),F(c.$$.fragment),d=T(),F(g.$$.fragment),I=T(),F(w.$$.fragment),D=T(),F(C.$$.fragment),S=T(),F(U.$$.fragment),G=T(),F(b.$$.fragment),this.h()},l(i){t=B(i,"DIV",{class:!0});var a=L(t);H(l.$$.fragment,a),o=O(a),H(n.$$.fragment,a),s=O(a),H(r.$$.fragment,a),u=O(a),H(c.$$.fragment,a),d=O(a),H(g.$$.fragment,a),I=O(a),H(w.$$.fragment,a),D=O(a),H(C.$$.fragment,a),S=O(a),H(U.$$.fragment,a),G=O(a),H(b.$$.fragment,a),a.forEach(q),this.h()},h(){A(t,"class","main-grid svelte-vli9ua")},m(i,a){K(i,t,a),z(l,t,null),v(t,o),z(n,t,null),v(t,s),z(r,t,null),v(t,u),z(c,t,null),v(t,d),z(g,t,null),v(t,I),z(w,t,null),v(t,D),z(C,t,null),v(t,S),z(U,t,null),v(t,G),z(b,t,null),_=!0},p(i,[a]){const R={};a&4&&(R.hints=i[2]),a&2&&(R.gridErrors=i[1]),a&1&&(R.grid=i[0]),l.$set(R);const V={};a&4&&(V.hints=i[2]),a&2&&(V.gridErrors=i[1]),a&1&&(V.grid=i[0]),n.$set(V);const f={};a&4&&(f.hints=i[2]),a&2&&(f.gridErrors=i[1]),a&1&&(f.grid=i[0]),r.$set(f);const k={};a&4&&(k.hints=i[2]),a&2&&(k.gridErrors=i[1]),a&1&&(k.grid=i[0]),c.$set(k);const p={};a&4&&(p.hints=i[2]),a&2&&(p.gridErrors=i[1]),a&1&&(p.grid=i[0]),g.$set(p);const E={};a&4&&(E.hints=i[2]),a&2&&(E.gridErrors=i[1]),a&1&&(E.grid=i[0]),w.$set(E);const h={};a&4&&(h.hints=i[2]),a&2&&(h.gridErrors=i[1]),a&1&&(h.grid=i[0]),C.$set(h);const N={};a&4&&(N.hints=i[2]),a&2&&(N.gridErrors=i[1]),a&1&&(N.grid=i[0]),U.$set(N);const m={};a&4&&(m.hints=i[2]),a&2&&(m.gridErrors=i[1]),a&1&&(m.grid=i[0]),b.$set(m)},i(i){_||(P(l.$$.fragment,i),P(n.$$.fragment,i),P(r.$$.fragment,i),P(c.$$.fragment,i),P(g.$$.fragment,i),P(w.$$.fragment,i),P(C.$$.fragment,i),P(U.$$.fragment,i),P(b.$$.fragment,i),_=!0)},o(i){$(l.$$.fragment,i),$(n.$$.fragment,i),$(r.$$.fragment,i),$(c.$$.fragment,i),$(g.$$.fragment,i),$(w.$$.fragment,i),$(C.$$.fragment,i),$(U.$$.fragment,i),$(b.$$.fragment,i),_=!1},d(i){i&&q(t),j(l),j(n),j(r),j(c),j(g),j(w),j(C),j(U),j(b)}}}function dt(e,t,l){let{grid:o}=t,{gridErrors:n}=t,{hints:s=[]}=t;function r(f){M.call(this,e,f)}function u(f){M.call(this,e,f)}function c(f){M.call(this,e,f)}function d(f){M.call(this,e,f)}function g(f){M.call(this,e,f)}function I(f){M.call(this,e,f)}function w(f){M.call(this,e,f)}function D(f){M.call(this,e,f)}function C(f){M.call(this,e,f)}function S(f){M.call(this,e,f)}function U(f){M.call(this,e,f)}function G(f){M.call(this,e,f)}function b(f){M.call(this,e,f)}function _(f){M.call(this,e,f)}function i(f){M.call(this,e,f)}function a(f){M.call(this,e,f)}function R(f){M.call(this,e,f)}function V(f){M.call(this,e,f)}return e.$$set=f=>{"grid"in f&&l(0,o=f.grid),"gridErrors"in f&&l(1,n=f.gridErrors),"hints"in f&&l(2,s=f.hints)},[o,n,s,r,u,c,d,g,I,w,D,C,S,U,G,b,_,i,a,R,V]}class St extends fe{constructor(t){super(),ce(this,t,dt,ht,te,{grid:0,gridErrors:1,hints:2})}}function De(e){let t,l,o="grid has errors",n,s,r="grid is filled",u,c,d="grid is valid",g,I,w="grid has solutions",D,C,S=e[1]?"Has errors":"No errors",U,G,b,_=e[2]?"Is filled":"Not filled",i,a,R,V=e[3]?"Is valid":"Not valid",f,k,p,E;return{c(){t=y("div"),l=y("div"),l.textContent=o,n=T(),s=y("div"),s.textContent=r,u=T(),c=y("div"),c.textContent=d,g=T(),I=y("div"),I.textContent=w,D=T(),C=y("div"),U=x(S),G=T(),b=y("div"),i=x(_),a=T(),R=y("div"),f=x(V),k=T(),p=y("div"),E=x(e[4]),this.h()},l(h){t=B(h,"DIV",{class:!0});var N=L(t);l=B(N,"DIV",{"data-svelte-h":!0}),le(l)!=="svelte-1hlqbal"&&(l.textContent=o),n=O(N),s=B(N,"DIV",{"data-svelte-h":!0}),le(s)!=="svelte-ekf37s"&&(s.textContent=r),u=O(N),c=B(N,"DIV",{"data-svelte-h":!0}),le(c)!=="svelte-16e0vl8"&&(c.textContent=d),g=O(N),I=B(N,"DIV",{"data-svelte-h":!0}),le(I)!=="svelte-1tjrozg"&&(I.textContent=w),D=O(N),C=B(N,"DIV",{class:!0});var m=L(C);U=ee(m,S),m.forEach(q),G=O(N),b=B(N,"DIV",{class:!0});var ae=L(b);i=ee(ae,_),ae.forEach(q),a=O(N),R=B(N,"DIV",{class:!0});var ue=L(R);f=ee(ue,V),ue.forEach(q),k=O(N),p=B(N,"DIV",{class:!0});var J=L(p);E=ee(J,e[4]),J.forEach(q),N.forEach(q),this.h()},h(){A(C,"class","status svelte-1csoeu4"),X(C,"red",e[1]),A(b,"class","status svelte-1csoeu4"),X(b,"red",!e[2]),A(R,"class","status svelte-1csoeu4"),X(R,"red",!e[3]),A(p,"class","status svelte-1csoeu4"),X(p,"red",e[4]!=="unique"),A(t,"class","grid-status svelte-1csoeu4")},m(h,N){K(h,t,N),v(t,l),v(t,n),v(t,s),v(t,u),v(t,c),v(t,g),v(t,I),v(t,D),v(t,C),v(C,U),v(t,G),v(t,b),v(b,i),v(t,a),v(t,R),v(R,f),v(t,k),v(t,p),v(p,E)},p:ne,d(h){h&&q(t)}}}function _t(e){let t=e[0],l,o=De(e);return{c(){o.c(),l=Y()},l(n){o.l(n),l=Y()},m(n,s){o.m(n,s),K(n,l,s)},p(n,[s]){s&1&&te(t,t=n[0])?(o.d(1),o=De(n),o.c(),o.m(l.parentNode,l)):o.p(n,s)},i:ne,o:ne,d(n){n&&q(l),o.d(n)}}}function mt(e,t,l){let{grid:o}=t,n=ie(o),s=oe(o),r=ge(o),u=Ze(o);return e.$$set=c=>{"grid"in c&&l(0,o=c.grid)},[o,n,s,r,u]}class Vt extends fe{constructor(t){super(),ce(this,t,mt,_t,te,{grid:0})}}export{Vt as G,St as S,kt as a,Et as b,st as c,re as d,Ye as e,qt as f,Nt as g,Mt as h,Ze as i,Ut as p,Je as r,Qe as s,bt as u};
