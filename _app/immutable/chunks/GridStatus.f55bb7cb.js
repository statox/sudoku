import{s as ee,e as j,i as K,y as W,G as x,d as V,C as Ee,f as D,l as Q,a as y,g as O,h as X,m as Z,c as M,H as te,j as P,k as ie,I as C,n as Ie,J as Te,L as He,K as L,D as ve,M as ge,p as Ce,N as be,O as k}from"./scheduler.71239b2e.js";import{S as re,i as ae,b as B,d as G,m as H,a as A,t as F,e as z}from"./index.8ab45ecd.js";import{a as ue,b as De,d as Ae}from"./store.fe58922c.js";import{w as Oe}from"./index.7ccf2c6d.js";const Fe=(e,t)=>{if(e<0||e>8)throw new Error(`unexpected square position: ${e}`);const n=Math.floor(e/3),o=e%3,l=3*n,s=3*o;return[t[l][s],t[l][s+1],t[l][s+2],t[l+1][s],t[l+1][s+1],t[l+1][s+2],t[l+2][s],t[l+2][s+1],t[l+2][s+2]]};function ze(e){return e.notes!==void 0}function Pe(e){return e.clear===!0}const Ct=(e,t)=>{if(e.fixed)throw new Error("Tried to update fixed cell");if(ze(t)){e.value=void 0,e.notes=[...t.notes];return}if(Pe(t)){e.notes=[],e.value=void 0;return}e.notes=[],e.value=t.value},oe=e=>JSON.parse(JSON.stringify(e)),fe=(e,t,n,o)=>{if(!o||e[t][n].value)return!1;const l=e[t][n].notes.indexOf(o);return l===-1?!1:(e[t][n].notes.splice(l,1),!0)},bt=e=>{for(let t=0;t<9;t++)for(let n=0;n<9;n++)e[t][n].notes=[]},Le=(e,t)=>{const{row:n,col:o}=t;if(e[n][o].value){e[n][o].notes=[];return}e[n][o].notes=[1,2,3,4,5,6,7,8,9];const l=Math.floor(o/3),s=Math.floor(n/3);for(let r=0;r<9;r++){const a=e[r][o].value;fe(e,n,o,a);const f=e[n][r].value;fe(e,n,o,f);const h=Math.floor(r/3),d=r%3,b=e[3*s+h][3*l+d].value;fe(e,n,o,b)}return e[n][o].notes},Xe=e=>{for(let t=0;t<9;t++)for(let n=0;n<9;n++)Le(e,{row:t,col:n})},wt=e=>{for(let t=0;t<9;t++)for(let n=0;n<9;n++)e[t][n].fixed||(e[t][n].value=void 0,e[t][n].notes=[])},Ke=(e,t,n)=>{const{col:o,row:l}=t;if(e[l][o].value!==void 0)return!1;const s=Math.floor(o/3),r=Math.floor(l/3);for(let a=0;a<9;a++){if(e[l][a].value===n||e[a][o].value===n)return!1;const f=Math.floor(a/3),h=a%3;if(e[3*r+f][3*s+h].value===n)return!1}return!0},se=e=>{for(let d=0;d<9;d++){const b=new Set,p=new Set;for(let N=0;N<9;N++){const v=e[d][N].value;if(v){if(b.has(v))return!0;b.add(v)}const S=e[N][d].value;if(S){if(p.has(S))return!0;p.add(S)}}}const t=new Set,n=new Set,o=new Set,l=new Set,s=new Set,r=new Set,a=new Set,f=new Set,h=new Set;for(let d=0;d<3;d++)for(let b=0;b<3;b++){const p=e[d][b].value,N=e[d][3+b].value,v=e[d][6+b].value,S=e[3+d][b].value,_=e[3+d][3+b].value,$=e[3+d][6+b].value,w=e[6+d][b].value,U=e[6+d][3+b].value,i=e[6+d][6+b].value;if(p){if(t.has(p))return!0;t.add(p)}if(N){if(n.has(N))return!0;n.add(N)}if(v){if(o.has(v))return!0;o.add(v)}if(S){if(l.has(S))return!0;l.add(S)}if(_){if(s.has(_))return!0;s.add(_)}if($){if(r.has($))return!0;r.add($)}if(w){if(a.has(w))return!0;a.add(w)}if(U){if(f.has(U))return!0;f.add(U)}if(i){if(h.has(i))return!0;h.add(i)}}return!1},le=e=>{for(let t=0;t<9;t++)for(let n=0;n<9;n++)if(!e[t][n].value)return!1;return!0},he=e=>le(e)&&!se(e);let de=0;const Re=1e4,We=e=>{if(le(e))return he(e)?"unique":"none";const t=oe(e);let n=0;for(let l=0;l<9;l++)for(let s=0;s<9;s++)e[l][s].value!==void 0&&n++;const o=[];return de=0,Be(t,o,n),de>=Re?"unreachable":o.length===0?"none":o.length===1?"unique":"notUnique"},Be=(e,t,n)=>{if(!(de++>=Re)){for(let o=0;o<9;o++)for(let l=0;l<9;l++)if(e[o][l].value===void 0){for(let s=1;s<=9;s++)if(Ke(e,{row:o,col:l},s)){if(e[o][l].value=s,Be(e,t,n+1)&&(n===80&&t.push(oe(e)),t.length>=2))return!0;e[o][l].value=void 0}return!1}return!0}},Nt=(e,t)=>{if(se(e)||le(e))return e;const n=oe(e);Xe(n);const o=[n];for(;o.length;){const l=o.pop();if(t&&t.push(oe(l)),se(l))continue;if(le(l)){if(he(l))return l;continue}const s=Ye(l);if(!s.length)continue;const r=Math.floor(Math.random()*s.length),a=s[r],f=oe(l);f[a.row][a.col].notes=f[a.row][a.col].notes.filter(h=>h!==a.value),o.push(f),Je(l,a),Ge(l),o.push(l)}return n},ce=(e,t,n,o)=>{if(e[t][n].value)return!1;const l=e[t][n].notes.indexOf(o);return l===-1?!1:(e[t][n].notes.splice(l,1),e[t][n].notes.length===1?(e[t][n].value=e[t][n].notes.pop(),!0):!1)},Ge=e=>{if(le(e)||se(e))return;let t=!1;for(let n=0;n<9;n++)for(let o=0;o<9;o++){const{value:l}=e[n][o];if(!l)continue;for(let a=0;a<9;a++)t=t||ce(e,a,o,l),t=t||ce(e,n,a,l);const s=Math.floor(o/3),r=Math.floor(n/3);for(let a=0;a<3;a++)for(let f=0;f<3;f++)t=t||ce(e,3*r+a,3*s+f,l)}t&&Ge(e)},je=(e,t)=>{const{row:n,col:o,value:l}=t;return!(e[n][o].value||!e[n][o].notes.includes(l))},Je=(e,t)=>{if(!je(e,t))return;const{row:n,col:o,value:l}=t;e[n][o].value=l,e[n][o].notes=[]},Ye=e=>{let t=[],n=9;for(let o=0;o<9;o++)for(let l=0;l<9;l++){if(e[o][l].value!==void 0)continue;const{notes:s}=e[o][l];if(s.length<n&&(n=s.length,t=[]),s.length===n)for(const r of e[o][l].notes)t.push({row:o,col:l,value:r})}return t},kt=()=>{const e=[];for(let t=0;t<9;t++){e.push([]);for(let n=0;n<9;n++){const o={value:void 0,fixed:!1,notes:[1,2,3,4,5,6,7,8,9]};e[e.length-1].push(o)}}return e};function we(e,t,n){const o=e.slice();return o[21]=t[n],o}function Ne(e){let t=e[2],n,o=Ve(e);return{c(){o.c(),n=j()},l(l){o.l(l),n=j()},m(l,s){o.m(l,s),K(l,n,s)},p(l,s){s&4&&ee(t,t=l[2])?(o.d(1),o=Ve(l),o.c(),o.m(n.parentNode,n)):o.p(l,s)},d(l){l&&V(n),o.d(l)}}}function Qe(e){let t,n,o,l;function s(){return e[18](e[21])}return{c(){t=D("button"),n=Q(e[21]),this.h()},l(r){t=O(r,"BUTTON",{class:!0});var a=X(t);n=Z(a,e[21]),a.forEach(V),this.h()},h(){P(t,"class","choice-btn svelte-1wa913h"),L(t,"selected",e[6]===e[21])},m(r,a){K(r,t,a),C(t,n),o||(l=W(t,"click",s),o=!0)},p(r,a){e=r,a&64&&L(t,"selected",e[6]===e[21])},d(r){r&&V(t),o=!1,l()}}}function Ze(e){let t=e[5],n,o=ke(e);return{c(){o.c(),n=j()},l(l){o.l(l),n=j()},m(l,s){o.m(l,s),K(l,n,s)},p(l,s){s&32&&ee(t,t=l[5])?(o.d(1),o=ke(l),o.c(),o.m(n.parentNode,n)):o.p(l,s)},d(l){l&&V(n),o.d(l)}}}function ke(e){let t,n,o,l;function s(){return e[17](e[21])}return{c(){t=D("button"),n=Q(e[21]),this.h()},l(r){t=O(r,"BUTTON",{class:!0});var a=X(t);n=Z(a,e[21]),a.forEach(V),this.h()},h(){P(t,"class","choice-btn svelte-1wa913h"),L(t,"selected",e[5][e[21]-1])},m(r,a){K(r,t,a),C(t,n),o||(l=W(t,"click",s),o=!0)},p(r,a){e=r,a&32&&L(t,"selected",e[5][e[21]-1])},d(r){r&&V(t),o=!1,l()}}}function Ue(e){let t;function n(s,r){return s[4]?Ze:Qe}let o=n(e),l=o(e);return{c(){l.c(),t=j()},l(s){l.l(s),t=j()},m(s,r){l.m(s,r),K(s,t,r)},p(s,r){o===(o=n(s))&&l?l.p(s,r):(l.d(1),l=o(s),l&&(l.c(),l.m(t.parentNode,t)))},d(s){s&&V(t),l.d(s)}}}function qe(e){let t,n="Auto notes",o,l;return{c(){t=D("button"),t.textContent=n},l(s){t=O(s,"BUTTON",{"data-svelte-h":!0}),te(t)!=="svelte-1y6181p"&&(t.textContent=n)},m(s,r){K(s,t,r),o||(l=W(t,"click",function(){He(e[1])&&e[1].apply(this,arguments)}),o=!0)},p(s,r){e=s},d(s){s&&V(t),o=!1,l()}}}function Ve(e){let t,n,o,l=e[4]?"Notes":"Value",s,r,a,f="âœ–",h,d,b,p,N,v="Change mode",S,_,$,w=ue([1,2,3,4,5,6,7,8,9]),U=[];for(let u=0;u<9;u+=1)U[u]=Ue(we(e,w,u));let i=e[4]&&qe(e);return{c(){t=D("div"),n=D("div"),o=D("h3"),s=Q(l),r=y(),a=D("button"),a.textContent=f,h=y(),d=D("div");for(let u=0;u<9;u+=1)U[u].c();b=y(),p=D("div"),N=D("button"),N.textContent=v,S=y(),i&&i.c(),this.h()},l(u){t=O(u,"DIV",{role:!0,class:!0,style:!0});var c=X(t);n=O(c,"DIV",{class:!0});var q=X(n);o=O(q,"H3",{class:!0});var g=X(o);s=Z(g,l),r=M(g),a=O(g,"BUTTON",{"data-svelte-h":!0}),te(a)!=="svelte-15i1wwz"&&(a.textContent=f),g.forEach(V),h=M(q),d=O(q,"DIV",{class:!0});var R=X(d);for(let E=0;E<9;E+=1)U[E].l(R);R.forEach(V),b=M(q),p=O(q,"DIV",{});var T=X(p);N=O(T,"BUTTON",{"data-svelte-h":!0}),te(N)!=="svelte-1y20icv"&&(N.textContent=v),S=M(T),i&&i.l(T),T.forEach(V),q.forEach(V),c.forEach(V),this.h()},h(){P(o,"class","title-bar svelte-1wa913h"),P(d,"class","grid svelte-1wa913h"),P(n,"class","contents svelte-1wa913h"),P(t,"role","dialog"),P(t,"class","modal svelte-1wa913h"),ie(t,"top",e[2]+"px"),ie(t,"left",e[3]+"px")},m(u,c){K(u,t,c),C(t,n),C(n,o),C(o,s),C(o,r),C(o,a),C(n,h),C(n,d);for(let q=0;q<9;q+=1)U[q]&&U[q].m(d,null);C(n,b),C(n,p),C(p,N),C(p,S),i&&i.m(p,null),_||($=[W(a,"click",De),W(N,"click",e[8]),W(t,"mousedown",e[11])],_=!0)},p(u,c){if(c&16&&l!==(l=u[4]?"Notes":"Value")&&Ie(s,l),c&240){w=ue([1,2,3,4,5,6,7,8,9]);let q;for(q=0;q<9;q+=1){const g=we(u,w,q);U[q]?U[q].p(g,c):(U[q]=Ue(g),U[q].c(),U[q].m(d,null))}for(;q<9;q+=1)U[q].d(1)}u[4]?i?i.p(u,c):(i=qe(u),i.c(),i.m(p,null)):i&&(i.d(1),i=null),c&4&&ie(t,"top",u[2]+"px"),c&8&&ie(t,"left",u[3]+"px")},d(u){u&&V(t),Te(U,u),i&&i.d(),_=!1,Ee($)}}}function xe(e){let t,n,o,l=e[0]&&Ne(e);return{c(){l&&l.c(),t=j()},l(s){l&&l.l(s),t=j()},m(s,r){l&&l.m(s,r),K(s,t,r),n||(o=[W(window,"keydown",e[9]),W(window,"keyup",e[10]),W(window,"mouseup",e[13]),W(window,"mousemove",e[12])],n=!0)},p(s,[r]){s[0]?l?l.p(s,r):(l=Ne(s),l.c(),l.m(t.parentNode,t)):l&&(l.d(1),l=null)},i:x,o:x,d(s){s&&V(t),l&&l.d(s),n=!1,Ee(o)}}}function et(e,t,n){let{isOpen:o}=t,{onSelectionUpdated:l}=t,{onComputeCellNotes:s}=t,{initialState:r}=t,{parentBoundingRect:a}=t;const f=g=>{const R=document.body.getBoundingClientRect(),T=300,E=300;let m=g.top-E/2,I=g.right;return I>R.width/2&&(I=g.left-T-g.width),{top:m,left:Math.max(0,I)}};let{top:h,left:d}=f(a),b=r.notes.length>0,p=new Array(9).fill(!1).map((g,R)=>r.notes.includes(R+1)),N=r.value;const v=(g,R)=>{if(R==="notes"){n(5,p[g-1]=!p[g-1],p),n(5,p),n(6,N=void 0),l({notes:p.map((T,E)=>E+1).filter(T=>p[T-1])});return}if(N===g){l({clear:!0}),n(6,N=void 0),n(5,p=[]);return}n(6,N=g),n(5,p=[]),l({value:N}),De()},S=()=>{n(4,b=!b)},_=g=>{const R="!@#$%^&*(",T=g.getModifierState("Shift");let E;if(E=g.key,E==="Backspace"){l({clear:!0});return}E==="Shift"&&n(4,b=!0),R.includes(E)&&(E=R.indexOf(E)+1),!isNaN(Number(E))&&v(Number(E),T?"notes":"value")},$=g=>{const{key:R}=g;R==="Shift"&&n(4,b=!1)};let w=!1;function U(){w=!0}function i(g){w&&(n(3,d+=g.movementX),n(2,h+=g.movementY))}function u(){w=!1}const c=g=>v(g,"notes"),q=g=>v(g,"value");return e.$$set=g=>{"isOpen"in g&&n(0,o=g.isOpen),"onSelectionUpdated"in g&&n(14,l=g.onSelectionUpdated),"onComputeCellNotes"in g&&n(1,s=g.onComputeCellNotes),"initialState"in g&&n(15,r=g.initialState),"parentBoundingRect"in g&&n(16,a=g.parentBoundingRect)},[o,s,h,d,b,p,N,v,S,_,$,U,i,u,l,r,a,c,q]}class tt extends re{constructor(t){super(),ae(this,t,et,xe,ee,{isOpen:0,onSelectionUpdated:14,onComputeCellNotes:1,initialState:15,parentBoundingRect:16})}}const lt=Oe([]),nt=e=>e.effect!==void 0,ot=Oe();function $e(e,t,n){const o=e.slice();return o[13]=t[n],o}function st(e){let t,n,o,l,s=ue([1,2,3,4,5,6,7,8,9]),r=[];for(let a=0;a<9;a+=1)r[a]=ye($e(e,s,a));return{c(){t=D("button");for(let a=0;a<9;a+=1)r[a].c();this.h()},l(a){t=O(a,"BUTTON",{class:!0});var f=X(t);for(let h=0;h<9;h+=1)r[h].l(f);f.forEach(V),this.h()},h(){P(t,"class",n=be("cell notes "+e[2])+" svelte-1bgbz3t")},m(a,f){K(a,t,f);for(let h=0;h<9;h+=1)r[h]&&r[h].m(t,null);e[9](t),o||(l=W(t,"click",e[4]),o=!0)},p(a,f){if(f&105){s=ue([1,2,3,4,5,6,7,8,9]);let h;for(h=0;h<9;h+=1){const d=$e(a,s,h);r[h]?r[h].p(d,f):(r[h]=ye(d),r[h].c(),r[h].m(t,null))}for(;h<9;h+=1)r[h].d(1)}f&4&&n!==(n=be("cell notes "+a[2])+" svelte-1bgbz3t")&&P(t,"class",n)},d(a){a&&V(t),Te(r,a),e[9](null),o=!1,l()}}}function rt(e){let t,n=e[0].value+"",o,l,s,r;return{c(){t=D("button"),o=Q(n),this.h()},l(a){t=O(a,"BUTTON",{class:!0});var f=X(t);o=Z(f,n),f.forEach(V),this.h()},h(){P(t,"class","cell value svelte-1bgbz3t"),t.disabled=l=e[0].fixed,L(t,"fixed",e[0].fixed),L(t,"highlight",e[3]!==void 0&&e[3]===e[0].value)},m(a,f){K(a,t,f),C(t,o),e[8](t),s||(r=W(t,"click",e[4]),s=!0)},p(a,f){f&1&&n!==(n=a[0].value+"")&&Ie(o,n),f&1&&l!==(l=a[0].fixed)&&(t.disabled=l),f&1&&L(t,"fixed",a[0].fixed),f&9&&L(t,"highlight",a[3]!==void 0&&a[3]===a[0].value)},d(a){a&&V(t),e[8](null),s=!1,r()}}}function Se(e){let t;return{c(){t=Q(e[13])},l(n){t=Z(n,e[13])},m(n,o){K(n,t,o)},d(n){n&&V(t)}}}function ye(e){let t,n=e[0].notes.includes(e[13]),o,l=n&&Se(e);return{c(){t=D("div"),l&&l.c(),o=y(),this.h()},l(s){t=O(s,"DIV",{class:!0});var r=X(t);l&&l.l(r),o=M(r),r.forEach(V),this.h()},h(){P(t,"class","note svelte-1bgbz3t"),L(t,"hinted-note",e[5].includes(e[13])),L(t,"hinted-remove-note",e[6].includes(e[13])),L(t,"highlight",e[3]!==void 0&&e[3]===e[13])},m(s,r){K(s,t,r),l&&l.m(t,null),C(t,o)},p(s,r){r&1&&(n=s[0].notes.includes(s[13])),n?l||(l=Se(s),l.c(),l.m(t,o)):l&&(l.d(1),l=null),r&8&&L(t,"highlight",s[3]!==void 0&&s[3]===s[13])},d(s){s&&V(t),l&&l.d()}}}function at(e){let t;function n(s,r){return s[0].value?rt:st}let o=n(e),l=o(e);return{c(){l.c(),t=j()},l(s){l.l(s),t=j()},m(s,r){l.m(s,r),K(s,t,r)},p(s,[r]){o===(o=n(s))&&l?l.p(s,r):(l.d(1),l=o(s),l&&(l.c(),l.m(t.parentNode,t)))},i:x,o:x,d(s){s&&V(t),l.d(s)}}}function it(e,t,n){let o,l;ve(e,lt,_=>n(10,o=_)),ve(e,ot,_=>n(3,l=_));let{cell:s}=t,{position:r}=t;const a=ge(),f=ge();let h;const d=()=>{Ae(tt,{initialState:s,onSelectionUpdated:w=>{a("cellUpdate",{cell:s,update:w})},onComputeCellNotes:()=>{f("computeCellNotes",{position:r})},parentBoundingRect:h.getBoundingClientRect()})};let b="";const p=[],N=[];for(const _ of o){for(const $ of _.cause)$.row===r.row&&$.col===r.col&&(_.type==="naked_pair"?b="naked-pair-hint":b="lone-hint",p.push(...$.notes));if(nt(_))for(const $ of _.effect)$.row===r.row&&$.col===r.col&&N.push(...$.notes)}function v(_){Ce[_?"unshift":"push"](()=>{h=_,n(1,h)})}function S(_){Ce[_?"unshift":"push"](()=>{h=_,n(1,h)})}return e.$$set=_=>{"cell"in _&&n(0,s=_.cell),"position"in _&&n(7,r=_.position)},[s,h,b,l,d,p,N,r,v,S]}class J extends re{constructor(t){super(),ae(this,t,it,at,ee,{cell:0,position:7})}}function ut(e){let t,n,o,l,s,r,a,f,h,d,b,p,N,v,S,_,$,w,U;return n=new J({props:{position:{row:e[2],col:e[3]},cell:e[4][0]}}),n.$on("cellUpdate",e[7]),n.$on("computeCellNotes",e[8]),l=new J({props:{position:{row:e[2],col:e[3]+1},cell:e[4][1]}}),l.$on("cellUpdate",e[9]),l.$on("computeCellNotes",e[10]),r=new J({props:{position:{row:e[2],col:e[3]+2},cell:e[4][2]}}),r.$on("cellUpdate",e[11]),r.$on("computeCellNotes",e[12]),f=new J({props:{position:{row:e[2]+1,col:e[3]},cell:e[4][3]}}),f.$on("cellUpdate",e[13]),f.$on("computeCellNotes",e[14]),d=new J({props:{position:{row:e[2]+1,col:e[3]+1},cell:e[4][4]}}),d.$on("cellUpdate",e[15]),d.$on("computeCellNotes",e[16]),p=new J({props:{position:{row:e[2]+1,col:e[3]+2},cell:e[4][5]}}),p.$on("cellUpdate",e[17]),p.$on("computeCellNotes",e[18]),v=new J({props:{position:{row:e[2]+2,col:e[3]},cell:e[4][6]}}),v.$on("cellUpdate",e[19]),v.$on("computeCellNotes",e[20]),_=new J({props:{position:{row:e[2]+2,col:e[3]+1},cell:e[4][7]}}),_.$on("cellUpdate",e[21]),_.$on("computeCellNotes",e[22]),w=new J({props:{position:{row:e[2]+2,col:e[3]+2},cell:e[4][8]}}),w.$on("cellUpdate",e[23]),w.$on("computeCellNotes",e[24]),{c(){t=D("div"),B(n.$$.fragment),o=y(),B(l.$$.fragment),s=y(),B(r.$$.fragment),a=y(),B(f.$$.fragment),h=y(),B(d.$$.fragment),b=y(),B(p.$$.fragment),N=y(),B(v.$$.fragment),S=y(),B(_.$$.fragment),$=y(),B(w.$$.fragment),this.h()},l(i){t=O(i,"DIV",{class:!0});var u=X(t);G(n.$$.fragment,u),o=M(u),G(l.$$.fragment,u),s=M(u),G(r.$$.fragment,u),a=M(u),G(f.$$.fragment,u),h=M(u),G(d.$$.fragment,u),b=M(u),G(p.$$.fragment,u),N=M(u),G(v.$$.fragment,u),S=M(u),G(_.$$.fragment,u),$=M(u),G(w.$$.fragment,u),u.forEach(V),this.h()},h(){P(t,"class","cell-grid svelte-1nq1cl9"),L(t,"borderLeftRight",e[0]),L(t,"borderTopBottom",e[1])},m(i,u){K(i,t,u),H(n,t,null),C(t,o),H(l,t,null),C(t,s),H(r,t,null),C(t,a),H(f,t,null),C(t,h),H(d,t,null),C(t,b),H(p,t,null),C(t,N),H(v,t,null),C(t,S),H(_,t,null),C(t,$),H(w,t,null),U=!0},p:x,i(i){U||(A(n.$$.fragment,i),A(l.$$.fragment,i),A(r.$$.fragment,i),A(f.$$.fragment,i),A(d.$$.fragment,i),A(p.$$.fragment,i),A(v.$$.fragment,i),A(_.$$.fragment,i),A(w.$$.fragment,i),U=!0)},o(i){F(n.$$.fragment,i),F(l.$$.fragment,i),F(r.$$.fragment,i),F(f.$$.fragment,i),F(d.$$.fragment,i),F(p.$$.fragment,i),F(v.$$.fragment,i),F(_.$$.fragment,i),F(w.$$.fragment,i),U=!1},d(i){i&&V(t),z(n),z(l),z(r),z(f),z(d),z(p),z(v),z(_),z(w)}}}function ft(e,t,n){let{position:o}=t,{grid:l}=t;const s=[1,4,7].includes(o),r=[3,4,5].includes(o),a=3*Math.floor(o/3),f=3*(o%3),h=Fe(o,l);function d(m){k.call(this,e,m)}function b(m){k.call(this,e,m)}function p(m){k.call(this,e,m)}function N(m){k.call(this,e,m)}function v(m){k.call(this,e,m)}function S(m){k.call(this,e,m)}function _(m){k.call(this,e,m)}function $(m){k.call(this,e,m)}function w(m){k.call(this,e,m)}function U(m){k.call(this,e,m)}function i(m){k.call(this,e,m)}function u(m){k.call(this,e,m)}function c(m){k.call(this,e,m)}function q(m){k.call(this,e,m)}function g(m){k.call(this,e,m)}function R(m){k.call(this,e,m)}function T(m){k.call(this,e,m)}function E(m){k.call(this,e,m)}return e.$$set=m=>{"position"in m&&n(5,o=m.position),"grid"in m&&n(6,l=m.grid)},[s,r,a,f,h,o,l,d,b,p,N,v,S,_,$,w,U,i,u,c,q,g,R,T,E]}class Y extends re{constructor(t){super(),ae(this,t,ft,ut,ee,{position:5,grid:6})}}function ct(e){let t,n,o,l,s,r,a,f,h,d,b,p,N,v,S,_,$,w,U;return n=new Y({props:{position:0,grid:e[0]}}),n.$on("cellUpdate",e[1]),n.$on("computeCellNotes",e[2]),l=new Y({props:{position:1,grid:e[0]}}),l.$on("cellUpdate",e[3]),l.$on("computeCellNotes",e[4]),r=new Y({props:{position:2,grid:e[0]}}),r.$on("cellUpdate",e[5]),r.$on("computeCellNotes",e[6]),f=new Y({props:{position:3,grid:e[0]}}),f.$on("cellUpdate",e[7]),f.$on("computeCellNotes",e[8]),d=new Y({props:{position:4,grid:e[0]}}),d.$on("cellUpdate",e[9]),d.$on("computeCellNotes",e[10]),p=new Y({props:{position:5,grid:e[0]}}),p.$on("cellUpdate",e[11]),p.$on("computeCellNotes",e[12]),v=new Y({props:{position:6,grid:e[0]}}),v.$on("cellUpdate",e[13]),v.$on("computeCellNotes",e[14]),_=new Y({props:{position:7,grid:e[0]}}),_.$on("cellUpdate",e[15]),_.$on("computeCellNotes",e[16]),w=new Y({props:{position:8,grid:e[0]}}),w.$on("cellUpdate",e[17]),w.$on("computeCellNotes",e[18]),{c(){t=D("div"),B(n.$$.fragment),o=y(),B(l.$$.fragment),s=y(),B(r.$$.fragment),a=y(),B(f.$$.fragment),h=y(),B(d.$$.fragment),b=y(),B(p.$$.fragment),N=y(),B(v.$$.fragment),S=y(),B(_.$$.fragment),$=y(),B(w.$$.fragment),this.h()},l(i){t=O(i,"DIV",{class:!0});var u=X(t);G(n.$$.fragment,u),o=M(u),G(l.$$.fragment,u),s=M(u),G(r.$$.fragment,u),a=M(u),G(f.$$.fragment,u),h=M(u),G(d.$$.fragment,u),b=M(u),G(p.$$.fragment,u),N=M(u),G(v.$$.fragment,u),S=M(u),G(_.$$.fragment,u),$=M(u),G(w.$$.fragment,u),u.forEach(V),this.h()},h(){P(t,"class","main-grid svelte-vli9ua")},m(i,u){K(i,t,u),H(n,t,null),C(t,o),H(l,t,null),C(t,s),H(r,t,null),C(t,a),H(f,t,null),C(t,h),H(d,t,null),C(t,b),H(p,t,null),C(t,N),H(v,t,null),C(t,S),H(_,t,null),C(t,$),H(w,t,null),U=!0},p(i,[u]){const c={};u&1&&(c.grid=i[0]),n.$set(c);const q={};u&1&&(q.grid=i[0]),l.$set(q);const g={};u&1&&(g.grid=i[0]),r.$set(g);const R={};u&1&&(R.grid=i[0]),f.$set(R);const T={};u&1&&(T.grid=i[0]),d.$set(T);const E={};u&1&&(E.grid=i[0]),p.$set(E);const m={};u&1&&(m.grid=i[0]),v.$set(m);const I={};u&1&&(I.grid=i[0]),_.$set(I);const ne={};u&1&&(ne.grid=i[0]),w.$set(ne)},i(i){U||(A(n.$$.fragment,i),A(l.$$.fragment,i),A(r.$$.fragment,i),A(f.$$.fragment,i),A(d.$$.fragment,i),A(p.$$.fragment,i),A(v.$$.fragment,i),A(_.$$.fragment,i),A(w.$$.fragment,i),U=!0)},o(i){F(n.$$.fragment,i),F(l.$$.fragment,i),F(r.$$.fragment,i),F(f.$$.fragment,i),F(d.$$.fragment,i),F(p.$$.fragment,i),F(v.$$.fragment,i),F(_.$$.fragment,i),F(w.$$.fragment,i),U=!1},d(i){i&&V(t),z(n),z(l),z(r),z(f),z(d),z(p),z(v),z(_),z(w)}}}function dt(e,t,n){let{grid:o}=t;function l(c){k.call(this,e,c)}function s(c){k.call(this,e,c)}function r(c){k.call(this,e,c)}function a(c){k.call(this,e,c)}function f(c){k.call(this,e,c)}function h(c){k.call(this,e,c)}function d(c){k.call(this,e,c)}function b(c){k.call(this,e,c)}function p(c){k.call(this,e,c)}function N(c){k.call(this,e,c)}function v(c){k.call(this,e,c)}function S(c){k.call(this,e,c)}function _(c){k.call(this,e,c)}function $(c){k.call(this,e,c)}function w(c){k.call(this,e,c)}function U(c){k.call(this,e,c)}function i(c){k.call(this,e,c)}function u(c){k.call(this,e,c)}return e.$$set=c=>{"grid"in c&&n(0,o=c.grid)},[o,l,s,r,a,f,h,d,b,p,N,v,S,_,$,w,U,i,u]}class Ut extends re{constructor(t){super(),ae(this,t,dt,ct,ee,{grid:0})}}function Me(e){let t,n,o="grid has errors",l,s,r="grid is filled",a,f,h="grid is valid",d,b,p="grid has solutions",N,v,S=e[1]?"Has errors":"No errors",_,$,w,U=e[2]?"Is filled":"Not filled",i,u,c,q=e[3]?"Is valid":"Not valid",g,R,T,E;return{c(){t=D("div"),n=D("div"),n.textContent=o,l=y(),s=D("div"),s.textContent=r,a=y(),f=D("div"),f.textContent=h,d=y(),b=D("div"),b.textContent=p,N=y(),v=D("div"),_=Q(S),$=y(),w=D("div"),i=Q(U),u=y(),c=D("div"),g=Q(q),R=y(),T=D("div"),E=Q(e[4]),this.h()},l(m){t=O(m,"DIV",{class:!0});var I=X(t);n=O(I,"DIV",{"data-svelte-h":!0}),te(n)!=="svelte-1hlqbal"&&(n.textContent=o),l=M(I),s=O(I,"DIV",{"data-svelte-h":!0}),te(s)!=="svelte-ekf37s"&&(s.textContent=r),a=M(I),f=O(I,"DIV",{"data-svelte-h":!0}),te(f)!=="svelte-16e0vl8"&&(f.textContent=h),d=M(I),b=O(I,"DIV",{"data-svelte-h":!0}),te(b)!=="svelte-1tjrozg"&&(b.textContent=p),N=M(I),v=O(I,"DIV",{class:!0});var ne=X(v);_=Z(ne,S),ne.forEach(V),$=M(I),w=O(I,"DIV",{class:!0});var _e=X(w);i=Z(_e,U),_e.forEach(V),u=M(I),c=O(I,"DIV",{class:!0});var pe=X(c);g=Z(pe,q),pe.forEach(V),R=M(I),T=O(I,"DIV",{class:!0});var me=X(T);E=Z(me,e[4]),me.forEach(V),I.forEach(V),this.h()},h(){P(v,"class","status svelte-1csoeu4"),L(v,"red",e[1]),P(w,"class","status svelte-1csoeu4"),L(w,"red",!e[2]),P(c,"class","status svelte-1csoeu4"),L(c,"red",!e[3]),P(T,"class","status svelte-1csoeu4"),L(T,"red",e[4]!=="unique"),P(t,"class","grid-status svelte-1csoeu4")},m(m,I){K(m,t,I),C(t,n),C(t,l),C(t,s),C(t,a),C(t,f),C(t,d),C(t,b),C(t,N),C(t,v),C(v,_),C(t,$),C(t,w),C(w,i),C(t,u),C(t,c),C(c,g),C(t,R),C(t,T),C(T,E)},p:x,d(m){m&&V(t)}}}function ht(e){let t=e[0],n,o=Me(e);return{c(){o.c(),n=j()},l(l){o.l(l),n=j()},m(l,s){o.m(l,s),K(l,n,s)},p(l,[s]){s&1&&ee(t,t=l[0])?(o.d(1),o=Me(l),o.c(),o.m(n.parentNode,n)):o.p(l,s)},i:x,o:x,d(l){l&&V(n),o.d(l)}}}function _t(e,t,n){let{grid:o}=t,l=se(o),s=le(o),r=he(o),a=We(o);return e.$$set=f=>{"grid"in f&&n(0,o=f.grid)},[o,l,s,r,a]}class qt extends re{constructor(t){super(),ae(this,t,_t,ht,ee,{grid:0})}}export{qt as G,Ut as S,kt as a,wt as b,We as c,oe as d,Xe as e,bt as f,Nt as g,ot as h,Ke as m,Le as r,lt as s,Ct as u};
