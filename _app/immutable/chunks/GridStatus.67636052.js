import{s as oe,e as te,i as Y,y as Q,G as re,d as q,C as He,D as Pe,o as ze,f as R,l as Z,a as T,g as A,h as P,m as x,c as D,H as ae,j as H,k as me,I as m,M as Je,n as pe,K as Ce,L as z,N as Me,p as Se,O as ve,P as U}from"./scheduler.193db7c4.js";import{S as he,i as de,b as $,d as j,m as L,a as X,t as K,e as W}from"./index.9bea933b.js";import{a as ue,b as $e,d as Ye}from"./store.8b4149bb.js";import{p as Qe}from"./stores.65d70ca0.js";import{w as Ze}from"./index.33e6b952.js";const xe=(e,t)=>{if(e<0||e>8)throw new Error(`unexpected square position: ${e}`);const l=Math.floor(e/3),o=e%3,n=3*l,s=3*o;return[t[n][s],t[n][s+1],t[n][s+2],t[n+1][s],t[n+1][s+1],t[n+1][s+2],t[n+2][s],t[n+2][s+1],t[n+2][s+2]]};function et(e){return e.notes!==void 0}function tt(e){return e.clear===!0}const St=(e,t)=>{if(e.fixed)throw new Error("Tried to update fixed cell");if(et(t)){e.value=void 0,e.notes=[...t.notes];return}if(tt(t)){e.notes=[],e.value=void 0;return}e.notes=[],e.value=t.value},Vt=e=>{const t=[],l=new Array(27).fill(0);for(let o=0;o<9;o++)for(let n=0;n<9;n++){if(e[o][n].value===void 0)continue;const s=e[o][n].value,i=1<<s-1,u=l[o],f=l[9+n],_=l[18+Math.floor(o/3)*3+Math.floor(n/3)];u&i&&t.push({type:"row",col:n,row:o,value:s}),f&i&&t.push({type:"column",col:n,row:o,value:s}),_&i&&t.push({type:"square",col:n,row:o,value:s}),l[o]^=i,l[9+n]^=i,l[18+Math.floor(o/3)*3+Math.floor(n/3)]^=i}return t},ce=e=>{const t=new Array(27).fill(0);for(let l=0;l<9;l++)for(let o=0;o<9;o++){if(e[l][o].value===void 0)continue;const s=1<<e[l][o].value-1,i=t[l],u=t[9+o],f=t[18+Math.floor(l/3)*3+Math.floor(o/3)];if(i&s||u&s||f&s)return!0;t[l]^=s,t[9+o]^=s,t[18+Math.floor(l/3)*3+Math.floor(o/3)]^=s}return!1},ie=e=>{for(let t=0;t<9;t++)for(let l=0;l<9;l++)if(!e[t][l].value)return!1;return!0},Ne=e=>ie(e)&&!ce(e),fe=e=>JSON.parse(JSON.stringify(e)),ge=(e,t,l,o)=>{if(!o||e[t][l].value)return!1;const n=e[t][l].notes.indexOf(o);return n===-1?!1:(e[t][l].notes.splice(n,1),!0)},It=e=>{for(let t=0;t<9;t++)for(let l=0;l<9;l++)e[t][l].notes=[]},lt=(e,t)=>{const{row:l,col:o}=t;if(e[l][o].value){e[l][o].notes=[];return}e[l][o].notes=[1,2,3,4,5,6,7,8,9];const n=Math.floor(o/3),s=Math.floor(l/3);for(let i=0;i<9;i++){const u=e[i][o].value;ge(e,l,o,u);const f=e[l][i].value;ge(e,l,o,f);const _=Math.floor(i/3),v=i%3,O=e[3*s+_][3*n+v].value;ge(e,l,o,O)}return e[l][o].notes},nt=e=>{for(let t=0;t<9;t++)for(let l=0;l<9;l++)lt(e,{row:t,col:l})},Tt=e=>{for(let t=0;t<9;t++)for(let l=0;l<9;l++)e[t][l].fixed||(e[t][l].value=void 0,e[t][l].notes=[])},Dt=e=>{if(ie(e)||ce(e))return{grid:e,hint:null};const t=ot(e),l=[];for(let i=0;i<9;i++)for(let u=0;u<9;u++)e[i][u].value===void 0&&l.push({x:u,y:i});if(!l.length)return{grid:e,hint:null};const o=Math.floor(Math.random()*l.length),n=l[o],s=t[n.y][n.x].value;return e[n.y][n.x].value=s,{grid:e,hint:{type:"last_auto_hint",effect:[],cause:[{row:n.y,col:n.x,notes:[s]}]}}},je=(e,t,l)=>{const{col:o,row:n}=t;if(e[n][o].value!==void 0)return!1;const s=Math.floor(o/3),i=Math.floor(n/3);for(let u=0;u<9;u++){if(e[n][u].value===l||e[u][o].value===l)return!1;const f=Math.floor(u/3),_=u%3;if(e[3*i+f][3*s+_].value===l)return!1}return!0},ot=e=>{const t=fe(e);return Le(t),t},Le=e=>{for(let t=0;t<9;t++)for(let l=0;l<9;l++)if(e[t][l].value===void 0){for(let o=1;o<=9;o++)if(je(e,{row:t,col:l},o)){if(e[t][l].value=o,Le(e))return!0;e[t][l].value=void 0}return!1}return!0};let be=0;const Xe=1e4,st=e=>{if(ie(e))return Ne(e)?"unique":"none";const t=fe(e);let l=0;for(let n=0;n<9;n++)for(let s=0;s<9;s++)e[n][s].value!==void 0&&l++;const o=[];return be=0,Ke(t,o,l),be>=Xe?"unreachable":o.length===0?"none":o.length===1?"unique":"notUnique"},Ke=(e,t,l)=>{if(!(be++>=Xe)){for(let o=0;o<9;o++)for(let n=0;n<9;n++)if(e[o][n].value===void 0){for(let s=1;s<=9;s++)if(je(e,{row:o,col:n},s)){if(e[o][n].value=s,Ke(e,t,l+1)&&(l===80&&t.push(fe(e)),t.length>=2))return!0;e[o][n].value=void 0}return!1}return!0}},Ot=(e,t)=>{if(ce(e)||ie(e))return e;const l=fe(e);nt(l);const o=[l];for(;o.length;){const n=o.pop();if(t&&t.push(fe(n)),ce(n))continue;if(ie(n)){if(Ne(n))return n;continue}const s=at(n);if(!s.length)continue;const i=Math.floor(Math.random()*s.length),u=s[i],f=fe(n);f[u.row][u.col].notes=f[u.row][u.col].notes.filter(_=>_!==u.value),o.push(f),it(n,u),We(n),o.push(n)}return l},we=(e,t,l,o)=>{if(e[t][l].value)return!1;const n=e[t][l].notes.indexOf(o);return n===-1?!1:(e[t][l].notes.splice(n,1),e[t][l].notes.length===1?(e[t][l].value=e[t][l].notes.pop(),!0):!1)},We=e=>{if(ie(e)||ce(e))return;let t=!1;for(let l=0;l<9;l++)for(let o=0;o<9;o++){const{value:n}=e[l][o];if(!n)continue;for(let u=0;u<9;u++)t=t||we(e,u,o,n),t=t||we(e,l,u,n);const s=Math.floor(o/3),i=Math.floor(l/3);for(let u=0;u<3;u++)for(let f=0;f<3;f++)t=t||we(e,3*i+u,3*s+f,n)}t&&We(e)},rt=(e,t)=>{const{row:l,col:o,value:n}=t;return!(e[l][o].value||!e[l][o].notes.includes(n))},it=(e,t)=>{if(!rt(e,t))return;const{row:l,col:o,value:n}=t;e[l][o].value=n,e[l][o].notes=[]},at=e=>{let t=[],l=9;for(let o=0;o<9;o++)for(let n=0;n<9;n++){if(e[o][n].value!==void 0)continue;const{notes:s}=e[o][n];if(s.length<l&&(l=s.length,t=[]),s.length===l)for(const i of e[o][n].notes)t.push({row:o,col:n,value:i})}return t},Bt=()=>{const e=[];for(let t=0;t<9;t++){e.push([]);for(let l=0;l<9;l++){const o={value:void 0,fixed:!1,notes:[1,2,3,4,5,6,7,8,9]};e[e.length-1].push(o)}}return e};function Ve(e,t,l){const o=e.slice();return o[23]=t[l],o}function Ie(e,t,l){const o=e.slice();return o[23]=t[l],o}function Te(e){let t=e[2],l,o=Ge(e);return{c(){o.c(),l=te()},l(n){o.l(n),l=te()},m(n,s){o.m(n,s),Y(n,l,s)},p(n,s){s&4&&oe(t,t=n[2])?(o.d(1),o=Ge(n),o.c(),o.m(l.parentNode,l)):o.p(n,s)},d(n){n&&q(l),o.d(n)}}}function De(e){let t,l,o,n;function s(){return e[17](e[23])}return{c(){t=R("button"),l=Z(e[23]),this.h()},l(i){t=A(i,"BUTTON",{class:!0});var u=P(t);l=x(u,e[23]),u.forEach(q),this.h()},h(){H(t,"class","choice-btn svelte-1v5q25"),z(t,"selected",e[5]===e[23])},m(i,u){Y(i,t,u),m(t,l),o||(n=Q(t,"click",s),o=!0)},p(i,u){e=i,u&32&&z(t,"selected",e[5]===e[23])},d(i){i&&q(t),o=!1,n()}}}function Oe(e){let t,l,o,n;function s(){return e[18](e[23])}return{c(){t=R("button"),l=Z(e[23]),this.h()},l(i){t=A(i,"BUTTON",{class:!0});var u=P(t);l=x(u,e[23]),u.forEach(q),this.h()},h(){H(t,"class","choice-btn svelte-1v5q25"),z(t,"selected",e[4][e[23]-1])},m(i,u){Y(i,t,u),m(t,l),o||(n=Q(t,"click",s),o=!0)},p(i,u){e=i,u&16&&z(t,"selected",e[4][e[23]-1])},d(i){i&&q(t),o=!1,n()}}}function Be(e){let t=e[4],l,o=Oe(e);return{c(){o.c(),l=te()},l(n){o.l(n),l=te()},m(n,s){o.m(n,s),Y(n,l,s)},p(n,s){s&16&&oe(t,t=n[4])?(o.d(1),o=Oe(n),o.c(),o.m(l.parentNode,l)):o.p(n,s)},d(n){n&&q(l),o.d(n)}}}function Ge(e){let t,l,o,n=e[6]?"Valeur":"Value",s,i,u,f="âœ–",_,v,O,g,B="Notes",b,S,E,G,C,h=e[6]?"Notes auto":"Auto notes",r,a,V,F=e[6]?"Tout supprimer":"Clear",d,p,M,y=ue([1,2,3,4,5,6,7,8,9]),N=[];for(let I=0;I<9;I+=1)N[I]=De(Ie(e,y,I));let k=ue([1,2,3,4,5,6,7,8,9]),c=[];for(let I=0;I<9;I+=1)c[I]=Be(Ve(e,k,I));return{c(){t=R("div"),l=R("div"),o=R("h3"),s=Z(n),i=T(),u=R("button"),u.textContent=f,_=T(),v=R("div");for(let I=0;I<9;I+=1)N[I].c();O=T(),g=R("h3"),g.textContent=B,b=T(),S=R("div");for(let I=0;I<9;I+=1)c[I].c();E=T(),G=R("div"),C=R("button"),r=Z(h),a=T(),V=R("button"),d=Z(F),this.h()},l(I){t=A(I,"DIV",{role:!0,class:!0,style:!0});var J=P(t);l=A(J,"DIV",{class:!0});var w=P(l);o=A(w,"H3",{class:!0});var ee=P(o);s=x(ee,n),i=D(ee),u=A(ee,"BUTTON",{"data-svelte-h":!0}),ae(u)!=="svelte-15i1wwz"&&(u.textContent=f),ee.forEach(q),_=D(w),v=A(w,"DIV",{class:!0});var Ee=P(v);for(let se=0;se<9;se+=1)N[se].l(Ee);Ee.forEach(q),O=D(w),g=A(w,"H3",{class:!0,"data-svelte-h":!0}),ae(g)!=="svelte-2havtt"&&(g.textContent=B),b=D(w),S=A(w,"DIV",{class:!0});var ke=P(S);for(let se=0;se<9;se+=1)c[se].l(ke);ke.forEach(q),E=D(w),G=A(w,"DIV",{class:!0});var _e=P(G);C=A(_e,"BUTTON",{});var Ue=P(C);r=x(Ue,h),Ue.forEach(q),a=D(_e),V=A(_e,"BUTTON",{});var qe=P(V);d=x(qe,F),qe.forEach(q),_e.forEach(q),w.forEach(q),J.forEach(q),this.h()},h(){H(o,"class","title-bar svelte-1v5q25"),H(v,"class","grid svelte-1v5q25"),H(g,"class","svelte-1v5q25"),H(S,"class","grid svelte-1v5q25"),H(G,"class","cell-buttons svelte-1v5q25"),H(l,"class","contents svelte-1v5q25"),H(t,"role","dialog"),H(t,"class","modal svelte-1v5q25"),me(t,"top",e[2]+"px"),me(t,"left",e[3]+"px")},m(I,J){Y(I,t,J),m(t,l),m(l,o),m(o,s),m(o,i),m(o,u),m(l,_),m(l,v);for(let w=0;w<9;w+=1)N[w]&&N[w].m(v,null);m(l,O),m(l,g),m(l,b),m(l,S);for(let w=0;w<9;w+=1)c[w]&&c[w].m(S,null);m(l,E),m(l,G),m(G,C),m(C,r),m(G,a),m(G,V),m(V,d),p||(M=[Q(u,"click",$e),Q(C,"click",function(){Je(e[1])&&e[1].apply(this,arguments)}),Q(V,"click",e[9]),Q(t,"mousedown",e[11])],p=!0)},p(I,J){if(e=I,J&64&&n!==(n=e[6]?"Valeur":"Value")&&pe(s,n),J&160){y=ue([1,2,3,4,5,6,7,8,9]);let w;for(w=0;w<9;w+=1){const ee=Ie(e,y,w);N[w]?N[w].p(ee,J):(N[w]=De(ee),N[w].c(),N[w].m(v,null))}for(;w<9;w+=1)N[w].d(1)}if(J&144){k=ue([1,2,3,4,5,6,7,8,9]);let w;for(w=0;w<9;w+=1){const ee=Ve(e,k,w);c[w]?c[w].p(ee,J):(c[w]=Be(ee),c[w].c(),c[w].m(S,null))}for(;w<9;w+=1)c[w].d(1)}J&64&&h!==(h=e[6]?"Notes auto":"Auto notes")&&pe(r,h),J&64&&F!==(F=e[6]?"Tout supprimer":"Clear")&&pe(d,F),J&4&&me(t,"top",e[2]+"px"),J&8&&me(t,"left",e[3]+"px")},d(I){I&&q(t),Ce(N,I),Ce(c,I),p=!1,He(M)}}}function ut(e){let t,l,o,n=e[0]&&Te(e);return{c(){n&&n.c(),t=te()},l(s){n&&n.l(s),t=te()},m(s,i){n&&n.m(s,i),Y(s,t,i),l||(o=[Q(window,"keydown",e[8]),Q(window,"keyup",e[10]),Q(window,"mouseup",e[13]),Q(window,"mousemove",e[12])],l=!0)},p(s,[i]){s[0]?n?n.p(s,i):(n=Te(s),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},i:re,o:re,d(s){s&&q(t),n&&n.d(s),l=!1,He(o)}}}function ft(e,t,l){let o;Pe(e,Qe,p=>l(21,o=p));let{isOpen:n}=t,{onSelectionUpdated:s}=t,{onComputeCellNotes:i}=t,{initialState:u}=t,{cellBoundingRect:f}=t;const _=p=>{const M=document.body.getBoundingClientRect(),y=300,N=600;let k=p.top;k+N>M.height&&(k=M.height-N);let c=p.right;return c>M.width/2&&(c=p.left-y-p.width),{top:k,left:Math.max(0,c)}};let{top:v,left:O}=_(f);u.notes.length>0;let g=new Array(9).fill(!1).map((p,M)=>u.notes.includes(M+1)),B=u.value;const b=(p,M)=>{if(M==="notes"){l(4,g[p-1]=!g[p-1],g),l(4,g),l(5,B=void 0),s({notes:g.map((y,N)=>N+1).filter(y=>g[y-1])});return}if(B===p){s({clear:!0}),l(5,B=void 0),l(4,g=[]);return}l(5,B=p),l(4,g=[]),s({value:B}),$e()},S=p=>{const M="!@#$%^&*(",y=p.getModifierState("Shift");let N;if(N=p.key,N==="Backspace"){E();return}M.includes(N)&&(N=M.indexOf(N)+1),!isNaN(Number(N))&&b(Number(N),y?"notes":"value")},E=()=>{s({clear:!0}),l(4,g=new Array(9).fill(!1).map((p,M)=>!1)),l(5,B=void 0)},G=p=>{};let C=!1;function h(){C=!0}function r(p){C&&(l(3,O+=p.movementX),l(2,v+=p.movementY))}function a(){C=!1}let V=!1;ze(()=>{l(6,V=o.url.searchParams.has("fr"))});const F=p=>b(p,"value"),d=p=>b(p,"notes");return e.$$set=p=>{"isOpen"in p&&l(0,n=p.isOpen),"onSelectionUpdated"in p&&l(14,s=p.onSelectionUpdated),"onComputeCellNotes"in p&&l(1,i=p.onComputeCellNotes),"initialState"in p&&l(15,u=p.initialState),"cellBoundingRect"in p&&l(16,f=p.cellBoundingRect)},[n,i,v,O,g,B,V,b,S,E,G,h,r,a,s,u,f,F,d]}class ct extends he{constructor(t){super(),de(this,t,ft,ut,oe,{isOpen:0,onSelectionUpdated:14,onComputeCellNotes:1,initialState:15,cellBoundingRect:16})}}const ht=Ze();function Re(e,t,l){const o=e.slice();return o[16]=t[l],o}function dt(e){let t,l,o,n,s=ue([1,2,3,4,5,6,7,8,9]),i=[];for(let u=0;u<9;u+=1)i[u]=ye(Re(e,s,u));return{c(){t=R("button");for(let u=0;u<9;u+=1)i[u].c();this.h()},l(u){t=A(u,"BUTTON",{class:!0});var f=P(t);for(let _=0;_<9;_+=1)i[_].l(f);f.forEach(q),this.h()},h(){H(t,"class",l=ve("cell notes "+e[2]+" "+e[7])+" svelte-12ewoli")},m(u,f){Y(u,t,f);for(let _=0;_<9;_+=1)i[_]&&i[_].m(t,null);e[12](t),o||(n=Q(t,"click",e[4]),o=!0)},p(u,f){if(f&105){s=ue([1,2,3,4,5,6,7,8,9]);let _;for(_=0;_<9;_+=1){const v=Re(u,s,_);i[_]?i[_].p(v,f):(i[_]=ye(v),i[_].c(),i[_].m(t,null))}for(;_<9;_+=1)i[_].d(1)}f&4&&l!==(l=ve("cell notes "+u[2]+" "+u[7])+" svelte-12ewoli")&&H(t,"class",l)},d(u){u&&q(t),Ce(i,u),e[12](null),o=!1,n()}}}function _t(e){let t,l=e[0].value+"",o,n,s,i,u;return{c(){t=R("button"),o=Z(l),this.h()},l(f){t=A(f,"BUTTON",{class:!0});var _=P(t);o=x(_,l),_.forEach(q),this.h()},h(){H(t,"class",n=ve("cell value "+(e[2]==="auto-hint"?e[2]:"")+" "+e[7])+" svelte-12ewoli"),t.disabled=s=e[0].fixed,z(t,"fixed",e[0].fixed),z(t,"highlight",e[3]!==void 0&&e[3]===e[0].value)},m(f,_){Y(f,t,_),m(t,o),e[11](t),i||(u=Q(t,"click",e[4]),i=!0)},p(f,_){_&1&&l!==(l=f[0].value+"")&&pe(o,l),_&4&&n!==(n=ve("cell value "+(f[2]==="auto-hint"?f[2]:"")+" "+f[7])+" svelte-12ewoli")&&H(t,"class",n),_&1&&s!==(s=f[0].fixed)&&(t.disabled=s),_&5&&z(t,"fixed",f[0].fixed),_&13&&z(t,"highlight",f[3]!==void 0&&f[3]===f[0].value)},d(f){f&&q(t),e[11](null),i=!1,u()}}}function Ae(e){let t;return{c(){t=Z(e[16])},l(l){t=x(l,e[16])},m(l,o){Y(l,t,o)},d(l){l&&q(t)}}}function ye(e){let t,l=e[0].notes.includes(e[16]),o,n=l&&Ae(e);return{c(){t=R("div"),n&&n.c(),o=T(),this.h()},l(s){t=A(s,"DIV",{class:!0});var i=P(t);n&&n.l(i),o=D(i),i.forEach(q),this.h()},h(){H(t,"class","note svelte-12ewoli"),z(t,"hinted-note",e[5].includes(e[16])),z(t,"hinted-remove-note",e[6].includes(e[16])),z(t,"highlight",e[3]!==void 0&&e[3]===e[16])},m(s,i){Y(s,t,i),n&&n.m(t,null),m(t,o)},p(s,i){i&1&&(l=s[0].notes.includes(s[16])),l?n||(n=Ae(s),n.c(),n.m(t,o)):n&&(n.d(1),n=null),i&8&&z(t,"highlight",s[3]!==void 0&&s[3]===s[16])},d(s){s&&q(t),n&&n.d()}}}function mt(e){let t;function l(s,i){return s[0].value?_t:dt}let o=l(e),n=o(e);return{c(){n.c(),t=te()},l(s){n.l(s),t=te()},m(s,i){n.m(s,i),Y(s,t,i)},p(s,[i]){o===(o=l(s))&&n?n.p(s,i):(n.d(1),n=o(s),n&&(n.c(),n.m(t.parentNode,t)))},i:re,o:re,d(s){s&&q(t),n.d(s)}}}function pt(e,t,l){let o;Pe(e,ht,h=>l(3,o=h));let{cell:n}=t,{position:s}=t,{gridErrors:i}=t,{hints:u=[]}=t;const f=Me(),_=Me();let v;const O=()=>{Ye(ct,{initialState:n,onSelectionUpdated:a=>{f("cellUpdate",{cell:n,update:a})},onComputeCellNotes:()=>{_("computeCellNotes",{position:s})},cellBoundingRect:v.getBoundingClientRect()})};let g="";const B=[],b=[];for(const h of u){for(const r of h.cause)r.row===s.row&&r.col===s.col&&(h.type==="naked_pair"?g="naked-pair-hint":h.type==="last_auto_hint"?g="auto-hint":g="lone-hint",B.push(...r.notes));for(const r of h.effect)r.row===s.row&&r.col===s.col&&b.push(...r.notes)}const S=[];for(const h of i){const r=3*Math.floor(s.row/3)+Math.floor(s.col/3),a=3*Math.floor(h.row/3)+Math.floor(h.col/3);if(h.col===s.col&&h.row===s.row||h.type==="column"&&h.col===s.col&&h.value===n.value||h.type==="row"&&h.row===s.row&&h.value===n.value||h.type==="square"&&r===a&&h.value===n.value){S.push("is-error-cell");continue}h.type==="column"&&h.col===s.col&&S.push("is-error-col"),h.type==="row"&&h.row===s.row&&S.push("is-error-row"),h.type==="square"&&r===a&&S.push("is-error-square")}let E=S.join(" ");function G(h){Se[h?"unshift":"push"](()=>{v=h,l(1,v)})}function C(h){Se[h?"unshift":"push"](()=>{v=h,l(1,v)})}return e.$$set=h=>{"cell"in h&&l(0,n=h.cell),"position"in h&&l(8,s=h.position),"gridErrors"in h&&l(9,i=h.gridErrors),"hints"in h&&l(10,u=h.hints)},[n,v,g,o,O,B,b,E,s,i,u,G,C]}class le extends he{constructor(t){super(),de(this,t,pt,mt,oe,{cell:0,position:8,gridErrors:9,hints:10})}}function vt(e){let t,l,o,n,s,i,u,f,_,v,O,g,B,b,S,E,G,C,h;return l=new le({props:{cell:e[6][0],hints:e[1],gridErrors:e[0],position:{row:e[4],col:e[5]}}}),l.$on("cellUpdate",e[9]),l.$on("computeCellNotes",e[10]),n=new le({props:{cell:e[6][1],hints:e[1],gridErrors:e[0],position:{row:e[4],col:e[5]+1}}}),n.$on("cellUpdate",e[11]),n.$on("computeCellNotes",e[12]),i=new le({props:{cell:e[6][2],hints:e[1],gridErrors:e[0],position:{row:e[4],col:e[5]+2}}}),i.$on("cellUpdate",e[13]),i.$on("computeCellNotes",e[14]),f=new le({props:{cell:e[6][3],hints:e[1],gridErrors:e[0],position:{row:e[4]+1,col:e[5]}}}),f.$on("cellUpdate",e[15]),f.$on("computeCellNotes",e[16]),v=new le({props:{cell:e[6][4],hints:e[1],gridErrors:e[0],position:{row:e[4]+1,col:e[5]+1}}}),v.$on("cellUpdate",e[17]),v.$on("computeCellNotes",e[18]),g=new le({props:{cell:e[6][5],hints:e[1],gridErrors:e[0],position:{row:e[4]+1,col:e[5]+2}}}),g.$on("cellUpdate",e[19]),g.$on("computeCellNotes",e[20]),b=new le({props:{cell:e[6][6],hints:e[1],gridErrors:e[0],position:{row:e[4]+2,col:e[5]}}}),b.$on("cellUpdate",e[21]),b.$on("computeCellNotes",e[22]),E=new le({props:{cell:e[6][7],hints:e[1],gridErrors:e[0],position:{row:e[4]+2,col:e[5]+1}}}),E.$on("cellUpdate",e[23]),E.$on("computeCellNotes",e[24]),C=new le({props:{cell:e[6][8],hints:e[1],gridErrors:e[0],position:{row:e[4]+2,col:e[5]+2}}}),C.$on("cellUpdate",e[25]),C.$on("computeCellNotes",e[26]),{c(){t=R("div"),$(l.$$.fragment),o=T(),$(n.$$.fragment),s=T(),$(i.$$.fragment),u=T(),$(f.$$.fragment),_=T(),$(v.$$.fragment),O=T(),$(g.$$.fragment),B=T(),$(b.$$.fragment),S=T(),$(E.$$.fragment),G=T(),$(C.$$.fragment),this.h()},l(r){t=A(r,"DIV",{class:!0});var a=P(t);j(l.$$.fragment,a),o=D(a),j(n.$$.fragment,a),s=D(a),j(i.$$.fragment,a),u=D(a),j(f.$$.fragment,a),_=D(a),j(v.$$.fragment,a),O=D(a),j(g.$$.fragment,a),B=D(a),j(b.$$.fragment,a),S=D(a),j(E.$$.fragment,a),G=D(a),j(C.$$.fragment,a),a.forEach(q),this.h()},h(){H(t,"class","cell-grid svelte-1nq1cl9"),z(t,"borderLeftRight",e[2]),z(t,"borderTopBottom",e[3])},m(r,a){Y(r,t,a),L(l,t,null),m(t,o),L(n,t,null),m(t,s),L(i,t,null),m(t,u),L(f,t,null),m(t,_),L(v,t,null),m(t,O),L(g,t,null),m(t,B),L(b,t,null),m(t,S),L(E,t,null),m(t,G),L(C,t,null),h=!0},p(r,[a]){const V={};a&2&&(V.hints=r[1]),a&1&&(V.gridErrors=r[0]),l.$set(V);const F={};a&2&&(F.hints=r[1]),a&1&&(F.gridErrors=r[0]),n.$set(F);const d={};a&2&&(d.hints=r[1]),a&1&&(d.gridErrors=r[0]),i.$set(d);const p={};a&2&&(p.hints=r[1]),a&1&&(p.gridErrors=r[0]),f.$set(p);const M={};a&2&&(M.hints=r[1]),a&1&&(M.gridErrors=r[0]),v.$set(M);const y={};a&2&&(y.hints=r[1]),a&1&&(y.gridErrors=r[0]),g.$set(y);const N={};a&2&&(N.hints=r[1]),a&1&&(N.gridErrors=r[0]),b.$set(N);const k={};a&2&&(k.hints=r[1]),a&1&&(k.gridErrors=r[0]),E.$set(k);const c={};a&2&&(c.hints=r[1]),a&1&&(c.gridErrors=r[0]),C.$set(c)},i(r){h||(X(l.$$.fragment,r),X(n.$$.fragment,r),X(i.$$.fragment,r),X(f.$$.fragment,r),X(v.$$.fragment,r),X(g.$$.fragment,r),X(b.$$.fragment,r),X(E.$$.fragment,r),X(C.$$.fragment,r),h=!0)},o(r){K(l.$$.fragment,r),K(n.$$.fragment,r),K(i.$$.fragment,r),K(f.$$.fragment,r),K(v.$$.fragment,r),K(g.$$.fragment,r),K(b.$$.fragment,r),K(E.$$.fragment,r),K(C.$$.fragment,r),h=!1},d(r){r&&q(t),W(l),W(n),W(i),W(f),W(v),W(g),W(b),W(E),W(C)}}}function gt(e,t,l){let{position:o}=t,{grid:n}=t,{gridErrors:s}=t,{hints:i=[]}=t;const u=[1,4,7].includes(o),f=[3,4,5].includes(o),_=3*Math.floor(o/3),v=3*(o%3),O=xe(o,n);function g(c){U.call(this,e,c)}function B(c){U.call(this,e,c)}function b(c){U.call(this,e,c)}function S(c){U.call(this,e,c)}function E(c){U.call(this,e,c)}function G(c){U.call(this,e,c)}function C(c){U.call(this,e,c)}function h(c){U.call(this,e,c)}function r(c){U.call(this,e,c)}function a(c){U.call(this,e,c)}function V(c){U.call(this,e,c)}function F(c){U.call(this,e,c)}function d(c){U.call(this,e,c)}function p(c){U.call(this,e,c)}function M(c){U.call(this,e,c)}function y(c){U.call(this,e,c)}function N(c){U.call(this,e,c)}function k(c){U.call(this,e,c)}return e.$$set=c=>{"position"in c&&l(7,o=c.position),"grid"in c&&l(8,n=c.grid),"gridErrors"in c&&l(0,s=c.gridErrors),"hints"in c&&l(1,i=c.hints)},[s,i,u,f,_,v,O,o,n,g,B,b,S,E,G,C,h,r,a,V,F,d,p,M,y,N,k]}class ne extends he{constructor(t){super(),de(this,t,gt,vt,oe,{position:7,grid:8,gridErrors:0,hints:1})}}function wt(e){let t,l,o,n,s,i,u,f,_,v,O,g,B,b,S,E,G,C,h;return l=new ne({props:{position:0,hints:e[2],gridErrors:e[1],grid:e[0]}}),l.$on("cellUpdate",e[3]),l.$on("computeCellNotes",e[4]),n=new ne({props:{position:1,hints:e[2],gridErrors:e[1],grid:e[0]}}),n.$on("cellUpdate",e[5]),n.$on("computeCellNotes",e[6]),i=new ne({props:{position:2,hints:e[2],gridErrors:e[1],grid:e[0]}}),i.$on("cellUpdate",e[7]),i.$on("computeCellNotes",e[8]),f=new ne({props:{position:3,hints:e[2],gridErrors:e[1],grid:e[0]}}),f.$on("cellUpdate",e[9]),f.$on("computeCellNotes",e[10]),v=new ne({props:{position:4,hints:e[2],gridErrors:e[1],grid:e[0]}}),v.$on("cellUpdate",e[11]),v.$on("computeCellNotes",e[12]),g=new ne({props:{position:5,hints:e[2],gridErrors:e[1],grid:e[0]}}),g.$on("cellUpdate",e[13]),g.$on("computeCellNotes",e[14]),b=new ne({props:{position:6,hints:e[2],gridErrors:e[1],grid:e[0]}}),b.$on("cellUpdate",e[15]),b.$on("computeCellNotes",e[16]),E=new ne({props:{position:7,hints:e[2],gridErrors:e[1],grid:e[0]}}),E.$on("cellUpdate",e[17]),E.$on("computeCellNotes",e[18]),C=new ne({props:{position:8,hints:e[2],gridErrors:e[1],grid:e[0]}}),C.$on("cellUpdate",e[19]),C.$on("computeCellNotes",e[20]),{c(){t=R("div"),$(l.$$.fragment),o=T(),$(n.$$.fragment),s=T(),$(i.$$.fragment),u=T(),$(f.$$.fragment),_=T(),$(v.$$.fragment),O=T(),$(g.$$.fragment),B=T(),$(b.$$.fragment),S=T(),$(E.$$.fragment),G=T(),$(C.$$.fragment),this.h()},l(r){t=A(r,"DIV",{class:!0});var a=P(t);j(l.$$.fragment,a),o=D(a),j(n.$$.fragment,a),s=D(a),j(i.$$.fragment,a),u=D(a),j(f.$$.fragment,a),_=D(a),j(v.$$.fragment,a),O=D(a),j(g.$$.fragment,a),B=D(a),j(b.$$.fragment,a),S=D(a),j(E.$$.fragment,a),G=D(a),j(C.$$.fragment,a),a.forEach(q),this.h()},h(){H(t,"class","main-grid svelte-vli9ua")},m(r,a){Y(r,t,a),L(l,t,null),m(t,o),L(n,t,null),m(t,s),L(i,t,null),m(t,u),L(f,t,null),m(t,_),L(v,t,null),m(t,O),L(g,t,null),m(t,B),L(b,t,null),m(t,S),L(E,t,null),m(t,G),L(C,t,null),h=!0},p(r,[a]){const V={};a&4&&(V.hints=r[2]),a&2&&(V.gridErrors=r[1]),a&1&&(V.grid=r[0]),l.$set(V);const F={};a&4&&(F.hints=r[2]),a&2&&(F.gridErrors=r[1]),a&1&&(F.grid=r[0]),n.$set(F);const d={};a&4&&(d.hints=r[2]),a&2&&(d.gridErrors=r[1]),a&1&&(d.grid=r[0]),i.$set(d);const p={};a&4&&(p.hints=r[2]),a&2&&(p.gridErrors=r[1]),a&1&&(p.grid=r[0]),f.$set(p);const M={};a&4&&(M.hints=r[2]),a&2&&(M.gridErrors=r[1]),a&1&&(M.grid=r[0]),v.$set(M);const y={};a&4&&(y.hints=r[2]),a&2&&(y.gridErrors=r[1]),a&1&&(y.grid=r[0]),g.$set(y);const N={};a&4&&(N.hints=r[2]),a&2&&(N.gridErrors=r[1]),a&1&&(N.grid=r[0]),b.$set(N);const k={};a&4&&(k.hints=r[2]),a&2&&(k.gridErrors=r[1]),a&1&&(k.grid=r[0]),E.$set(k);const c={};a&4&&(c.hints=r[2]),a&2&&(c.gridErrors=r[1]),a&1&&(c.grid=r[0]),C.$set(c)},i(r){h||(X(l.$$.fragment,r),X(n.$$.fragment,r),X(i.$$.fragment,r),X(f.$$.fragment,r),X(v.$$.fragment,r),X(g.$$.fragment,r),X(b.$$.fragment,r),X(E.$$.fragment,r),X(C.$$.fragment,r),h=!0)},o(r){K(l.$$.fragment,r),K(n.$$.fragment,r),K(i.$$.fragment,r),K(f.$$.fragment,r),K(v.$$.fragment,r),K(g.$$.fragment,r),K(b.$$.fragment,r),K(E.$$.fragment,r),K(C.$$.fragment,r),h=!1},d(r){r&&q(t),W(l),W(n),W(i),W(f),W(v),W(g),W(b),W(E),W(C)}}}function Ct(e,t,l){let{grid:o}=t,{gridErrors:n}=t,{hints:s=[]}=t;function i(d){U.call(this,e,d)}function u(d){U.call(this,e,d)}function f(d){U.call(this,e,d)}function _(d){U.call(this,e,d)}function v(d){U.call(this,e,d)}function O(d){U.call(this,e,d)}function g(d){U.call(this,e,d)}function B(d){U.call(this,e,d)}function b(d){U.call(this,e,d)}function S(d){U.call(this,e,d)}function E(d){U.call(this,e,d)}function G(d){U.call(this,e,d)}function C(d){U.call(this,e,d)}function h(d){U.call(this,e,d)}function r(d){U.call(this,e,d)}function a(d){U.call(this,e,d)}function V(d){U.call(this,e,d)}function F(d){U.call(this,e,d)}return e.$$set=d=>{"grid"in d&&l(0,o=d.grid),"gridErrors"in d&&l(1,n=d.gridErrors),"hints"in d&&l(2,s=d.hints)},[o,n,s,i,u,f,_,v,O,g,B,b,S,E,G,C,h,r,a,V,F]}class Gt extends he{constructor(t){super(),de(this,t,Ct,wt,oe,{grid:0,gridErrors:1,hints:2})}}function Fe(e){let t,l,o="grid has errors",n,s,i="grid is filled",u,f,_="grid is valid",v,O,g="grid has solutions",B,b,S=e[1]?"Has errors":"No errors",E,G,C,h=e[2]?"Is filled":"Not filled",r,a,V,F=e[3]?"Is valid":"Not valid",d,p,M,y;return{c(){t=R("div"),l=R("div"),l.textContent=o,n=T(),s=R("div"),s.textContent=i,u=T(),f=R("div"),f.textContent=_,v=T(),O=R("div"),O.textContent=g,B=T(),b=R("div"),E=Z(S),G=T(),C=R("div"),r=Z(h),a=T(),V=R("div"),d=Z(F),p=T(),M=R("div"),y=Z(e[4]),this.h()},l(N){t=A(N,"DIV",{class:!0});var k=P(t);l=A(k,"DIV",{"data-svelte-h":!0}),ae(l)!=="svelte-1hlqbal"&&(l.textContent=o),n=D(k),s=A(k,"DIV",{"data-svelte-h":!0}),ae(s)!=="svelte-ekf37s"&&(s.textContent=i),u=D(k),f=A(k,"DIV",{"data-svelte-h":!0}),ae(f)!=="svelte-16e0vl8"&&(f.textContent=_),v=D(k),O=A(k,"DIV",{"data-svelte-h":!0}),ae(O)!=="svelte-1tjrozg"&&(O.textContent=g),B=D(k),b=A(k,"DIV",{class:!0});var c=P(b);E=x(c,S),c.forEach(q),G=D(k),C=A(k,"DIV",{class:!0});var I=P(C);r=x(I,h),I.forEach(q),a=D(k),V=A(k,"DIV",{class:!0});var J=P(V);d=x(J,F),J.forEach(q),p=D(k),M=A(k,"DIV",{class:!0});var w=P(M);y=x(w,e[4]),w.forEach(q),k.forEach(q),this.h()},h(){H(b,"class","status svelte-1csoeu4"),z(b,"red",e[1]),H(C,"class","status svelte-1csoeu4"),z(C,"red",!e[2]),H(V,"class","status svelte-1csoeu4"),z(V,"red",!e[3]),H(M,"class","status svelte-1csoeu4"),z(M,"red",e[4]!=="unique"),H(t,"class","grid-status svelte-1csoeu4")},m(N,k){Y(N,t,k),m(t,l),m(t,n),m(t,s),m(t,u),m(t,f),m(t,v),m(t,O),m(t,B),m(t,b),m(b,E),m(t,G),m(t,C),m(C,r),m(t,a),m(t,V),m(V,d),m(t,p),m(t,M),m(M,y)},p:re,d(N){N&&q(t)}}}function bt(e){let t=e[0],l,o=Fe(e);return{c(){o.c(),l=te()},l(n){o.l(n),l=te()},m(n,s){o.m(n,s),Y(n,l,s)},p(n,[s]){s&1&&oe(t,t=n[0])?(o.d(1),o=Fe(n),o.c(),o.m(l.parentNode,l)):o.p(n,s)},i:re,o:re,d(n){n&&q(l),o.d(n)}}}function Nt(e,t,l){let{grid:o}=t,n=ce(o),s=ie(o),i=Ne(o),u=st(o);return e.$$set=f=>{"grid"in f&&l(0,o=f.grid)},[o,n,s,i,u]}class Rt extends he{constructor(t){super(),de(this,t,Nt,bt,oe,{grid:0})}}export{Rt as G,Gt as S,Tt as a,It as b,ht as c,fe as d,nt as e,Bt as f,Vt as g,Ot as h,st as i,Dt as p,lt as r,ot as s,St as u};
