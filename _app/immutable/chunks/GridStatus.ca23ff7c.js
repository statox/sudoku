import{s as ee,e as W,i as K,y as J,G as le,d as E,C as Ve,f as O,l as Z,a as I,g as B,h as X,m as x,c as T,H as te,j as P,k as ae,I as p,n as Ie,J as Te,L as Ge,K as L,D as $e,M as ve,p as Ce,N as de,O as k}from"./scheduler.71239b2e.js";import{S as re,i as ie,b as $,d as A,m as j,a as H,t as F,e as z}from"./index.8ab45ecd.js";import{a as ue,b as De,d as Ae}from"./store.fe58922c.js";import{w as je}from"./index.7ccf2c6d.js";const He=(e,t)=>{if(e<0||e>8)throw new Error(`unexpected square position: ${e}`);const s=Math.floor(e/3),o=e%3,l=3*s,n=3*o;return[t[l][n],t[l][n+1],t[l][n+2],t[l+1][n],t[l+1][n+1],t[l+1][n+2],t[l+2][n],t[l+2][n+1],t[l+2][n+2]]};function Fe(e){return e.notes!==void 0}function ze(e){return e.clear===!0}const pt=(e,t)=>{if(e.fixed)throw new Error("Tried to update fixed cell");if(Fe(t)){e.value=void 0,e.notes=[...t.notes];return}if(ze(t)){e.notes=[],e.value=void 0;return}e.notes=[],e.value=t.value},oe=e=>JSON.parse(JSON.stringify(e)),fe=(e,t,s,o)=>{if(!o||e[t][s].value)return!1;const l=e[t][s].notes.indexOf(o);return l===-1?!1:(e[t][s].notes.splice(l,1),!0)},vt=e=>{for(let t=0;t<9;t++)for(let s=0;s<9;s++)e[t][s].notes=[]},Pe=(e,t)=>{const{row:s,col:o}=t;if(e[s][o].value){e[s][o].notes=[];return}e[s][o].notes=[1,2,3,4,5,6,7,8,9];const l=Math.floor(o/3),n=Math.floor(s/3);for(let i=0;i<9;i++){const u=e[i][o].value;fe(e,s,o,u);const c=e[s][i].value;fe(e,s,o,c);const _=Math.floor(i/3),m=i%3,M=e[3*n+_][3*l+m].value;fe(e,s,o,M)}return e[s][o].notes},Le=e=>{for(let t=0;t<9;t++)for(let s=0;s<9;s++)Pe(e,{row:t,col:s})},Ct=e=>{for(let t=0;t<9;t++)for(let s=0;s<9;s++)e[t][s].fixed||(e[t][s].value=void 0,e[t][s].notes=[])},Xe=(e,t,s)=>{const{col:o,row:l}=t;if(e[l][o].value!==void 0)return!1;const n=Math.floor(o/3),i=Math.floor(l/3);for(let u=0;u<9;u++){if(e[l][u].value===s||e[u][o].value===s)return!1;const c=Math.floor(u/3),_=u%3;if(e[3*i+c][3*n+_].value===s)return!1}return!0},wt=e=>{const t=[],s=new Array(27).fill(0);for(let o=0;o<9;o++)for(let l=0;l<9;l++){if(e[o][l].value===void 0)continue;const n=e[o][l].value,i=1<<n-1,u=s[o],c=s[9+l],_=s[18+Math.floor(o/3)*3+Math.floor(l/3)];u&i&&t.push({type:"row",col:l,row:o,value:n}),c&i&&t.push({type:"column",col:l,row:o,value:n}),_&i&&t.push({type:"square",col:l,row:o,value:n}),s[o]^=i,s[9+l]^=i,s[18+Math.floor(o/3)*3+Math.floor(l/3)]^=i}return t},ne=e=>{const t=new Array(27).fill(0);for(let s=0;s<9;s++)for(let o=0;o<9;o++){if(e[s][o].value===void 0)continue;const n=1<<e[s][o].value-1,i=t[s],u=t[9+o],c=t[18+Math.floor(s/3)*3+Math.floor(o/3)];if(i&n||u&n||c&n)return!0;t[s]^=n,t[9+o]^=n,t[18+Math.floor(s/3)*3+Math.floor(o/3)]^=n}return!1},se=e=>{for(let t=0;t<9;t++)for(let s=0;s<9;s++)if(!e[t][s].value)return!1;return!0},_e=e=>se(e)&&!ne(e);let he=0;const Oe=1e4,Ke=e=>{if(se(e))return _e(e)?"unique":"none";const t=oe(e);let s=0;for(let l=0;l<9;l++)for(let n=0;n<9;n++)e[l][n].value!==void 0&&s++;const o=[];return he=0,Be(t,o,s),he>=Oe?"unreachable":o.length===0?"none":o.length===1?"unique":"notUnique"},Be=(e,t,s)=>{if(!(he++>=Oe)){for(let o=0;o<9;o++)for(let l=0;l<9;l++)if(e[o][l].value===void 0){for(let n=1;n<=9;n++)if(Xe(e,{row:o,col:l},n)){if(e[o][l].value=n,Be(e,t,s+1)&&(s===80&&t.push(oe(e)),t.length>=2))return!0;e[o][l].value=void 0}return!1}return!0}},bt=(e,t)=>{if(ne(e)||se(e))return e;const s=oe(e);Le(s);const o=[s];for(;o.length;){const l=o.pop();if(t&&t.push(oe(l)),ne(l))continue;if(se(l)){if(_e(l))return l;continue}const n=Ye(l);if(!n.length)continue;const i=Math.floor(Math.random()*n.length),u=n[i],c=oe(l);c[u.row][u.col].notes=c[u.row][u.col].notes.filter(_=>_!==u.value),o.push(c),We(l,u),ye(l),o.push(l)}return s},ce=(e,t,s,o)=>{if(e[t][s].value)return!1;const l=e[t][s].notes.indexOf(o);return l===-1?!1:(e[t][s].notes.splice(l,1),e[t][s].notes.length===1?(e[t][s].value=e[t][s].notes.pop(),!0):!1)},ye=e=>{if(se(e)||ne(e))return;let t=!1;for(let s=0;s<9;s++)for(let o=0;o<9;o++){const{value:l}=e[s][o];if(!l)continue;for(let u=0;u<9;u++)t=t||ce(e,u,o,l),t=t||ce(e,s,u,l);const n=Math.floor(o/3),i=Math.floor(s/3);for(let u=0;u<3;u++)for(let c=0;c<3;c++)t=t||ce(e,3*i+u,3*n+c,l)}t&&ye(e)},Je=(e,t)=>{const{row:s,col:o,value:l}=t;return!(e[s][o].value||!e[s][o].notes.includes(l))},We=(e,t)=>{if(!Je(e,t))return;const{row:s,col:o,value:l}=t;e[s][o].value=l,e[s][o].notes=[]},Ye=e=>{let t=[],s=9;for(let o=0;o<9;o++)for(let l=0;l<9;l++){if(e[o][l].value!==void 0)continue;const{notes:n}=e[o][l];if(n.length<s&&(s=n.length,t=[]),n.length===s)for(const i of e[o][l].notes)t.push({row:o,col:l,value:i})}return t},kt=()=>{const e=[];for(let t=0;t<9;t++){e.push([]);for(let s=0;s<9;s++){const o={value:void 0,fixed:!1,notes:[1,2,3,4,5,6,7,8,9]};e[e.length-1].push(o)}}return e};function we(e,t,s){const o=e.slice();return o[21]=t[s],o}function be(e){let t=e[2],s,o=Re(e);return{c(){o.c(),s=W()},l(l){o.l(l),s=W()},m(l,n){o.m(l,n),K(l,s,n)},p(l,n){n&4&&ee(t,t=l[2])?(o.d(1),o=Re(l),o.c(),o.m(s.parentNode,s)):o.p(l,n)},d(l){l&&E(s),o.d(l)}}}function Qe(e){let t,s,o,l;function n(){return e[18](e[21])}return{c(){t=O("button"),s=Z(e[21]),this.h()},l(i){t=B(i,"BUTTON",{class:!0});var u=X(t);s=x(u,e[21]),u.forEach(E),this.h()},h(){P(t,"class","choice-btn svelte-1wa913h"),L(t,"selected",e[6]===e[21])},m(i,u){K(i,t,u),p(t,s),o||(l=J(t,"click",n),o=!0)},p(i,u){e=i,u&64&&L(t,"selected",e[6]===e[21])},d(i){i&&E(t),o=!1,l()}}}function Ze(e){let t=e[5],s,o=ke(e);return{c(){o.c(),s=W()},l(l){o.l(l),s=W()},m(l,n){o.m(l,n),K(l,s,n)},p(l,n){n&32&&ee(t,t=l[5])?(o.d(1),o=ke(l),o.c(),o.m(s.parentNode,s)):o.p(l,n)},d(l){l&&E(s),o.d(l)}}}function ke(e){let t,s,o,l;function n(){return e[17](e[21])}return{c(){t=O("button"),s=Z(e[21]),this.h()},l(i){t=B(i,"BUTTON",{class:!0});var u=X(t);s=x(u,e[21]),u.forEach(E),this.h()},h(){P(t,"class","choice-btn svelte-1wa913h"),L(t,"selected",e[5][e[21]-1])},m(i,u){K(i,t,u),p(t,s),o||(l=J(t,"click",n),o=!0)},p(i,u){e=i,u&32&&L(t,"selected",e[5][e[21]-1])},d(i){i&&E(t),o=!1,l()}}}function Ne(e){let t;function s(n,i){return n[4]?Ze:Qe}let o=s(e),l=o(e);return{c(){l.c(),t=W()},l(n){l.l(n),t=W()},m(n,i){l.m(n,i),K(n,t,i)},p(n,i){o===(o=s(n))&&l?l.p(n,i):(l.d(1),l=o(n),l&&(l.c(),l.m(t.parentNode,t)))},d(n){n&&E(t),l.d(n)}}}function Ee(e){let t,s="Auto notes",o,l;return{c(){t=O("button"),t.textContent=s},l(n){t=B(n,"BUTTON",{"data-svelte-h":!0}),te(t)!=="svelte-1y6181p"&&(t.textContent=s)},m(n,i){K(n,t,i),o||(l=J(t,"click",function(){Ge(e[1])&&e[1].apply(this,arguments)}),o=!0)},p(n,i){e=n},d(n){n&&E(t),o=!1,l()}}}function Re(e){let t,s,o,l=e[4]?"Notes":"Value",n,i,u,c="âœ–",_,m,M,g,R,v="Change mode",D,b,y,C=ue([1,2,3,4,5,6,7,8,9]),d=[];for(let a=0;a<9;a+=1)d[a]=Ne(we(e,C,a));let r=e[4]&&Ee(e);return{c(){t=O("div"),s=O("div"),o=O("h3"),n=Z(l),i=I(),u=O("button"),u.textContent=c,_=I(),m=O("div");for(let a=0;a<9;a+=1)d[a].c();M=I(),g=O("div"),R=O("button"),R.textContent=v,D=I(),r&&r.c(),this.h()},l(a){t=B(a,"DIV",{role:!0,class:!0,style:!0});var N=X(t);s=B(N,"DIV",{class:!0});var w=X(s);o=B(w,"H3",{class:!0});var f=X(o);n=x(f,l),i=T(f),u=B(f,"BUTTON",{"data-svelte-h":!0}),te(u)!=="svelte-15i1wwz"&&(u.textContent=c),f.forEach(E),_=T(w),m=B(w,"DIV",{class:!0});var V=X(m);for(let q=0;q<9;q+=1)d[q].l(V);V.forEach(E),M=T(w),g=B(w,"DIV",{});var S=X(g);R=B(S,"BUTTON",{"data-svelte-h":!0}),te(R)!=="svelte-1y20icv"&&(R.textContent=v),D=T(S),r&&r.l(S),S.forEach(E),w.forEach(E),N.forEach(E),this.h()},h(){P(o,"class","title-bar svelte-1wa913h"),P(m,"class","grid svelte-1wa913h"),P(s,"class","contents svelte-1wa913h"),P(t,"role","dialog"),P(t,"class","modal svelte-1wa913h"),ae(t,"top",e[2]+"px"),ae(t,"left",e[3]+"px")},m(a,N){K(a,t,N),p(t,s),p(s,o),p(o,n),p(o,i),p(o,u),p(s,_),p(s,m);for(let w=0;w<9;w+=1)d[w]&&d[w].m(m,null);p(s,M),p(s,g),p(g,R),p(g,D),r&&r.m(g,null),b||(y=[J(u,"click",De),J(R,"click",e[8]),J(t,"mousedown",e[11])],b=!0)},p(a,N){if(N&16&&l!==(l=a[4]?"Notes":"Value")&&Ie(n,l),N&240){C=ue([1,2,3,4,5,6,7,8,9]);let w;for(w=0;w<9;w+=1){const f=we(a,C,w);d[w]?d[w].p(f,N):(d[w]=Ne(f),d[w].c(),d[w].m(m,null))}for(;w<9;w+=1)d[w].d(1)}a[4]?r?r.p(a,N):(r=Ee(a),r.c(),r.m(g,null)):r&&(r.d(1),r=null),N&4&&ae(t,"top",a[2]+"px"),N&8&&ae(t,"left",a[3]+"px")},d(a){a&&E(t),Te(d,a),r&&r.d(),b=!1,Ve(y)}}}function xe(e){let t,s,o,l=e[0]&&be(e);return{c(){l&&l.c(),t=W()},l(n){l&&l.l(n),t=W()},m(n,i){l&&l.m(n,i),K(n,t,i),s||(o=[J(window,"keydown",e[9]),J(window,"keyup",e[10]),J(window,"mouseup",e[13]),J(window,"mousemove",e[12])],s=!0)},p(n,[i]){n[0]?l?l.p(n,i):(l=be(n),l.c(),l.m(t.parentNode,t)):l&&(l.d(1),l=null)},i:le,o:le,d(n){n&&E(t),l&&l.d(n),s=!1,Ve(o)}}}function et(e,t,s){let{isOpen:o}=t,{onSelectionUpdated:l}=t,{onComputeCellNotes:n}=t,{initialState:i}=t,{parentBoundingRect:u}=t;const c=f=>{const V=document.body.getBoundingClientRect(),S=300,q=300;let G=f.top-q/2,U=f.right;return U>V.width/2&&(U=f.left-S-f.width),{top:G,left:Math.max(0,U)}};let{top:_,left:m}=c(u),M=i.notes.length>0,g=new Array(9).fill(!1).map((f,V)=>i.notes.includes(V+1)),R=i.value;const v=(f,V)=>{if(V==="notes"){s(5,g[f-1]=!g[f-1],g),s(5,g),s(6,R=void 0),l({notes:g.map((S,q)=>q+1).filter(S=>g[S-1])});return}if(R===f){l({clear:!0}),s(6,R=void 0),s(5,g=[]);return}s(6,R=f),s(5,g=[]),l({value:R}),De()},D=()=>{s(4,M=!M)},b=f=>{const V="!@#$%^&*(",S=f.getModifierState("Shift");let q;if(q=f.key,q==="Backspace"){l({clear:!0});return}q==="Shift"&&s(4,M=!0),V.includes(q)&&(q=V.indexOf(q)+1),!isNaN(Number(q))&&v(Number(q),S?"notes":"value")},y=f=>{const{key:V}=f;V==="Shift"&&s(4,M=!1)};let C=!1;function d(){C=!0}function r(f){C&&(s(3,m+=f.movementX),s(2,_+=f.movementY))}function a(){C=!1}const N=f=>v(f,"notes"),w=f=>v(f,"value");return e.$$set=f=>{"isOpen"in f&&s(0,o=f.isOpen),"onSelectionUpdated"in f&&s(14,l=f.onSelectionUpdated),"onComputeCellNotes"in f&&s(1,n=f.onComputeCellNotes),"initialState"in f&&s(15,i=f.initialState),"parentBoundingRect"in f&&s(16,u=f.parentBoundingRect)},[o,n,_,m,M,g,R,v,D,b,y,d,r,a,l,i,u,N,w]}class tt extends re{constructor(t){super(),ie(this,t,et,xe,ee,{isOpen:0,onSelectionUpdated:14,onComputeCellNotes:1,initialState:15,parentBoundingRect:16})}}const lt=je();function Ue(e,t,s){const o=e.slice();return o[16]=t[s],o}function st(e){let t,s,o,l,n=ue([1,2,3,4,5,6,7,8,9]),i=[];for(let u=0;u<9;u+=1)i[u]=qe(Ue(e,n,u));return{c(){t=O("button");for(let u=0;u<9;u+=1)i[u].c();this.h()},l(u){t=B(u,"BUTTON",{class:!0});var c=X(t);for(let _=0;_<9;_+=1)i[_].l(c);c.forEach(E),this.h()},h(){P(t,"class",s=de("cell notes "+e[2]+" "+e[7])+" svelte-136izju")},m(u,c){K(u,t,c);for(let _=0;_<9;_+=1)i[_]&&i[_].m(t,null);e[12](t),o||(l=J(t,"click",e[4]),o=!0)},p(u,c){if(c&105){n=ue([1,2,3,4,5,6,7,8,9]);let _;for(_=0;_<9;_+=1){const m=Ue(u,n,_);i[_]?i[_].p(m,c):(i[_]=qe(m),i[_].c(),i[_].m(t,null))}for(;_<9;_+=1)i[_].d(1)}c&4&&s!==(s=de("cell notes "+u[2]+" "+u[7])+" svelte-136izju")&&P(t,"class",s)},d(u){u&&E(t),Te(i,u),e[12](null),o=!1,l()}}}function ot(e){let t,s=e[0].value+"",o,l,n,i;return{c(){t=O("button"),o=Z(s),this.h()},l(u){t=B(u,"BUTTON",{class:!0});var c=X(t);o=x(c,s),c.forEach(E),this.h()},h(){P(t,"class",de("cell value "+e[7])+" svelte-136izju"),t.disabled=l=e[0].fixed,L(t,"fixed",e[0].fixed),L(t,"highlight",e[3]!==void 0&&e[3]===e[0].value)},m(u,c){K(u,t,c),p(t,o),e[11](t),n||(i=J(t,"click",e[4]),n=!0)},p(u,c){c&1&&s!==(s=u[0].value+"")&&Ie(o,s),c&1&&l!==(l=u[0].fixed)&&(t.disabled=l),c&1&&L(t,"fixed",u[0].fixed),c&9&&L(t,"highlight",u[3]!==void 0&&u[3]===u[0].value)},d(u){u&&E(t),e[11](null),n=!1,i()}}}function Me(e){let t;return{c(){t=Z(e[16])},l(s){t=x(s,e[16])},m(s,o){K(s,t,o)},d(s){s&&E(t)}}}function qe(e){let t,s=e[0].notes.includes(e[16]),o,l=s&&Me(e);return{c(){t=O("div"),l&&l.c(),o=I(),this.h()},l(n){t=B(n,"DIV",{class:!0});var i=X(t);l&&l.l(i),o=T(i),i.forEach(E),this.h()},h(){P(t,"class","note svelte-136izju"),L(t,"hinted-note",e[5].includes(e[16])),L(t,"hinted-remove-note",e[6].includes(e[16])),L(t,"highlight",e[3]!==void 0&&e[3]===e[16])},m(n,i){K(n,t,i),l&&l.m(t,null),p(t,o)},p(n,i){i&1&&(s=n[0].notes.includes(n[16])),s?l||(l=Me(n),l.c(),l.m(t,o)):l&&(l.d(1),l=null),i&8&&L(t,"highlight",n[3]!==void 0&&n[3]===n[16])},d(n){n&&E(t),l&&l.d()}}}function nt(e){let t;function s(n,i){return n[0].value?ot:st}let o=s(e),l=o(e);return{c(){l.c(),t=W()},l(n){l.l(n),t=W()},m(n,i){l.m(n,i),K(n,t,i)},p(n,[i]){o===(o=s(n))&&l?l.p(n,i):(l.d(1),l=o(n),l&&(l.c(),l.m(t.parentNode,t)))},i:le,o:le,d(n){n&&E(t),l.d(n)}}}function rt(e,t,s){let o;$e(e,lt,d=>s(3,o=d));let{cell:l}=t,{position:n}=t,{gridErrors:i}=t,{strategiesResults:u=[]}=t;const c=ve(),_=ve();let m;const M=()=>{Ae(tt,{initialState:l,onSelectionUpdated:a=>{c("cellUpdate",{cell:l,update:a})},onComputeCellNotes:()=>{_("computeCellNotes",{position:n})},parentBoundingRect:m.getBoundingClientRect()})};let g="";const R=[],v=[];for(const d of u){for(const r of d.cause)r.row===n.row&&r.col===n.col&&(d.type==="naked_pair"?g="naked-pair-hint":g="lone-hint",R.push(...r.notes));for(const r of d.effect)r.row===n.row&&r.col===n.col&&v.push(...r.notes)}const D=[];for(const d of i){const r=3*Math.floor(n.row/3)+Math.floor(n.col/3),a=3*Math.floor(d.row/3)+Math.floor(d.col/3);if(d.col===n.col&&d.row===n.row||d.type==="column"&&d.col===n.col&&d.value===l.value||d.type==="row"&&d.row===n.row&&d.value===l.value||d.type==="square"&&r===a&&d.value===l.value){D.push("is-error-cell");continue}d.type==="column"&&d.col===n.col&&D.push("is-error-col"),d.type==="row"&&d.row===n.row&&D.push("is-error-row"),d.type==="square"&&r===a&&D.push("is-error-square")}let b=D.join(" ");function y(d){Ce[d?"unshift":"push"](()=>{m=d,s(1,m)})}function C(d){Ce[d?"unshift":"push"](()=>{m=d,s(1,m)})}return e.$$set=d=>{"cell"in d&&s(0,l=d.cell),"position"in d&&s(8,n=d.position),"gridErrors"in d&&s(9,i=d.gridErrors),"strategiesResults"in d&&s(10,u=d.strategiesResults)},[l,m,g,o,M,R,v,b,n,i,u,y,C]}class Y extends re{constructor(t){super(),ie(this,t,rt,nt,ee,{cell:0,position:8,gridErrors:9,strategiesResults:10})}}function it(e){let t,s,o,l,n,i,u,c,_,m,M,g,R,v,D,b,y,C,d;return s=new Y({props:{cell:e[6][0],strategiesResults:e[1],gridErrors:e[0],position:{row:e[4],col:e[5]}}}),s.$on("cellUpdate",e[9]),s.$on("computeCellNotes",e[10]),l=new Y({props:{cell:e[6][1],strategiesResults:e[1],gridErrors:e[0],position:{row:e[4],col:e[5]+1}}}),l.$on("cellUpdate",e[11]),l.$on("computeCellNotes",e[12]),i=new Y({props:{cell:e[6][2],strategiesResults:e[1],gridErrors:e[0],position:{row:e[4],col:e[5]+2}}}),i.$on("cellUpdate",e[13]),i.$on("computeCellNotes",e[14]),c=new Y({props:{cell:e[6][3],strategiesResults:e[1],gridErrors:e[0],position:{row:e[4]+1,col:e[5]}}}),c.$on("cellUpdate",e[15]),c.$on("computeCellNotes",e[16]),m=new Y({props:{cell:e[6][4],strategiesResults:e[1],gridErrors:e[0],position:{row:e[4]+1,col:e[5]+1}}}),m.$on("cellUpdate",e[17]),m.$on("computeCellNotes",e[18]),g=new Y({props:{cell:e[6][5],strategiesResults:e[1],gridErrors:e[0],position:{row:e[4]+1,col:e[5]+2}}}),g.$on("cellUpdate",e[19]),g.$on("computeCellNotes",e[20]),v=new Y({props:{cell:e[6][6],strategiesResults:e[1],gridErrors:e[0],position:{row:e[4]+2,col:e[5]}}}),v.$on("cellUpdate",e[21]),v.$on("computeCellNotes",e[22]),b=new Y({props:{cell:e[6][7],strategiesResults:e[1],gridErrors:e[0],position:{row:e[4]+2,col:e[5]+1}}}),b.$on("cellUpdate",e[23]),b.$on("computeCellNotes",e[24]),C=new Y({props:{cell:e[6][8],strategiesResults:e[1],gridErrors:e[0],position:{row:e[4]+2,col:e[5]+2}}}),C.$on("cellUpdate",e[25]),C.$on("computeCellNotes",e[26]),{c(){t=O("div"),$(s.$$.fragment),o=I(),$(l.$$.fragment),n=I(),$(i.$$.fragment),u=I(),$(c.$$.fragment),_=I(),$(m.$$.fragment),M=I(),$(g.$$.fragment),R=I(),$(v.$$.fragment),D=I(),$(b.$$.fragment),y=I(),$(C.$$.fragment),this.h()},l(r){t=B(r,"DIV",{class:!0});var a=X(t);A(s.$$.fragment,a),o=T(a),A(l.$$.fragment,a),n=T(a),A(i.$$.fragment,a),u=T(a),A(c.$$.fragment,a),_=T(a),A(m.$$.fragment,a),M=T(a),A(g.$$.fragment,a),R=T(a),A(v.$$.fragment,a),D=T(a),A(b.$$.fragment,a),y=T(a),A(C.$$.fragment,a),a.forEach(E),this.h()},h(){P(t,"class","cell-grid svelte-1nq1cl9"),L(t,"borderLeftRight",e[2]),L(t,"borderTopBottom",e[3])},m(r,a){K(r,t,a),j(s,t,null),p(t,o),j(l,t,null),p(t,n),j(i,t,null),p(t,u),j(c,t,null),p(t,_),j(m,t,null),p(t,M),j(g,t,null),p(t,R),j(v,t,null),p(t,D),j(b,t,null),p(t,y),j(C,t,null),d=!0},p(r,[a]){const N={};a&2&&(N.strategiesResults=r[1]),a&1&&(N.gridErrors=r[0]),s.$set(N);const w={};a&2&&(w.strategiesResults=r[1]),a&1&&(w.gridErrors=r[0]),l.$set(w);const f={};a&2&&(f.strategiesResults=r[1]),a&1&&(f.gridErrors=r[0]),i.$set(f);const V={};a&2&&(V.strategiesResults=r[1]),a&1&&(V.gridErrors=r[0]),c.$set(V);const S={};a&2&&(S.strategiesResults=r[1]),a&1&&(S.gridErrors=r[0]),m.$set(S);const q={};a&2&&(q.strategiesResults=r[1]),a&1&&(q.gridErrors=r[0]),g.$set(q);const G={};a&2&&(G.strategiesResults=r[1]),a&1&&(G.gridErrors=r[0]),v.$set(G);const U={};a&2&&(U.strategiesResults=r[1]),a&1&&(U.gridErrors=r[0]),b.$set(U);const h={};a&2&&(h.strategiesResults=r[1]),a&1&&(h.gridErrors=r[0]),C.$set(h)},i(r){d||(H(s.$$.fragment,r),H(l.$$.fragment,r),H(i.$$.fragment,r),H(c.$$.fragment,r),H(m.$$.fragment,r),H(g.$$.fragment,r),H(v.$$.fragment,r),H(b.$$.fragment,r),H(C.$$.fragment,r),d=!0)},o(r){F(s.$$.fragment,r),F(l.$$.fragment,r),F(i.$$.fragment,r),F(c.$$.fragment,r),F(m.$$.fragment,r),F(g.$$.fragment,r),F(v.$$.fragment,r),F(b.$$.fragment,r),F(C.$$.fragment,r),d=!1},d(r){r&&E(t),z(s),z(l),z(i),z(c),z(m),z(g),z(v),z(b),z(C)}}}function at(e,t,s){let{position:o}=t,{grid:l}=t,{gridErrors:n}=t,{strategiesResults:i=[]}=t;const u=[1,4,7].includes(o),c=[3,4,5].includes(o),_=3*Math.floor(o/3),m=3*(o%3),M=He(o,l);function g(h){k.call(this,e,h)}function R(h){k.call(this,e,h)}function v(h){k.call(this,e,h)}function D(h){k.call(this,e,h)}function b(h){k.call(this,e,h)}function y(h){k.call(this,e,h)}function C(h){k.call(this,e,h)}function d(h){k.call(this,e,h)}function r(h){k.call(this,e,h)}function a(h){k.call(this,e,h)}function N(h){k.call(this,e,h)}function w(h){k.call(this,e,h)}function f(h){k.call(this,e,h)}function V(h){k.call(this,e,h)}function S(h){k.call(this,e,h)}function q(h){k.call(this,e,h)}function G(h){k.call(this,e,h)}function U(h){k.call(this,e,h)}return e.$$set=h=>{"position"in h&&s(7,o=h.position),"grid"in h&&s(8,l=h.grid),"gridErrors"in h&&s(0,n=h.gridErrors),"strategiesResults"in h&&s(1,i=h.strategiesResults)},[n,i,u,c,_,m,M,o,l,g,R,v,D,b,y,C,d,r,a,N,w,f,V,S,q,G,U]}class Q extends re{constructor(t){super(),ie(this,t,at,it,ee,{position:7,grid:8,gridErrors:0,strategiesResults:1})}}function ut(e){let t,s,o,l,n,i,u,c,_,m,M,g,R,v,D,b,y,C,d;return s=new Q({props:{position:0,strategiesResults:e[2],gridErrors:e[1],grid:e[0]}}),s.$on("cellUpdate",e[3]),s.$on("computeCellNotes",e[4]),l=new Q({props:{position:1,strategiesResults:e[2],gridErrors:e[1],grid:e[0]}}),l.$on("cellUpdate",e[5]),l.$on("computeCellNotes",e[6]),i=new Q({props:{position:2,strategiesResults:e[2],gridErrors:e[1],grid:e[0]}}),i.$on("cellUpdate",e[7]),i.$on("computeCellNotes",e[8]),c=new Q({props:{position:3,strategiesResults:e[2],gridErrors:e[1],grid:e[0]}}),c.$on("cellUpdate",e[9]),c.$on("computeCellNotes",e[10]),m=new Q({props:{position:4,strategiesResults:e[2],gridErrors:e[1],grid:e[0]}}),m.$on("cellUpdate",e[11]),m.$on("computeCellNotes",e[12]),g=new Q({props:{position:5,strategiesResults:e[2],gridErrors:e[1],grid:e[0]}}),g.$on("cellUpdate",e[13]),g.$on("computeCellNotes",e[14]),v=new Q({props:{position:6,strategiesResults:e[2],gridErrors:e[1],grid:e[0]}}),v.$on("cellUpdate",e[15]),v.$on("computeCellNotes",e[16]),b=new Q({props:{position:7,strategiesResults:e[2],gridErrors:e[1],grid:e[0]}}),b.$on("cellUpdate",e[17]),b.$on("computeCellNotes",e[18]),C=new Q({props:{position:8,strategiesResults:e[2],gridErrors:e[1],grid:e[0]}}),C.$on("cellUpdate",e[19]),C.$on("computeCellNotes",e[20]),{c(){t=O("div"),$(s.$$.fragment),o=I(),$(l.$$.fragment),n=I(),$(i.$$.fragment),u=I(),$(c.$$.fragment),_=I(),$(m.$$.fragment),M=I(),$(g.$$.fragment),R=I(),$(v.$$.fragment),D=I(),$(b.$$.fragment),y=I(),$(C.$$.fragment),this.h()},l(r){t=B(r,"DIV",{class:!0});var a=X(t);A(s.$$.fragment,a),o=T(a),A(l.$$.fragment,a),n=T(a),A(i.$$.fragment,a),u=T(a),A(c.$$.fragment,a),_=T(a),A(m.$$.fragment,a),M=T(a),A(g.$$.fragment,a),R=T(a),A(v.$$.fragment,a),D=T(a),A(b.$$.fragment,a),y=T(a),A(C.$$.fragment,a),a.forEach(E),this.h()},h(){P(t,"class","main-grid svelte-vli9ua")},m(r,a){K(r,t,a),j(s,t,null),p(t,o),j(l,t,null),p(t,n),j(i,t,null),p(t,u),j(c,t,null),p(t,_),j(m,t,null),p(t,M),j(g,t,null),p(t,R),j(v,t,null),p(t,D),j(b,t,null),p(t,y),j(C,t,null),d=!0},p(r,[a]){const N={};a&4&&(N.strategiesResults=r[2]),a&2&&(N.gridErrors=r[1]),a&1&&(N.grid=r[0]),s.$set(N);const w={};a&4&&(w.strategiesResults=r[2]),a&2&&(w.gridErrors=r[1]),a&1&&(w.grid=r[0]),l.$set(w);const f={};a&4&&(f.strategiesResults=r[2]),a&2&&(f.gridErrors=r[1]),a&1&&(f.grid=r[0]),i.$set(f);const V={};a&4&&(V.strategiesResults=r[2]),a&2&&(V.gridErrors=r[1]),a&1&&(V.grid=r[0]),c.$set(V);const S={};a&4&&(S.strategiesResults=r[2]),a&2&&(S.gridErrors=r[1]),a&1&&(S.grid=r[0]),m.$set(S);const q={};a&4&&(q.strategiesResults=r[2]),a&2&&(q.gridErrors=r[1]),a&1&&(q.grid=r[0]),g.$set(q);const G={};a&4&&(G.strategiesResults=r[2]),a&2&&(G.gridErrors=r[1]),a&1&&(G.grid=r[0]),v.$set(G);const U={};a&4&&(U.strategiesResults=r[2]),a&2&&(U.gridErrors=r[1]),a&1&&(U.grid=r[0]),b.$set(U);const h={};a&4&&(h.strategiesResults=r[2]),a&2&&(h.gridErrors=r[1]),a&1&&(h.grid=r[0]),C.$set(h)},i(r){d||(H(s.$$.fragment,r),H(l.$$.fragment,r),H(i.$$.fragment,r),H(c.$$.fragment,r),H(m.$$.fragment,r),H(g.$$.fragment,r),H(v.$$.fragment,r),H(b.$$.fragment,r),H(C.$$.fragment,r),d=!0)},o(r){F(s.$$.fragment,r),F(l.$$.fragment,r),F(i.$$.fragment,r),F(c.$$.fragment,r),F(m.$$.fragment,r),F(g.$$.fragment,r),F(v.$$.fragment,r),F(b.$$.fragment,r),F(C.$$.fragment,r),d=!1},d(r){r&&E(t),z(s),z(l),z(i),z(c),z(m),z(g),z(v),z(b),z(C)}}}function ft(e,t,s){let{grid:o}=t,{gridErrors:l}=t,{strategiesResults:n=[]}=t;function i(f){k.call(this,e,f)}function u(f){k.call(this,e,f)}function c(f){k.call(this,e,f)}function _(f){k.call(this,e,f)}function m(f){k.call(this,e,f)}function M(f){k.call(this,e,f)}function g(f){k.call(this,e,f)}function R(f){k.call(this,e,f)}function v(f){k.call(this,e,f)}function D(f){k.call(this,e,f)}function b(f){k.call(this,e,f)}function y(f){k.call(this,e,f)}function C(f){k.call(this,e,f)}function d(f){k.call(this,e,f)}function r(f){k.call(this,e,f)}function a(f){k.call(this,e,f)}function N(f){k.call(this,e,f)}function w(f){k.call(this,e,f)}return e.$$set=f=>{"grid"in f&&s(0,o=f.grid),"gridErrors"in f&&s(1,l=f.gridErrors),"strategiesResults"in f&&s(2,n=f.strategiesResults)},[o,l,n,i,u,c,_,m,M,g,R,v,D,b,y,C,d,r,a,N,w]}class Nt extends re{constructor(t){super(),ie(this,t,ft,ut,ee,{grid:0,gridErrors:1,strategiesResults:2})}}function Se(e){let t,s,o="grid has errors",l,n,i="grid is filled",u,c,_="grid is valid",m,M,g="grid has solutions",R,v,D=e[1]?"Has errors":"No errors",b,y,C,d=e[2]?"Is filled":"Not filled",r,a,N,w=e[3]?"Is valid":"Not valid",f,V,S,q;return{c(){t=O("div"),s=O("div"),s.textContent=o,l=I(),n=O("div"),n.textContent=i,u=I(),c=O("div"),c.textContent=_,m=I(),M=O("div"),M.textContent=g,R=I(),v=O("div"),b=Z(D),y=I(),C=O("div"),r=Z(d),a=I(),N=O("div"),f=Z(w),V=I(),S=O("div"),q=Z(e[4]),this.h()},l(G){t=B(G,"DIV",{class:!0});var U=X(t);s=B(U,"DIV",{"data-svelte-h":!0}),te(s)!=="svelte-1hlqbal"&&(s.textContent=o),l=T(U),n=B(U,"DIV",{"data-svelte-h":!0}),te(n)!=="svelte-ekf37s"&&(n.textContent=i),u=T(U),c=B(U,"DIV",{"data-svelte-h":!0}),te(c)!=="svelte-16e0vl8"&&(c.textContent=_),m=T(U),M=B(U,"DIV",{"data-svelte-h":!0}),te(M)!=="svelte-1tjrozg"&&(M.textContent=g),R=T(U),v=B(U,"DIV",{class:!0});var h=X(v);b=x(h,D),h.forEach(E),y=T(U),C=B(U,"DIV",{class:!0});var me=X(C);r=x(me,d),me.forEach(E),a=T(U),N=B(U,"DIV",{class:!0});var ge=X(N);f=x(ge,w),ge.forEach(E),V=T(U),S=B(U,"DIV",{class:!0});var pe=X(S);q=x(pe,e[4]),pe.forEach(E),U.forEach(E),this.h()},h(){P(v,"class","status svelte-1csoeu4"),L(v,"red",e[1]),P(C,"class","status svelte-1csoeu4"),L(C,"red",!e[2]),P(N,"class","status svelte-1csoeu4"),L(N,"red",!e[3]),P(S,"class","status svelte-1csoeu4"),L(S,"red",e[4]!=="unique"),P(t,"class","grid-status svelte-1csoeu4")},m(G,U){K(G,t,U),p(t,s),p(t,l),p(t,n),p(t,u),p(t,c),p(t,m),p(t,M),p(t,R),p(t,v),p(v,b),p(t,y),p(t,C),p(C,r),p(t,a),p(t,N),p(N,f),p(t,V),p(t,S),p(S,q)},p:le,d(G){G&&E(t)}}}function ct(e){let t=e[0],s,o=Se(e);return{c(){o.c(),s=W()},l(l){o.l(l),s=W()},m(l,n){o.m(l,n),K(l,s,n)},p(l,[n]){n&1&&ee(t,t=l[0])?(o.d(1),o=Se(l),o.c(),o.m(s.parentNode,s)):o.p(l,n)},i:le,o:le,d(l){l&&E(s),o.d(l)}}}function dt(e,t,s){let{grid:o}=t,l=ne(o),n=se(o),i=_e(o),u=Ke(o);return e.$$set=c=>{"grid"in c&&s(0,o=c.grid)},[o,l,n,i,u]}class Et extends re{constructor(t){super(),ie(this,t,dt,ct,ee,{grid:0})}}export{Et as G,Nt as S,kt as a,wt as b,Ke as c,oe as d,Ct as e,vt as f,bt as g,Le as h,Xe as m,Pe as r,lt as s,pt as u};
