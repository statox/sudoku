import{s as ee,e as X,i as K,y as W,G as x,d as q,C as ye,f as T,l as Q,a as y,g as D,h as j,m as Z,c as E,H as te,j as F,k as re,I as b,n as Ee,J as Ie,L as Be,K as J,D as _e,M as me,p as ve,N as ge,O as k}from"./scheduler.71239b2e.js";import{S as ne,i as oe,b as B,d as H,m as G,a as P,t as z,e as A}from"./index.8ab45ecd.js";import{a as ae,b as Me,d as He}from"./store.fe58922c.js";import{w as Oe}from"./index.7ccf2c6d.js";const Ge=(e,t)=>{if(e<0||e>8)throw new Error(`unexpected square position: ${e}`);const n=Math.floor(e/3),o=e%3,l=3*n,s=3*o;return[t[l][s],t[l][s+1],t[l][s+2],t[l+1][s],t[l+1][s+1],t[l+1][s+2],t[l+2][s],t[l+2][s+1],t[l+2][s+2]]};function Pe(e){return e.notes!==void 0}function ze(e){return e.clear===!0}const gt=(e,t)=>{if(e.fixed)throw new Error("Tried to update fixed cell");if(Pe(t)){e.value=void 0,e.notes=[...t.notes];return}if(ze(t)){e.notes=[],e.value=void 0;return}e.notes=[],e.value=t.value},Te=e=>JSON.parse(JSON.stringify(e)),ue=(e,t,n,o)=>{if(!o||e[t][n].value)return!1;const l=e[t][n].notes.indexOf(o);return l===-1?!1:(e[t][n].notes.splice(l,1),!0)},wt=e=>{for(let t=0;t<9;t++)for(let n=0;n<9;n++)e[t][n].notes=[]},Ae=(e,t)=>{const{row:n,col:o}=t;if(e[n][o].value){e[n][o].notes=[];return}e[n][o].notes=[1,2,3,4,5,6,7,8,9];const l=Math.floor(o/3),s=Math.floor(n/3);for(let r=0;r<9;r++){const a=e[r][o].value;ue(e,n,o,a);const f=e[n][r].value;ue(e,n,o,f);const h=Math.floor(r/3),c=r%3,m=e[3*s+h][3*l+c].value;ue(e,n,o,m)}return e[n][o].notes},bt=e=>{for(let t=0;t<9;t++)for(let n=0;n<9;n++)Ae(e,{row:t,col:n})},Fe=(e,t,n)=>{const{col:o,row:l}=t;if(e[l][o].value!==void 0)return!1;const s=Math.floor(o/3),r=Math.floor(l/3);for(let a=0;a<9;a++){if(e[l][a].value===n||e[a][o].value===n)return!1;const f=Math.floor(a/3),h=a%3;if(e[3*r+f][3*s+h].value===n)return!1}return!0},ie=e=>{for(let c=0;c<9;c++){const m=new Set,_=new Set;for(let N=0;N<9;N++){const g=e[c][N].value;if(g){if(m.has(g))return!0;m.add(g)}const S=e[N][c].value;if(S){if(_.has(S))return!0;_.add(S)}}}const t=new Set,n=new Set,o=new Set,l=new Set,s=new Set,r=new Set,a=new Set,f=new Set,h=new Set;for(let c=0;c<3;c++)for(let m=0;m<3;m++){const _=e[c][m].value,N=e[c][3+m].value,g=e[c][6+m].value,S=e[3+c][m].value,p=e[3+c][3+m].value,V=e[3+c][6+m].value,C=e[6+c][m].value,U=e[6+c][3+m].value,i=e[6+c][6+m].value;if(_){if(t.has(_))return!0;t.add(_)}if(N){if(n.has(N))return!0;n.add(N)}if(g){if(o.has(g))return!0;o.add(g)}if(S){if(l.has(S))return!0;l.add(S)}if(p){if(s.has(p))return!0;s.add(p)}if(V){if(r.has(V))return!0;r.add(V)}if(C){if(a.has(C))return!0;a.add(C)}if(U){if(f.has(U))return!0;f.add(U)}if(i){if(h.has(i))return!0;h.add(i)}}return!1},se=e=>{for(let t=0;t<9;t++)for(let n=0;n<9;n++)if(!e[t][n].value)return!1;return!0},ce=e=>se(e)&&!ie(e),Je=e=>{if(se(e))return ce(e)?"unique":"none";const t=Te(e);let n=0;for(let l=0;l<9;l++)for(let s=0;s<9;s++)e[l][s].value!==void 0&&n++;const o=[];return De(t,o,n),o.length===0?"none":o.length===1?"unique":"notUnique"},De=(e,t,n)=>{for(let o=0;o<9;o++)for(let l=0;l<9;l++)if(e[o][l].value===void 0){for(let s=1;s<=9;s++)if(Fe(e,{row:o,col:l},s)){if(e[o][l].value=s,De(e,t,n+1)&&(n===80&&t.push(Te(e)),t.length>=2))return!0;e[o][l].value=void 0}return!1}return!0},je=()=>{const e=[];for(let t=0;t<9;t++){e.push([]);for(let n=0;n<9;n++){const o={value:void 0,fixed:!1,notes:[1,2,3,4,5,6,7,8,9]};e[e.length-1].push(o)}}return e},Ke=()=>{const e=je();let t=0;for(;!se(e)&&t<81;)t++,We(e);return ce(e)?e:Ke()},fe=(e,t,n,o)=>{if(e[t][n].value)return!1;const l=e[t][n].notes.indexOf(o);return l===-1?!1:(e[t][n].notes.splice(l,1),e[t][n].notes.length===1?(e[t][n].value=e[t][n].notes.pop(),!0):!1)},We=e=>{const t=JSON.stringify(e);try{if(Le(e),Re(e),ie(e))throw new Error("Step created error")}catch{const o=JSON.parse(t);for(let l=0;l<9;l++)for(let s=0;s<9;s++)e[l][s]={...o[l][s]}}},Re=e=>{if(se(e))return;if(ie(e))throw new Error("Cant collapse a grid with errors");let t=!1;for(let n=0;n<9;n++)for(let o=0;o<9;o++){const{value:l}=e[n][o];if(!l)continue;for(let a=0;a<9;a++)t=t||fe(e,a,o,l),t=t||fe(e,n,a,l);const s=Math.floor(o/3),r=Math.floor(n/3);for(let a=0;a<3;a++)for(let f=0;f<3;f++)t=t||fe(e,3*r+a,3*s+f,l)}t&&Re(e)},Xe=(e,t)=>{const{row:n,col:o,value:l}=t;if(e[n][o].value)throw new Error(`cant apply choice ${t} to cell ${n},${o}. Value already set`);if(!e[n][o].notes.includes(l))throw new Error(`cant apply choice ${t} to cell ${n},${o}. New value not in notes`);e[n][o].value=l,e[n][o].notes=[]},Le=e=>{let t=[],n=9;for(let f=0;f<9;f++)for(let h=0;h<9;h++){const{value:c}=e[f][h];if(!c){const m=e[f][h].notes.length;m<n&&(n=m),t.push({row:f,col:h,nbNotes:m})}}if(!t.length)throw new Error("No open position that should not happen");t=t.filter(f=>f.nbNotes===n);const o=Math.floor(Math.random()*t.length),{row:l,col:s}=t[o],r=Math.floor(Math.random()*e[l][s].notes.length),a=e[l][s].notes[r];Xe(e,{row:l,col:s,value:a})};function we(e,t,n){const o=e.slice();return o[21]=t[n],o}function be(e){let t=e[2],n,o=Ue(e);return{c(){o.c(),n=X()},l(l){o.l(l),n=X()},m(l,s){o.m(l,s),K(l,n,s)},p(l,s){s&4&&ee(t,t=l[2])?(o.d(1),o=Ue(l),o.c(),o.m(n.parentNode,n)):o.p(l,s)},d(l){l&&q(n),o.d(l)}}}function Ye(e){let t,n,o,l;function s(){return e[18](e[21])}return{c(){t=T("button"),n=Q(e[21]),this.h()},l(r){t=D(r,"BUTTON",{class:!0});var a=j(t);n=Z(a,e[21]),a.forEach(q),this.h()},h(){F(t,"class","choice-btn svelte-1wa913h"),J(t,"selected",e[6]===e[21])},m(r,a){K(r,t,a),b(t,n),o||(l=W(t,"click",s),o=!0)},p(r,a){e=r,a&64&&J(t,"selected",e[6]===e[21])},d(r){r&&q(t),o=!1,l()}}}function Qe(e){let t=e[5],n,o=Ce(e);return{c(){o.c(),n=X()},l(l){o.l(l),n=X()},m(l,s){o.m(l,s),K(l,n,s)},p(l,s){s&32&&ee(t,t=l[5])?(o.d(1),o=Ce(l),o.c(),o.m(n.parentNode,n)):o.p(l,s)},d(l){l&&q(n),o.d(l)}}}function Ce(e){let t,n,o,l;function s(){return e[17](e[21])}return{c(){t=T("button"),n=Q(e[21]),this.h()},l(r){t=D(r,"BUTTON",{class:!0});var a=j(t);n=Z(a,e[21]),a.forEach(q),this.h()},h(){F(t,"class","choice-btn svelte-1wa913h"),J(t,"selected",e[5][e[21]-1])},m(r,a){K(r,t,a),b(t,n),o||(l=W(t,"click",s),o=!0)},p(r,a){e=r,a&32&&J(t,"selected",e[5][e[21]-1])},d(r){r&&q(t),o=!1,l()}}}function Ne(e){let t;function n(s,r){return s[4]?Qe:Ye}let o=n(e),l=o(e);return{c(){l.c(),t=X()},l(s){l.l(s),t=X()},m(s,r){l.m(s,r),K(s,t,r)},p(s,r){o===(o=n(s))&&l?l.p(s,r):(l.d(1),l=o(s),l&&(l.c(),l.m(t.parentNode,t)))},d(s){s&&q(t),l.d(s)}}}function ke(e){let t,n="Auto notes",o,l;return{c(){t=T("button"),t.textContent=n},l(s){t=D(s,"BUTTON",{"data-svelte-h":!0}),te(t)!=="svelte-1y6181p"&&(t.textContent=n)},m(s,r){K(s,t,r),o||(l=W(t,"click",function(){Be(e[1])&&e[1].apply(this,arguments)}),o=!0)},p(s,r){e=s},d(s){s&&q(t),o=!1,l()}}}function Ue(e){let t,n,o,l=e[4]?"Notes":"Value",s,r,a,f="âœ–",h,c,m,_,N,g="Change mode",S,p,V,C=ae([1,2,3,4,5,6,7,8,9]),U=[];for(let u=0;u<9;u+=1)U[u]=Ne(we(e,C,u));let i=e[4]&&ke(e);return{c(){t=T("div"),n=T("div"),o=T("h3"),s=Q(l),r=y(),a=T("button"),a.textContent=f,h=y(),c=T("div");for(let u=0;u<9;u+=1)U[u].c();m=y(),_=T("div"),N=T("button"),N.textContent=g,S=y(),i&&i.c(),this.h()},l(u){t=D(u,"DIV",{role:!0,class:!0,style:!0});var d=j(t);n=D(d,"DIV",{class:!0});var $=j(n);o=D($,"H3",{class:!0});var w=j(o);s=Z(w,l),r=E(w),a=D(w,"BUTTON",{"data-svelte-h":!0}),te(a)!=="svelte-15i1wwz"&&(a.textContent=f),w.forEach(q),h=E($),c=D($,"DIV",{class:!0});var R=j(c);for(let I=0;I<9;I+=1)U[I].l(R);R.forEach(q),m=E($),_=D($,"DIV",{});var O=j(_);N=D(O,"BUTTON",{"data-svelte-h":!0}),te(N)!=="svelte-1y20icv"&&(N.textContent=g),S=E(O),i&&i.l(O),O.forEach(q),$.forEach(q),d.forEach(q),this.h()},h(){F(o,"class","title-bar svelte-1wa913h"),F(c,"class","grid svelte-1wa913h"),F(n,"class","contents svelte-1wa913h"),F(t,"role","dialog"),F(t,"class","modal svelte-1wa913h"),re(t,"top",e[2]+"px"),re(t,"left",e[3]+"px")},m(u,d){K(u,t,d),b(t,n),b(n,o),b(o,s),b(o,r),b(o,a),b(n,h),b(n,c);for(let $=0;$<9;$+=1)U[$]&&U[$].m(c,null);b(n,m),b(n,_),b(_,N),b(_,S),i&&i.m(_,null),p||(V=[W(a,"click",Me),W(N,"click",e[8]),W(t,"mousedown",e[11])],p=!0)},p(u,d){if(d&16&&l!==(l=u[4]?"Notes":"Value")&&Ee(s,l),d&240){C=ae([1,2,3,4,5,6,7,8,9]);let $;for($=0;$<9;$+=1){const w=we(u,C,$);U[$]?U[$].p(w,d):(U[$]=Ne(w),U[$].c(),U[$].m(c,null))}for(;$<9;$+=1)U[$].d(1)}u[4]?i?i.p(u,d):(i=ke(u),i.c(),i.m(_,null)):i&&(i.d(1),i=null),d&4&&re(t,"top",u[2]+"px"),d&8&&re(t,"left",u[3]+"px")},d(u){u&&q(t),Ie(U,u),i&&i.d(),p=!1,ye(V)}}}function Ze(e){let t,n,o,l=e[0]&&be(e);return{c(){l&&l.c(),t=X()},l(s){l&&l.l(s),t=X()},m(s,r){l&&l.m(s,r),K(s,t,r),n||(o=[W(window,"keydown",e[9]),W(window,"keyup",e[10]),W(window,"mouseup",e[13]),W(window,"mousemove",e[12])],n=!0)},p(s,[r]){s[0]?l?l.p(s,r):(l=be(s),l.c(),l.m(t.parentNode,t)):l&&(l.d(1),l=null)},i:x,o:x,d(s){s&&q(t),l&&l.d(s),n=!1,ye(o)}}}function xe(e,t,n){let{isOpen:o}=t,{onSelectionUpdated:l}=t,{onComputeCellNotes:s}=t,{initialState:r}=t,{parentBoundingRect:a}=t;const f=w=>{const R=document.body.getBoundingClientRect(),O=300,I=300;let v=w.top-I/2,M=w.right;return M>R.width/2&&(M=w.left-O-w.width),{top:v,left:Math.max(0,M)}};let{top:h,left:c}=f(a),m=r.notes.length>0,_=new Array(9).fill(!1).map((w,R)=>r.notes.includes(R+1)),N=r.value;const g=(w,R)=>{if(R==="notes"){n(5,_[w-1]=!_[w-1],_),n(5,_),n(6,N=void 0),l({notes:_.map((O,I)=>I+1).filter(O=>_[O-1])});return}if(N===w){l({clear:!0}),n(6,N=void 0),n(5,_=[]);return}n(6,N=w),n(5,_=[]),l({value:N}),Me()},S=()=>{n(4,m=!m)},p=w=>{const R="!@#$%^&*(",O=w.getModifierState("Shift");let I;if(I=w.key,I==="Backspace"){l({clear:!0});return}I==="Shift"&&n(4,m=!0),R.includes(I)&&(I=R.indexOf(I)+1),!isNaN(Number(I))&&g(Number(I),O?"notes":"value")},V=w=>{const{key:R}=w;R==="Shift"&&n(4,m=!1)};let C=!1;function U(){C=!0}function i(w){C&&(n(3,c+=w.movementX),n(2,h+=w.movementY))}function u(){C=!1}const d=w=>g(w,"notes"),$=w=>g(w,"value");return e.$$set=w=>{"isOpen"in w&&n(0,o=w.isOpen),"onSelectionUpdated"in w&&n(14,l=w.onSelectionUpdated),"onComputeCellNotes"in w&&n(1,s=w.onComputeCellNotes),"initialState"in w&&n(15,r=w.initialState),"parentBoundingRect"in w&&n(16,a=w.parentBoundingRect)},[o,s,h,c,m,_,N,g,S,p,V,U,i,u,l,r,a,d,$]}class et extends ne{constructor(t){super(),oe(this,t,xe,Ze,ee,{isOpen:0,onSelectionUpdated:14,onComputeCellNotes:1,initialState:15,parentBoundingRect:16})}}const tt=Oe([]),lt=e=>e.effect!==void 0,nt=Oe();function $e(e,t,n){const o=e.slice();return o[13]=t[n],o}function ot(e){let t,n,o,l,s=ae([1,2,3,4,5,6,7,8,9]),r=[];for(let a=0;a<9;a+=1)r[a]=Ve($e(e,s,a));return{c(){t=T("button");for(let a=0;a<9;a+=1)r[a].c();this.h()},l(a){t=D(a,"BUTTON",{class:!0});var f=j(t);for(let h=0;h<9;h+=1)r[h].l(f);f.forEach(q),this.h()},h(){F(t,"class",n=ge("cell notes "+e[2])+" svelte-1bgbz3t")},m(a,f){K(a,t,f);for(let h=0;h<9;h+=1)r[h]&&r[h].m(t,null);e[9](t),o||(l=W(t,"click",e[4]),o=!0)},p(a,f){if(f&105){s=ae([1,2,3,4,5,6,7,8,9]);let h;for(h=0;h<9;h+=1){const c=$e(a,s,h);r[h]?r[h].p(c,f):(r[h]=Ve(c),r[h].c(),r[h].m(t,null))}for(;h<9;h+=1)r[h].d(1)}f&4&&n!==(n=ge("cell notes "+a[2])+" svelte-1bgbz3t")&&F(t,"class",n)},d(a){a&&q(t),Ie(r,a),e[9](null),o=!1,l()}}}function st(e){let t,n=e[0].value+"",o,l,s,r;return{c(){t=T("button"),o=Q(n),this.h()},l(a){t=D(a,"BUTTON",{class:!0});var f=j(t);o=Z(f,n),f.forEach(q),this.h()},h(){F(t,"class","cell value svelte-1bgbz3t"),t.disabled=l=e[0].fixed,J(t,"fixed",e[0].fixed),J(t,"highlight",e[3]!==void 0&&e[3]===e[0].value)},m(a,f){K(a,t,f),b(t,o),e[8](t),s||(r=W(t,"click",e[4]),s=!0)},p(a,f){f&1&&n!==(n=a[0].value+"")&&Ee(o,n),f&1&&l!==(l=a[0].fixed)&&(t.disabled=l),f&1&&J(t,"fixed",a[0].fixed),f&9&&J(t,"highlight",a[3]!==void 0&&a[3]===a[0].value)},d(a){a&&q(t),e[8](null),s=!1,r()}}}function qe(e){let t;return{c(){t=Q(e[13])},l(n){t=Z(n,e[13])},m(n,o){K(n,t,o)},d(n){n&&q(t)}}}function Ve(e){let t,n=e[0].notes.includes(e[13]),o,l=n&&qe(e);return{c(){t=T("div"),l&&l.c(),o=y(),this.h()},l(s){t=D(s,"DIV",{class:!0});var r=j(t);l&&l.l(r),o=E(r),r.forEach(q),this.h()},h(){F(t,"class","note svelte-1bgbz3t"),J(t,"hinted-note",e[5].includes(e[13])),J(t,"hinted-remove-note",e[6].includes(e[13])),J(t,"highlight",e[3]!==void 0&&e[3]===e[13])},m(s,r){K(s,t,r),l&&l.m(t,null),b(t,o)},p(s,r){r&1&&(n=s[0].notes.includes(s[13])),n?l||(l=qe(s),l.c(),l.m(t,o)):l&&(l.d(1),l=null),r&8&&J(t,"highlight",s[3]!==void 0&&s[3]===s[13])},d(s){s&&q(t),l&&l.d()}}}function rt(e){let t;function n(s,r){return s[0].value?st:ot}let o=n(e),l=o(e);return{c(){l.c(),t=X()},l(s){l.l(s),t=X()},m(s,r){l.m(s,r),K(s,t,r)},p(s,[r]){o===(o=n(s))&&l?l.p(s,r):(l.d(1),l=o(s),l&&(l.c(),l.m(t.parentNode,t)))},i:x,o:x,d(s){s&&q(t),l.d(s)}}}function at(e,t,n){let o,l;_e(e,tt,p=>n(10,o=p)),_e(e,nt,p=>n(3,l=p));let{cell:s}=t,{position:r}=t;const a=me(),f=me();let h;const c=()=>{He(et,{initialState:s,onSelectionUpdated:C=>{a("cellUpdate",{cell:s,update:C})},onComputeCellNotes:()=>{f("computeCellNotes",{position:r})},parentBoundingRect:h.getBoundingClientRect()})};let m="";const _=[],N=[];for(const p of o){for(const V of p.cause)V.row===r.row&&V.col===r.col&&(p.type==="naked_pair"?m="naked-pair-hint":m="lone-hint",_.push(...V.notes));if(lt(p))for(const V of p.effect)V.row===r.row&&V.col===r.col&&N.push(...V.notes)}function g(p){ve[p?"unshift":"push"](()=>{h=p,n(1,h)})}function S(p){ve[p?"unshift":"push"](()=>{h=p,n(1,h)})}return e.$$set=p=>{"cell"in p&&n(0,s=p.cell),"position"in p&&n(7,r=p.position)},[s,h,m,l,c,_,N,r,g,S]}class L extends ne{constructor(t){super(),oe(this,t,at,rt,ee,{cell:0,position:7})}}function it(e){let t,n,o,l,s,r,a,f,h,c,m,_,N,g,S,p,V,C,U;return n=new L({props:{position:{row:e[2],col:e[3]},cell:e[4][0]}}),n.$on("cellUpdate",e[7]),n.$on("computeCellNotes",e[8]),l=new L({props:{position:{row:e[2],col:e[3]+1},cell:e[4][1]}}),l.$on("cellUpdate",e[9]),l.$on("computeCellNotes",e[10]),r=new L({props:{position:{row:e[2],col:e[3]+2},cell:e[4][2]}}),r.$on("cellUpdate",e[11]),r.$on("computeCellNotes",e[12]),f=new L({props:{position:{row:e[2]+1,col:e[3]},cell:e[4][3]}}),f.$on("cellUpdate",e[13]),f.$on("computeCellNotes",e[14]),c=new L({props:{position:{row:e[2]+1,col:e[3]+1},cell:e[4][4]}}),c.$on("cellUpdate",e[15]),c.$on("computeCellNotes",e[16]),_=new L({props:{position:{row:e[2]+1,col:e[3]+2},cell:e[4][5]}}),_.$on("cellUpdate",e[17]),_.$on("computeCellNotes",e[18]),g=new L({props:{position:{row:e[2]+2,col:e[3]},cell:e[4][6]}}),g.$on("cellUpdate",e[19]),g.$on("computeCellNotes",e[20]),p=new L({props:{position:{row:e[2]+2,col:e[3]+1},cell:e[4][7]}}),p.$on("cellUpdate",e[21]),p.$on("computeCellNotes",e[22]),C=new L({props:{position:{row:e[2]+2,col:e[3]+2},cell:e[4][8]}}),C.$on("cellUpdate",e[23]),C.$on("computeCellNotes",e[24]),{c(){t=T("div"),B(n.$$.fragment),o=y(),B(l.$$.fragment),s=y(),B(r.$$.fragment),a=y(),B(f.$$.fragment),h=y(),B(c.$$.fragment),m=y(),B(_.$$.fragment),N=y(),B(g.$$.fragment),S=y(),B(p.$$.fragment),V=y(),B(C.$$.fragment),this.h()},l(i){t=D(i,"DIV",{class:!0});var u=j(t);H(n.$$.fragment,u),o=E(u),H(l.$$.fragment,u),s=E(u),H(r.$$.fragment,u),a=E(u),H(f.$$.fragment,u),h=E(u),H(c.$$.fragment,u),m=E(u),H(_.$$.fragment,u),N=E(u),H(g.$$.fragment,u),S=E(u),H(p.$$.fragment,u),V=E(u),H(C.$$.fragment,u),u.forEach(q),this.h()},h(){F(t,"class","cell-grid svelte-1nq1cl9"),J(t,"borderLeftRight",e[0]),J(t,"borderTopBottom",e[1])},m(i,u){K(i,t,u),G(n,t,null),b(t,o),G(l,t,null),b(t,s),G(r,t,null),b(t,a),G(f,t,null),b(t,h),G(c,t,null),b(t,m),G(_,t,null),b(t,N),G(g,t,null),b(t,S),G(p,t,null),b(t,V),G(C,t,null),U=!0},p:x,i(i){U||(P(n.$$.fragment,i),P(l.$$.fragment,i),P(r.$$.fragment,i),P(f.$$.fragment,i),P(c.$$.fragment,i),P(_.$$.fragment,i),P(g.$$.fragment,i),P(p.$$.fragment,i),P(C.$$.fragment,i),U=!0)},o(i){z(n.$$.fragment,i),z(l.$$.fragment,i),z(r.$$.fragment,i),z(f.$$.fragment,i),z(c.$$.fragment,i),z(_.$$.fragment,i),z(g.$$.fragment,i),z(p.$$.fragment,i),z(C.$$.fragment,i),U=!1},d(i){i&&q(t),A(n),A(l),A(r),A(f),A(c),A(_),A(g),A(p),A(C)}}}function ut(e,t,n){let{position:o}=t,{grid:l}=t;const s=[1,4,7].includes(o),r=[3,4,5].includes(o),a=3*Math.floor(o/3),f=3*(o%3),h=Ge(o,l);function c(v){k.call(this,e,v)}function m(v){k.call(this,e,v)}function _(v){k.call(this,e,v)}function N(v){k.call(this,e,v)}function g(v){k.call(this,e,v)}function S(v){k.call(this,e,v)}function p(v){k.call(this,e,v)}function V(v){k.call(this,e,v)}function C(v){k.call(this,e,v)}function U(v){k.call(this,e,v)}function i(v){k.call(this,e,v)}function u(v){k.call(this,e,v)}function d(v){k.call(this,e,v)}function $(v){k.call(this,e,v)}function w(v){k.call(this,e,v)}function R(v){k.call(this,e,v)}function O(v){k.call(this,e,v)}function I(v){k.call(this,e,v)}return e.$$set=v=>{"position"in v&&n(5,o=v.position),"grid"in v&&n(6,l=v.grid)},[s,r,a,f,h,o,l,c,m,_,N,g,S,p,V,C,U,i,u,d,$,w,R,O,I]}class Y extends ne{constructor(t){super(),oe(this,t,ut,it,ee,{position:5,grid:6})}}function ft(e){let t,n,o,l,s,r,a,f,h,c,m,_,N,g,S,p,V,C,U;return n=new Y({props:{position:0,grid:e[0]}}),n.$on("cellUpdate",e[1]),n.$on("computeCellNotes",e[2]),l=new Y({props:{position:1,grid:e[0]}}),l.$on("cellUpdate",e[3]),l.$on("computeCellNotes",e[4]),r=new Y({props:{position:2,grid:e[0]}}),r.$on("cellUpdate",e[5]),r.$on("computeCellNotes",e[6]),f=new Y({props:{position:3,grid:e[0]}}),f.$on("cellUpdate",e[7]),f.$on("computeCellNotes",e[8]),c=new Y({props:{position:4,grid:e[0]}}),c.$on("cellUpdate",e[9]),c.$on("computeCellNotes",e[10]),_=new Y({props:{position:5,grid:e[0]}}),_.$on("cellUpdate",e[11]),_.$on("computeCellNotes",e[12]),g=new Y({props:{position:6,grid:e[0]}}),g.$on("cellUpdate",e[13]),g.$on("computeCellNotes",e[14]),p=new Y({props:{position:7,grid:e[0]}}),p.$on("cellUpdate",e[15]),p.$on("computeCellNotes",e[16]),C=new Y({props:{position:8,grid:e[0]}}),C.$on("cellUpdate",e[17]),C.$on("computeCellNotes",e[18]),{c(){t=T("div"),B(n.$$.fragment),o=y(),B(l.$$.fragment),s=y(),B(r.$$.fragment),a=y(),B(f.$$.fragment),h=y(),B(c.$$.fragment),m=y(),B(_.$$.fragment),N=y(),B(g.$$.fragment),S=y(),B(p.$$.fragment),V=y(),B(C.$$.fragment),this.h()},l(i){t=D(i,"DIV",{class:!0});var u=j(t);H(n.$$.fragment,u),o=E(u),H(l.$$.fragment,u),s=E(u),H(r.$$.fragment,u),a=E(u),H(f.$$.fragment,u),h=E(u),H(c.$$.fragment,u),m=E(u),H(_.$$.fragment,u),N=E(u),H(g.$$.fragment,u),S=E(u),H(p.$$.fragment,u),V=E(u),H(C.$$.fragment,u),u.forEach(q),this.h()},h(){F(t,"class","main-grid svelte-vli9ua")},m(i,u){K(i,t,u),G(n,t,null),b(t,o),G(l,t,null),b(t,s),G(r,t,null),b(t,a),G(f,t,null),b(t,h),G(c,t,null),b(t,m),G(_,t,null),b(t,N),G(g,t,null),b(t,S),G(p,t,null),b(t,V),G(C,t,null),U=!0},p(i,[u]){const d={};u&1&&(d.grid=i[0]),n.$set(d);const $={};u&1&&($.grid=i[0]),l.$set($);const w={};u&1&&(w.grid=i[0]),r.$set(w);const R={};u&1&&(R.grid=i[0]),f.$set(R);const O={};u&1&&(O.grid=i[0]),c.$set(O);const I={};u&1&&(I.grid=i[0]),_.$set(I);const v={};u&1&&(v.grid=i[0]),g.$set(v);const M={};u&1&&(M.grid=i[0]),p.$set(M);const le={};u&1&&(le.grid=i[0]),C.$set(le)},i(i){U||(P(n.$$.fragment,i),P(l.$$.fragment,i),P(r.$$.fragment,i),P(f.$$.fragment,i),P(c.$$.fragment,i),P(_.$$.fragment,i),P(g.$$.fragment,i),P(p.$$.fragment,i),P(C.$$.fragment,i),U=!0)},o(i){z(n.$$.fragment,i),z(l.$$.fragment,i),z(r.$$.fragment,i),z(f.$$.fragment,i),z(c.$$.fragment,i),z(_.$$.fragment,i),z(g.$$.fragment,i),z(p.$$.fragment,i),z(C.$$.fragment,i),U=!1},d(i){i&&q(t),A(n),A(l),A(r),A(f),A(c),A(_),A(g),A(p),A(C)}}}function ct(e,t,n){let{grid:o}=t;function l(d){k.call(this,e,d)}function s(d){k.call(this,e,d)}function r(d){k.call(this,e,d)}function a(d){k.call(this,e,d)}function f(d){k.call(this,e,d)}function h(d){k.call(this,e,d)}function c(d){k.call(this,e,d)}function m(d){k.call(this,e,d)}function _(d){k.call(this,e,d)}function N(d){k.call(this,e,d)}function g(d){k.call(this,e,d)}function S(d){k.call(this,e,d)}function p(d){k.call(this,e,d)}function V(d){k.call(this,e,d)}function C(d){k.call(this,e,d)}function U(d){k.call(this,e,d)}function i(d){k.call(this,e,d)}function u(d){k.call(this,e,d)}return e.$$set=d=>{"grid"in d&&n(0,o=d.grid)},[o,l,s,r,a,f,h,c,m,_,N,g,S,p,V,C,U,i,u]}class Ct extends ne{constructor(t){super(),oe(this,t,ct,ft,ee,{grid:0})}}function Se(e){let t,n,o="grid has errors",l,s,r="grid is filled",a,f,h="grid is valid",c,m,_="grid has solutions",N,g,S=e[1]?"Has errors":"No errors",p,V,C,U=e[2]?"Is filled":"Not filled",i,u,d,$=e[3]?"Is valid":"Not valid",w,R,O,I;return{c(){t=T("div"),n=T("div"),n.textContent=o,l=y(),s=T("div"),s.textContent=r,a=y(),f=T("div"),f.textContent=h,c=y(),m=T("div"),m.textContent=_,N=y(),g=T("div"),p=Q(S),V=y(),C=T("div"),i=Q(U),u=y(),d=T("div"),w=Q($),R=y(),O=T("div"),I=Q(e[4]),this.h()},l(v){t=D(v,"DIV",{class:!0});var M=j(t);n=D(M,"DIV",{"data-svelte-h":!0}),te(n)!=="svelte-1hlqbal"&&(n.textContent=o),l=E(M),s=D(M,"DIV",{"data-svelte-h":!0}),te(s)!=="svelte-ekf37s"&&(s.textContent=r),a=E(M),f=D(M,"DIV",{"data-svelte-h":!0}),te(f)!=="svelte-16e0vl8"&&(f.textContent=h),c=E(M),m=D(M,"DIV",{"data-svelte-h":!0}),te(m)!=="svelte-1tjrozg"&&(m.textContent=_),N=E(M),g=D(M,"DIV",{class:!0});var le=j(g);p=Z(le,S),le.forEach(q),V=E(M),C=D(M,"DIV",{class:!0});var de=j(C);i=Z(de,U),de.forEach(q),u=E(M),d=D(M,"DIV",{class:!0});var he=j(d);w=Z(he,$),he.forEach(q),R=E(M),O=D(M,"DIV",{class:!0});var pe=j(O);I=Z(pe,e[4]),pe.forEach(q),M.forEach(q),this.h()},h(){F(g,"class","status svelte-1csoeu4"),J(g,"red",e[1]),F(C,"class","status svelte-1csoeu4"),J(C,"red",!e[2]),F(d,"class","status svelte-1csoeu4"),J(d,"red",!e[3]),F(O,"class","status svelte-1csoeu4"),J(O,"red",e[4]!=="unique"),F(t,"class","grid-status svelte-1csoeu4")},m(v,M){K(v,t,M),b(t,n),b(t,l),b(t,s),b(t,a),b(t,f),b(t,c),b(t,m),b(t,N),b(t,g),b(g,p),b(t,V),b(t,C),b(C,i),b(t,u),b(t,d),b(d,w),b(t,R),b(t,O),b(O,I)},p:x,d(v){v&&q(t)}}}function dt(e){let t=e[0],n,o=Se(e);return{c(){o.c(),n=X()},l(l){o.l(l),n=X()},m(l,s){o.m(l,s),K(l,n,s)},p(l,[s]){s&1&&ee(t,t=l[0])?(o.d(1),o=Se(l),o.c(),o.m(n.parentNode,n)):o.p(l,s)},i:x,o:x,d(l){l&&q(n),o.d(l)}}}function ht(e,t,n){let{grid:o}=t,l=ie(o),s=se(o),r=ce(o),a=Je(o);return e.$$set=f=>{"grid"in f&&n(0,o=f.grid)},[o,l,s,r,a]}class Nt extends ne{constructor(t){super(),oe(this,t,ht,dt,ee,{grid:0})}}export{Nt as G,Ct as S,bt as a,wt as b,Je as c,Te as d,nt as e,je as f,Ke as g,ie as h,se as i,ce as j,Fe as m,Ae as r,tt as s,gt as u,We as w};
