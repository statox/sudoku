import{t as q,a as z}from"./index.c1f2e7a6.js";import{C as D,V as m}from"./scheduler.e5f9f430.js";import{w as b}from"./paths.b7037507.js";function K(e){return(e==null?void 0:e.length)!==void 0?e:Array.from(e)}function N(e,s){q(e,1,1,()=>{s.delete(e.key)})}function O(e,s,t,f,u,h,o,g,i,L,M,V){let a=e.length,w=h.length,d=a;const x={};for(;d--;)x[e[d].key]=d;const y=[],B=new Map,C=new Map,S=[];for(d=w;d--;){const n=V(u,h,d),c=t(n);let l=o.get(c);l?f&&S.push(()=>l.p(n,s)):(l=L(c,n),l.c()),B.set(c,y[d]=l),c in x&&C.set(c,Math.abs(d-x[c]))}const $=new Set,A=new Set;function j(n){z(n,1),n.m(g,M),o.set(n.key,n),M=n.first,w--}for(;a&&w;){const n=y[w-1],c=e[a-1],l=n.key,p=c.key;n===c?(M=n.first,a--,w--):B.has(p)?!o.has(l)||$.has(l)?j(n):A.has(p)?a--:C.get(l)>C.get(p)?(A.add(l),j(n)):($.add(p),a--):(i(c,o),a--)}for(;a--;){const n=e[a];B.has(n.key)||i(n,o)}for(;w;)j(y[w-1]);return D(S),y}function P(e,s){const t={},f={},u={$$scope:1};let h=e.length;for(;h--;){const o=e[h],g=s[h];if(g){for(const i in o)i in g||(f[i]=1);for(const i in g)u[i]||(t[i]=g[i],u[i]=1);e[h]=g}else for(const i in o)u[i]=1}for(const o in f)o in t||(t[o]=void 0);return t}function Q(e){return typeof e=="object"&&e!==null?e:{}}const _=b(!1),k=b(null),r=b([]),E=b(null);function F(e=1){var f,u;const s=m(r).length,t=m(r)[s-1];return m(k)||(f=t==null?void 0:t.callbacks)!=null&&f.onBeforeClose&&((u=t==null?void 0:t.callbacks)==null?void 0:u.onBeforeClose())===!1?!1:(m(_)&&s>0&&k.set(!0),_.set(!1),E.set("pop"),G(e),!0)}function R(){return F(1)}function T(e,s,t){m(k)||(E.set("push"),m(_)&&m(r).length&&k.set(!0),_.set(!1),t!=null&&t.replace?r.update(f=>[...f.slice(0,f.length-1),{component:e,props:s}]):r.update(f=>[...f,{component:e,props:s}]))}function G(e=1){r.update(s=>s.slice(0,Math.max(0,s.length-e)))}export{K as a,Q as b,F as c,R as d,_ as e,T as f,P as g,r as m,N as o,k as t,O as u};
